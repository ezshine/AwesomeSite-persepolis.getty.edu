!function(t){function e(e){for(var s,r,o=e[0],l=e[1],c=e[2],d=0,u=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&u.push(a[r][0]),a[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);for(h&&h(e);u.length;)u.shift()();return n.push.apply(n,c||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],s=!0,o=1;o<i.length;o++){var l=i[o];0!==a[l]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=i[0]))}return t}var s={},a={app:0},n=[];function r(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(t){var e=[],i=a[t];if(0!==i)if(i)e.push(i[2]);else{var s=new Promise((function(e,s){i=a[t]=[e,s]}));e.push(i[2]=s);var n,o=document.createElement("script");o.charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.src=function(t){return r.p+"version/1654001264885/js/"+t+".js"}(t);var l=new Error;n=function(e){o.onerror=o.onload=null,clearTimeout(c);var i=a[t];if(0!==i){if(i){var s=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+s+": "+n+")",l.name="ChunkLoadError",l.type=s,l.request=n,i[1](l)}a[t]=void 0}};var c=setTimeout((function(){n({type:"timeout",target:o})}),12e4);o.onerror=o.onload=n,document.head.appendChild(o)}return Promise.all(e)},r.m=t,r.c=s,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(i,s,function(e){return t[e]}.bind(null,s));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r.oe=function(t){throw console.error(t),t};var o=this.webpackJsonp=this.webpackJsonp||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var h=l;n.push([503,"vendors"]),i()}([,,,,,,,,function(t){t.exports=JSON.parse('{"mediaQueries":{"XSMALL":"\'(max-width: 639px)\'","SMALL":"\'(min-width: 640px)\'","MEDIUM":"\'(min-width: 920px)\'","LARGE":"\'(min-width: 1200px)\'","SMALL_INVERTED":"\'(max-width: 919.9px)\'"},"deviceState":{"XSMALL":0,"SMALL":1,"MEDIUM":2,"LARGE":3}}')},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){t.exports={icon:"icon-1RPHevu"}},,function(t,e,i){t.exports={"horizontal-page":"horizontal-page-1nbNioM",horizontalPage:"horizontal-page-1nbNioM","scroll-wrapper":"scroll-wrapper-sLmcgNp",scrollWrapper:"scroll-wrapper-sLmcgNp",proxy:"proxy-3QQ4UG2",content:"content-2JKvRsl"}},function(t,e,i){t.exports={"vertical-page":"vertical-page-2xOYB8x",verticalPage:"vertical-page-2xOYB8x","scroll-wrapper":"scroll-wrapper--RPiZGV",scrollWrapper:"scroll-wrapper--RPiZGV",content:"content-2EMXr9m"}},function(t,e,i){t.exports={"scroll-page":"scroll-page-2So9-6H",scrollPage:"scroll-page-2So9-6H","hide-tracks":"hide-tracks-1XEOt0N",hideTracks:"hide-tracks-1XEOt0N",progress:"progress-yTcqVzB"}},function(t,e,i){t.exports={"ambient-loop":"ambient-loop-2XVNTdB",ambientLoop:"ambient-loop-2XVNTdB"}},function(t,e,i){t.exports={outline:"outline-2EsOnEK",label:"label-17LwGIN",icon:"icon-2urSc4s",hover:"hover-3DWI60R","is-hidden":"is-hidden-3HUbNaE",isHidden:"is-hidden-3HUbNaE","is-icon-only":"is-icon-only-16hRtdm",isIconOnly:"is-icon-only-16hRtdm","is-filled":"is-filled-12yRok8",isFilled:"is-filled-12yRok8","is-reduced-motion":"is-reduced-motion-2F8FRYE",isReducedMotion:"is-reduced-motion-2F8FRYE","is-high-contrast":"is-high-contrast-1xUReTd",isHighContrast:"is-high-contrast-1xUReTd",background:"background-1utOEeS","primary-button":"primary-button-3IxDjZo",primaryButton:"primary-button-3IxDjZo","is-parent-hovered":"is-parent-hovered-1ShDWs8",isParentHovered:"is-parent-hovered-1ShDWs8","small-alternate-theme":"small-alternate-theme-14lv-fQ",smallAlternateTheme:"small-alternate-theme-14lv-fQ","is-expanding":"is-expanding-34MRBOa",isExpanding:"is-expanding-34MRBOa"}},function(t,e,i){t.exports={"switch-drag-input":"switch-drag-input-XSusmPS",switchDragInput:"switch-drag-input-XSusmPS",bounds:"bounds-1dXtySe",option:"option-3NV3whZ",active:"active-2Ri4VMw",hover:"hover-2SbL_5g",drag:"drag-2ZXhHQ6","is-dragging":"is-dragging-3LGQ_W3",isDragging:"is-dragging-3LGQ_W3"}},function(t,e,i){t.exports={"bull-capital":"bull-capital-_WtRv22",bullCapital:"bull-capital-_WtRv22",container:"container-2hXhbJL",title:"title-3HefUWD",controls:"controls-1lWCWSJ",description:"description-2zJCHz1",cta:"cta-3_IqFmL",chevron:"chevron-3Qyl3CP","is-open":"is-open-1UDfXhl",isOpen:"is-open-1UDfXhl","arrow-down":"arrow-down-XLuZhQh",arrowDown:"arrow-down-XLuZhQh","has-switch":"has-switch-3iXGjlz",hasSwitch:"has-switch-3iXGjlz"}},function(t,e,i){t.exports={"color-overlay":"color-overlay-3MCN9i6",colorOverlay:"color-overlay-3MCN9i6",overlay:"overlay-3rFZIyL"}},function(t,e,i){t.exports={hover:"hover-1CED_oc","play-audio-button":"play-audio-button-N4P2cYp",playAudioButton:"play-audio-button-N4P2cYp",icon:"icon-1kru7dz",border:"border-u71sq4r",inside:"inside-1NeJg4R","icon-wrapper":"icon-wrapper-2O-V_bm",iconWrapper:"icon-wrapper-2O-V_bm",circle:"circle-30Kp4Jj",tag:"tag-3OitAQx",label:"label-2IUQCnn",copy:"copy-1Al3BTb",ripple:"ripple-2cdm_c8"}},function(t,e,i){t.exports={title:"title-1hyVngw","editorial-call-to-action":"editorial-call-to-action-1ctboPH",editorialCallToAction:"editorial-call-to-action-1ctboPH",chevron:"chevron-1MaaaCa","is-open":"is-open-1SZ2QDD",isOpen:"is-open-1SZ2QDD",description:"description-2n1jz3V","play-button":"play-button-3XKIkoJ",playButton:"play-button-3XKIkoJ","read-more-trigger":"read-more-trigger-1SOX8sc",readMoreTrigger:"read-more-trigger-1SOX8sc","image-wrapper":"image-wrapper-2toc2Hv",imageWrapper:"image-wrapper-2toc2Hv",button:"button-GjPN8L_","mobile-remove-title-break":"mobile-remove-title-break-ejRYWn7",mobileRemoveTitleBreak:"mobile-remove-title-break-ejRYWn7",shadow:"shadow-1OG1BEB","button-wrapper":"button-wrapper-1QJd6PX",buttonWrapper:"button-wrapper-1QJd6PX"}},function(t,e,i){},function(t,e,i){t.exports={"editorial-hero":"editorial-hero-1Va76Kt",editorialHero:"editorial-hero-1Va76Kt",image:"image-3nZULbw",content:"content-2lOLcPg","title-wrapper":"title-wrapper-1cwMq3t",titleWrapper:"title-wrapper-1cwMq3t",title:"title-dAvLJSy",subtitle:"subtitle-EajClBI",text:"text-3u7ZKVd"}},function(t,e,i){t.exports={"editorial-image":"editorial-image-32pELaA",editorialImage:"editorial-image-32pELaA",background:"background-3tYW-9l","image-wrapper":"image-wrapper-3DElV5F",imageWrapper:"image-wrapper-3DElV5F","open-detail-button":"open-detail-button-31vVxBx",openDetailButton:"open-detail-button-31vVxBx","is-padded":"is-padded-38RmtiV",isPadded:"is-padded-38RmtiV",image:"image-30GkfuC","image-caption":"image-caption-mXEBbWQ",imageCaption:"image-caption-mXEBbWQ",caption:"caption-3gapuMW",description:"description-3tV8rAh"}},function(t,e,i){t.exports={"editorial-text":"editorial-text-3smQLgh",editorialText:"editorial-text-3smQLgh",intro:"intro-23q5axo",text:"text--_c_Cc0","align-bottom":"align-bottom-3oj6hs_",alignBottom:"align-bottom-3oj6hs_","margin-right":"margin-right-2y4mjjC",marginRight:"margin-right-2y4mjjC"}},function(t,e,i){t.exports={"editorial-content":"editorial-content-3n7xZDh",editorialContent:"editorial-content-3n7xZDh",horizontal:"horizontal-2YDWqom",vertical:"vertical-1akjn6w"}},function(t,e,i){t.exports={"solid-background":"solid-background-2WAlbIP",solidBackground:"solid-background-2WAlbIP"}},function(t,e,i){t.exports={"editorial-overlay":"editorial-overlay-3qSiksP",editorialOverlay:"editorial-overlay-3qSiksP","scroll-wrapper":"scroll-wrapper-3MqmU08",scrollWrapper:"scroll-wrapper-3MqmU08"}},function(t,e,i){t.exports={editorial:"editorial-PFxk7HM","close-button":"close-button-3gq6HaT",closeButton:"close-button-3gq6HaT"}},function(t,e,i){t.exports={subtitles:"subtitles-3znt50t"}},function(t,e,i){t.exports={inscription:"inscription-BSgQE8E",subtitle:"subtitle-2OVVh7O"}},function(t,e,i){t.exports={container:"container-hDOSuug",hotspot:"hotspot-Em4E-im","path-rotation":"path-rotation-2cTAdcf",pathRotation:"path-rotation-2cTAdcf",instructions:"instructions-3UfjHZg",image:"image-2ZZkUT4","circle-wrapper":"circle-wrapper-27m-LF7",circleWrapper:"circle-wrapper-27m-LF7",circle:"circle-1308lxi",auto:"auto-2BMrGEi",copy:"copy-3sZpISU","is-open":"is-open-3MuxmT6",isOpen:"is-open-3MuxmT6","img-open":"img-open-1Y6tYuq",imgOpen:"img-open-1Y6tYuq",close:"close-3epftmB","past-present-hotspot":"past-present-hotspot-3_CEEE8",pastPresentHotspot:"past-present-hotspot-3_CEEE8","is-reduced-motion":"is-reduced-motion-3vtTN6_",isReducedMotion:"is-reduced-motion-3vtTN6_","zoomed-description":"zoomed-description-2qKDv_z",zoomedDescription:"zoomed-description-2qKDv_z"}},function(t,e,i){t.exports={"secondary-hotspot-button":"secondary-hotspot-button-2jGIaUC",secondaryHotspotButton:"secondary-hotspot-button-2jGIaUC",circle:"circle-1JdINwW",image:"image-LzSr_Ty",ornament:"ornament-2D6rYzD","is-active":"is-active-2uGwTjR",isActive:"is-active-2uGwTjR","image-wrapper":"image-wrapper-2UNA-E-",imageWrapper:"image-wrapper-2UNA-E-"}},function(t,e,i){t.exports={"relief-hotspot":"relief-hotspot-1RwO0MI",reliefHotspot:"relief-hotspot-1RwO0MI"}},function(t,e,i){t.exports={"royal-life-detail":"royal-life-detail-37roGmG",royalLifeDetail:"royal-life-detail-37roGmG",image:"image-1SVEQ7x",title:"title-2sDn4Uq",description:"description-3hiuJhc",caption:"caption-rCiNsVN"}},function(t,e,i){t.exports={ring:"ring-2GdbuTU",effect:"effect-1GlwszA","primary-hotspot-button":"primary-hotspot-button-KbOp_zn",primaryHotspotButton:"primary-hotspot-button-KbOp_zn","is-active":"is-active-sigzCdW",isActive:"is-active-sigzCdW"}},function(t,e,i){t.exports={"royal-life":"royal-life-22W0EzU",royalLife:"royal-life-22W0EzU","hotspot-icon":"hotspot-icon-37reyJb",hotspotIcon:"hotspot-icon-37reyJb",hotspot:"hotspot-WBegeoc","is-current":"is-current-17F6zHY",isCurrent:"is-current-17F6zHY","active-hotspots":"active-hotspots-1mznQwz",activeHotspots:"active-hotspots-1mznQwz",image:"image-2HrR144"}},function(t,e,i){t.exports={"sands-of-time-hotspot":"sands-of-time-hotspot-1UhNbiG",sandsOfTimeHotspot:"sands-of-time-hotspot-1UhNbiG",hotspot:"hotspot-2gGHit4","hotspot-label":"hotspot-label-ykqM4Ew",hotspotLabel:"hotspot-label-ykqM4Ew",subtitle:"subtitle-1xzRXXM"}},function(t,e,i){t.exports={"indicator-outline":"indicator-outline-EzsG1_0",indicatorOutline:"indicator-outline-EzsG1_0","is-focused":"is-focused-1zj0jfT",isFocused:"is-focused-1zj0jfT"}},function(t,e,i){t.exports={"scroll-indicator":"scroll-indicator-1tlYU29",scrollIndicator:"scroll-indicator-1tlYU29",arrow:"arrow-3unA88X",wrapper:"wrapper-1DA33WM",label:"label-1iPewbv","touch-indicator":"touch-indicator-241_G4X",touchIndicator:"touch-indicator-241_G4X"}},function(t,e,i){t.exports={"chapter-number":"chapter-number-3wDq8Nh",chapterNumber:"chapter-number-3wDq8Nh","number-ornament":"number-ornament-33lPsnC",numberOrnament:"number-ornament-33lPsnC","is-active":"is-active-33zBgmz",isActive:"is-active-33zBgmz"}},function(t,e,i){t.exports={"scene-intro":"scene-intro-1t_wbHZ",sceneIntro:"scene-intro-1t_wbHZ",background:"background-m7SFhKE","title-plane":"title-plane-2F8q3NQ",titlePlane:"title-plane-2F8q3NQ",number:"number-2D6fAVv",content:"content-3PpSEve",title:"title-1rWsb04",description:"description-3OdNUjd","legible-overlay":"legible-overlay-1V67qGP",legibleOverlay:"legible-overlay-1V67qGP",bottom:"bottom-1-zORG9",diamond:"diamond-1c5Er6t"}},function(t,e,i){t.exports={circle:"circle-3zo3kRs","secondary-scroll-indicator":"secondary-scroll-indicator-10x2XEH",secondaryScrollIndicator:"secondary-scroll-indicator-10x2XEH",label:"label-1eBOa-H"}},function(t,e,i){t.exports={"scene-outro":"scene-outro-yQqm9rL",sceneOutro:"scene-outro-yQqm9rL",title:"title-klTf-Wi",scroll:"scroll-3o8TwqR",rhombus:"rhombus-3ZGJgoH"}},function(t,e,i){t.exports={hover:"hover-zTTfyuL",ballon:"ballon-3k2OTVr",tooltip:"tooltip-3IoNwvh",label:"label-_458ABX"}},function(t,e,i){t.exports={outline:"outline-3F2GcOt","bullet-button":"bullet-button-3St6zEx",bulletButton:"bullet-button-3St6zEx",button:"button-3CcsruD","is-active":"is-active-1VIhURS",isActive:"is-active-1VIhURS",inside:"inside-3YXKSN5","tooltip-wrapper":"tooltip-wrapper-9-i_GK_",tooltipWrapper:"tooltip-wrapper-9-i_GK_"}},function(t,e,i){t.exports={"bullet-navigation":"bullet-navigation-2jWhnrm",bulletNavigation:"bullet-navigation-2jWhnrm",list:"list-1WFE2tQ",bullet:"bullet-3R3-nIL","bullet-ring-wrapper":"bullet-ring-wrapper-gGSn_Zf",bulletRingWrapper:"bullet-ring-wrapper-gGSn_Zf","bullet-ring":"bullet-ring-1nLUh0H",bulletRing:"bullet-ring-1nLUh0H"}},function(t,e,i){t.exports={"about-content":"about-content-32jPbl4",aboutContent:"about-content-32jPbl4",heading:"heading-FGFUqJR",subheading:"subheading-13ldnpu","share-wrapper":"share-wrapper-3eKZrGE",shareWrapper:"share-wrapper-3eKZrGE","tooltip-wrapper":"tooltip-wrapper-78b6oXy",tooltipWrapper:"tooltip-wrapper-78b6oXy",link:"link-2phT48F",list:"list-2c4eSRP","col-list":"col-list-BLigq5E",colList:"col-list-BLigq5E","col-item":"col-item-zqs5enQ",colItem:"col-item-zqs5enQ",item:"item-3C_b5Gy",wrapper:"wrapper-hXKbos6","content-item":"content-item-2Q_Idpr",contentItem:"content-item-2Q_Idpr","item-label":"item-label-Z6gEemR",itemLabel:"item-label-Z6gEemR","item-description":"item-description-YDuxlfm",itemDescription:"item-description-YDuxlfm",copy:"copy-ZjOAjSG",col:"col-C0hvSNY","item-title":"item-title-XsHEfco",itemTitle:"item-title-XsHEfco"}},function(t,e,i){t.exports={"about-outro":"about-outro-22szAV8",aboutOutro:"about-outro-22szAV8",scroll:"scroll-3NXC8tK"}},function(t,e,i){t.exports={"aria-live":"aria-live-2OFBfxQ",ariaLive:"aria-live-2OFBfxQ"}},function(t,e,i){t.exports={"aria-live-narration":"aria-live-narration-CVDFxJc",ariaLiveNarration:"aria-live-narration-CVDFxJc"}},function(t,e,i){t.exports={"previous-scene":"previous-scene-n0Xfqjl",previousScene:"previous-scene-n0Xfqjl",title:"title-3Qs4076","back-button":"back-button-2sIYsdW",backButton:"back-button-2sIYsdW"}},function(t,e,i){t.exports={"experience-page":"experience-page-2mSzYKX",experiencePage:"experience-page-2mSzYKX","scroll-wrapper":"scroll-wrapper-3oKmE_Q",scrollWrapper:"scroll-wrapper-3oKmE_Q",content:"content-1ftdaK4"}},function(t,e,i){t.exports={"canvas-container":"canvas-container-DXk4QS-",canvasContainer:"canvas-container-DXk4QS-",scroll:"scroll-jGbHbrk","scroll-content":"scroll-content-38n0doD",scrollContent:"scroll-content-38n0doD","scroll-indicator":"scroll-indicator-3iORZkM",scrollIndicator:"scroll-indicator-3iORZkM",texts:"texts-1khO3t4"}},function(t,e,i){},function(t,e,i){t.exports={"art-detail-image":"art-detail-image-3i-sfmH",artDetailImage:"art-detail-image-3i-sfmH",thumbnail:"thumbnail-1_P-L5v",image:"image-3bzEscN","zoom-wrapper":"zoom-wrapper-2jKyUez",zoomWrapper:"zoom-wrapper-2jKyUez",bounds:"bounds-3_jvj-q","image-wrapper":"image-wrapper-3o-N3v5",imageWrapper:"image-wrapper-3o-N3v5",label:"label-2ji_vQc",position:"position-3i0_ZsB","position-image":"position-image-UGsh_tT",positionImage:"position-image-UGsh_tT",box:"box-13RjNzl"}},function(t,e,i){t.exports={"art-detail-video":"art-detail-video-3AFaBZ2",artDetailVideo:"art-detail-video-3AFaBZ2"}},function(t,e,i){t.exports={"art-detail-modal":"art-detail-modal-1mzVGNS",artDetailModal:"art-detail-modal-1mzVGNS",scroll:"scroll-1uRln__",container:"container-3wNN9kZ",title:"title-MmGiezM","arrow-down":"arrow-down-3IooCqj",arrowDown:"arrow-down-3IooCqj",description:"description-12qvKqB",caption:"caption-10BurCE","caption-content":"caption-content-277wbH-",captionContent:"caption-content-277wbH-",detail:"detail-2fudgcX",image:"image-3W4_oj4"}},function(t,e,i){t.exports={"loader-progress-ring":"loader-progress-ring-9Ie1e28",loaderProgressRing:"loader-progress-ring-9Ie1e28","path-rotation":"path-rotation-28Nuke7",pathRotation:"path-rotation-28Nuke7",percentage:"percentage-3KLGBOT"}},function(t,e,i){t.exports={"site-preloader":"site-preloader-2mpvgv5",sitePreloader:"site-preloader-2mpvgv5",sound:"sound-83CvZuU"}},function(t,e,i){t.exports={"site-header":"site-header-2jMGSdF",siteHeader:"site-header-2jMGSdF","logo-wrapper":"logo-wrapper-3sskOo7",logoWrapper:"logo-wrapper-3sskOo7",getty:"getty-2j7hHvE",navigation:"navigation-13_muhw","menu-button":"menu-button-1yxJvOi",menuButton:"menu-button-1yxJvOi","menu-button-highlight":"menu-button-highlight-2pHUEWj",menuButtonHighlight:"menu-button-highlight-2pHUEWj","is-highlight":"is-highlight-27iFZ5u",isHighlight:"is-highlight-27iFZ5u","current-scene-name":"current-scene-name-2UXQhqu",currentSceneName:"current-scene-name-2UXQhqu",label:"label-2Hy-hBF",close:"close-1CW5nGs","is-clickable":"is-clickable-2CIXne2",isClickable:"is-clickable-2CIXne2","is-active":"is-active-3Cr23xk",isActive:"is-active-3Cr23xk","is-hovered":"is-hovered-2L8WmVw",isHovered:"is-hovered-2L8WmVw"}},function(t,e,i){t.exports={"canvas-container":"canvas-container-2cN-QhJ",canvasContainer:"canvas-container-2cN-QhJ"}},function(t,e,i){t.exports={title:"title-1Yx2Qbj","call-to-action":"call-to-action-1kdv71W",callToAction:"call-to-action-1kdv71W",ornament:"ornament-sIdMKxr"}},function(t,e,i){t.exports={"language-selector":"language-selector-1VXXwjE",languageSelector:"language-selector-1VXXwjE",icon:"icon--sWF2nz",select:"select-3tnKUiz",label:"label-3UjaoiZ"}},function(t,e,i){t.exports={"share-list":"share-list-1wKMsFG",shareList:"share-list-1wKMsFG",options:"options-Ohj5VFw",stacked:"stacked-2cQjgvD"}},function(t,e,i){t.exports={"map-toggle":"map-toggle-EbWe4yS",mapToggle:"map-toggle-EbWe4yS",outline:"outline-1HzNclf","image-wrapper":"image-wrapper-YILAMiZ",imageWrapper:"image-wrapper-YILAMiZ",image:"image-1n_7MWv",label:"label-LevXESQ"}},function(t,e,i){t.exports={"navigation-overview":"navigation-overview-r7ETCkK",navigationOverview:"navigation-overview-r7ETCkK",mask:"mask-2Pn77cm","map-center":"map-center-CnRDlVl",mapCenter:"map-center-CnRDlVl","map-container":"map-container-PXkU7eR",mapContainer:"map-container-PXkU7eR",legend:"legend-C6fALtX",list:"list-xAxVn3_",items:"items-1AS3yQ5",item:"item-3OwXPNI","is-current":"is-current-1qe2Kpw",isCurrent:"is-current-1qe2Kpw",content:"content-m4DuaD3",links:"links-1PQMUj-","text-link":"text-link-1Su85u5",textLink:"text-link-1Su85u5","text-link-icon":"text-link-icon-2ZGsjf5",textLinkIcon:"text-link-icon-2ZGsjf5",hotspots:"hotspots-l2Bhrha",hotspot:"hotspot-lUmmrmq","hotspot-icon":"hotspot-icon-2ikNXVv",hotspotIcon:"hotspot-icon-2ikNXVv","hotspot-button":"hotspot-button-1arf_TI",hotspotButton:"hotspot-button-1arf_TI","is-visited":"is-visited-1xUExCW",isVisited:"is-visited-1xUExCW","mobile-paginator":"mobile-paginator-2Rl0f5c",mobilePaginator:"mobile-paginator-2Rl0f5c",paginator:"paginator-3ed1fTY",page:"page-1ZDdTdU","bullet-ring":"bullet-ring-2P5QNLU",bulletRing:"bullet-ring-2P5QNLU","drag-proxy":"drag-proxy-Kr4nuZD",dragProxy:"drag-proxy-Kr4nuZD","legend-item":"legend-item-37n8etu",legendItem:"legend-item-37n8etu","legend-icon":"legend-icon-3SZAtY8",legendIcon:"legend-icon-3SZAtY8","type-current":"type-current-2onjSj5",typeCurrent:"type-current-2onjSj5","type-visited":"type-visited-13aydTw",typeVisited:"type-visited-13aydTw","type-unexplored":"type-unexplored-2B6jNFU",typeUnexplored:"type-unexplored-2B6jNFU"}},function(t,e,i){t.exports={"art-index-tabs":"art-index-tabs-3kYrrFh",artIndexTabs:"art-index-tabs-3kYrrFh",items:"items-2ktxRbD",button:"button-187QxOA","background-clip":"background-clip-2HiC856",backgroundClip:"background-clip-2HiC856","is-active":"is-active-17dQcfc",isActive:"is-active-17dQcfc","enter-left":"enter-left-2CSpLID",enterLeft:"enter-left-2CSpLID","enter-right":"enter-right--O4w0wj",enterRight:"enter-right--O4w0wj","leave-left":"leave-left-2muz01B",leaveLeft:"leave-left-2muz01B","leave-right":"leave-right-1OzLQBX",leaveRight:"leave-right-1OzLQBX"}},function(t,e,i){t.exports={hover:"hover-3SA5Qx3","text-icon-button":"text-icon-button-2maj9Id",textIconButton:"text-icon-button-2maj9Id",label:"label-K_HRp4t",icon:"icon-wFtZAw8",copy:"copy-2KvFXcZ",circle:"circle-3aRsWnc","no-outline":"no-outline-2Fmh6uT",noOutline:"no-outline-2Fmh6uT"}},function(t,e,i){t.exports={"art-index-list-item":"art-index-list-item-3TSO3al",artIndexListItem:"art-index-list-item-3TSO3al",hover:"hover-2oTl_ve",image:"image-39yQxtV","image-inner":"image-inner-wjiDDww",imageInner:"image-inner-wjiDDww",title:"title-1_Dh49b",caption:"caption-n7TlDTZ","hover-title":"hover-title-1qUIzIZ",hoverTitle:"hover-title-1qUIzIZ","hover-description-wrapper":"hover-description-wrapper-3qVpSCc",hoverDescriptionWrapper:"hover-description-wrapper-3qVpSCc","hover-footer":"hover-footer-2_slqGR",hoverFooter:"hover-footer-2_slqGR","hover-has-read-more":"hover-has-read-more-1B9ZueN",hoverHasReadMore:"hover-has-read-more-1B9ZueN",content:"content-34PLfOY"}},function(t,e,i){t.exports={"art-index-list":"art-index-list-7hs5aev",artIndexList:"art-index-list-7hs5aev","category-list":"category-list-1OCgXh5",categoryList:"category-list-1OCgXh5","is-active":"is-active-3ypOqkj",isActive:"is-active-3ypOqkj","category-title":"category-title-p70zd_H",categoryTitle:"category-title-p70zd_H"}},function(t,e,i){t.exports={"navigation-art-index":"navigation-art-index-36x-8Wt",navigationArtIndex:"navigation-art-index-36x-8Wt",background:"background-i-T3ZHF","content-wrapper":"content-wrapper-2HcJ1M9",contentWrapper:"content-wrapper-2HcJ1M9"}},function(t,e,i){t.exports={"main-navigation":"main-navigation-46GN3MK",mainNavigation:"main-navigation-46GN3MK",tabs:"tabs-a7q5WJN"}},function(t,e,i){t.exports={"about-the-project":"about-the-project-2H_x6CB",aboutTheProject:"about-the-project-2H_x6CB",scroll:"scroll-1DQUkso"}},function(t,e,i){t.exports={"custom-cursor":"custom-cursor-3y56vsA",customCursor:"custom-cursor-3y56vsA",cursor:"cursor-1u21JFa",circle:"circle-29V0AaD",icon:"icon-3noiANK",copy:"copy-1gtoWlE"}},function(t,e,i){t.exports={"switch-button":"switch-button-1fQR5t8",switchButton:"switch-button-1fQR5t8",icon:"icon-3QXC5rq",switch:"switch-ok7CTZz","switch-inside":"switch-inside-2KEWZqQ",switchInside:"switch-inside-2KEWZqQ",active:"active-4QcO7Ta","is-active":"is-active-2b1Ysib",isActive:"is-active-2b1Ysib"}},function(t,e,i){t.exports={"accessibility-options-modal":"accessibility-options-modal-19xPDYZ",accessibilityOptionsModal:"accessibility-options-modal-19xPDYZ",scroll:"scroll-YV5-A8p",close:"close-36qIYll",container:"container-22yVNTb",heading:"heading-396GOzX",content:"content-DK8pPay",languages:"languages-3bGk54t"}},function(t,e,i){t.exports={"secondary-navigation":"secondary-navigation-2ja4ReJ",secondaryNavigation:"secondary-navigation-2ja4ReJ",list:"list-3xo1gve"}},function(t,e,i){t.exports={scroll:"scroll-2HFRVRl","scroll-content":"scroll-content-3DVUa8H",scrollContent:"scroll-content-3DVUa8H",texts:"texts-3-BMsw_",text:"text-7BLSImJ","getty-logo":"getty-logo-3gaCpdR",gettyLogo:"getty-logo-3gaCpdR",presents:"presents-1aJP5KN","site-name":"site-name-2D3gkr9",siteName:"site-name-2D3gkr9","loader-ring":"loader-ring-3fMx6gR",loaderRing:"loader-ring-3fMx6gR","enter-hover":"enter-hover-2G-BEND",enterHover:"enter-hover-2G-BEND","enter-button":"enter-button-3o2bELO",enterButton:"enter-button-3o2bELO","enter-hover-wrapper":"enter-hover-wrapper-2n5ZzEM",enterHoverWrapper:"enter-hover-wrapper-2n5ZzEM","enter-label":"enter-label-3qR1BM2",enterLabel:"enter-label-3qR1BM2","scroll-indicator":"scroll-indicator-2iy2odn",scrollIndicator:"scroll-indicator-2iy2odn","enter-instruction":"enter-instruction-1FVi0DC",enterInstruction:"enter-instruction-1FVi0DC"}},function(t,e,i){t.exports={"art-index-info-overlay":"art-index-info-overlay-36HYCGX",artIndexInfoOverlay:"art-index-info-overlay-36HYCGX",title:"title-9NX6EZt",description:"description-1NT--bS",footer:"footer-2-skrdw",close:"close-3ciQqVM"}},function(t,e,i){t.exports={canvas:"canvas-1IPlvcX","is-preloaded":"is-preloaded-3owJ46W",isPreloaded:"is-preloaded-3owJ46W","about-button":"about-button-t3cOj1D",aboutButton:"about-button-t3cOj1D","router-view":"router-view-MR8xP7b",routerView:"router-view-MR8xP7b",hidden:"hidden-39NT5q3"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var s=i(135),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(137),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(138),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(139),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(140),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(141),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(142),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(143),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(144),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(145),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(146),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(147),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(148),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(149),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(150),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(151),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(152),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(153),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(154),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(155),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(156),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(157),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(158),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(159),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(160),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(161),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(162),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(163),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(164),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(165),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(166),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(167),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(168),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(169),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(170),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(171),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(172),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(173),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(174),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(175),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(176),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(177),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(178),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(179),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(180),a=i.n(s);e.default=a.a},,function(t,e,i){"use strict";var s=i(181),a=i.n(s);e.default=a.a},,function(t,e,i){"use strict";var s=i(182),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(183),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(184),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(185),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(186),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(187),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(188),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(189),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(190),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(191),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(192),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(193),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(194),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(195),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(196),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(197),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(198),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(199),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(200),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(201),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(202),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(203),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(204),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(205),a=i.n(s);e.default=a.a},function(t,e,i){"use strict";var s=i(206),a=i.n(s);e.default=a.a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){var s={"./blur/blur.fs.glsl":777,"./blur/blur.vs.glsl":778,"./colorAlpha/colorAlpha.fs.glsl":779,"./colorAlpha/colorAlpha.vs.glsl":780,"./convertToLDR/convertToLDR.fs.glsl":781,"./convertToLDR/convertToLDR.vs.glsl":782,"./cubeMap/cubeMap.fs.glsl":783,"./cubeMap/cubeMap.vs.glsl":784,"./dust/dust.fs.glsl":785,"./dust/dust.vs.glsl":786,"./hitArea/hitArea.fs.glsl":787,"./hitArea/hitArea.vs.glsl":788,"./includes/posteffects.glsl":789,"./lineHighlighter/lineHighlighter.fs.glsl":790,"./lineHighlighter/lineHighlighter.vs.glsl":791,"./map/map.fs.glsl":792,"./map/map.vs.glsl":793,"./preloader/preloader.fs.glsl":794,"./preloader/preloader.vs.glsl":795,"./torchQuad/torchQuad.fs.glsl":796,"./torchQuad/torchQuad.vs.glsl":797,"./transition/transition.fs.glsl":798,"./transition/transition.vs.glsl":799,"./transparentvideo/transparentvideo.fs.glsl":800,"./transparentvideo/transparentvideo.vs.glsl":801,"./unlit/unlit.fs.glsl":802,"./unlit/unlit.vs.glsl":803,"./video/transparantVideo.fs.glsl":461,"./video/video.fs.glsl":804,"./video/video.vs.glsl":805};function a(t){var e=n(t);return i(e)}function n(t){if(!i.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}a.keys=function(){return Object.keys(s)},a.resolve=n,t.exports=a,a.id=460},function(t,e,i){"use strict";i.r(e),e.default="void mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tuv.y = 1.-uv.y;\n\tuv *= vec2(1, 0.5);\n\tfragColor = texture(iChannel0, uv) * texture(iChannel0, uv + vec2(0, 0.5)).r;\n}\n"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){i(504),t.exports=i(859)},function(t,e,i){"use strict";i.r(e);i(505),i(512),i(518),i(533),i(534),i(535),i(536),i(537),i(538),i(539),i(540),i(541),i(542),i(543),i(544),i(546),i(547),i(550),i(551),i(554),i(558),i(565),i(386),i(566);e.default={}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){!function(e){var i="Modernizr"in e,s=e.Modernizr;!function(t,e,i,s){function a(t,e){return typeof t===e}var n=[],r={_version:"3.11.3",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(t,e){var i=this;setTimeout((function(){e(i[t])}),0)},addTest:function(t,e,i){n.push({name:t,fn:e,options:i})},addAsyncTest:function(t){n.push({name:null,fn:t})}},o=function(){};o.prototype=r,o=new o;var l=[],c=i.documentElement,h="svg"===c.nodeName.toLowerCase();!function(){var t,e,i,s,r,c;for(var h in n)if(n.hasOwnProperty(h)){if(t=[],(e=n[h]).name&&(t.push(e.name.toLowerCase()),e.options&&e.options.aliases&&e.options.aliases.length))for(i=0;i<e.options.aliases.length;i++)t.push(e.options.aliases[i].toLowerCase());for(s=a(e.fn,"function")?e.fn():e.fn,r=0;r<t.length;r++)1===(c=t[r].split(".")).length?o[c[0]]=s:(o[c[0]]&&(!o[c[0]]||o[c[0]]instanceof Boolean)||(o[c[0]]=new Boolean(o[c[0]])),o[c[0]][c[1]]=s),l.push((s?"":"no-")+c.join("-"))}}(),function(t){var e=c.className,i=o._config.classPrefix||"";if(h&&(e=e.baseVal),o._config.enableJSClass){var s=new RegExp("(^|\\s)"+i+"no-js(\\s|$)");e=e.replace(s,"$1"+i+"js$2")}o._config.enableClasses&&(t.length>0&&(e+=" "+i+t.join(" "+i)),h?c.className.baseVal=e:c.className=e)}(l),delete r.addTest,delete r.addAsyncTest;for(var d=0;d<o._q.length;d++)o._q[d]();t.Modernizr=o}(e,0,document),t.exports=e.Modernizr,i?e.Modernizr=s:delete e.Modernizr}(window)},function(t,e,i){},function(t,e,i){var s={"./a11y-contrast.svg":570,"./a11y-cursor.svg":571,"./a11y-motion.svg":572,"./a11y-text.svg":573,"./a11y.svg":574,"./arrow-down.svg":575,"./arrow-right.svg":576,"./bullet-ring.svg":577,"./chapter-number.svg":578,"./chevron-down.svg":579,"./close-big.svg":580,"./close-outlined.svg":581,"./close.svg":582,"./diamond.svg":583,"./facebook.svg":584,"./getty-logo.svg":585,"./hotspot-legend.svg":586,"./link.svg":587,"./map-outline.svg":588,"./menu.svg":589,"./multiple-arrows.svg":590,"./navigation-ornament.svg":591,"./pause.svg":592,"./play.svg":593,"./plus.svg":594,"./rhombus.svg":595,"./royal-life-hotspot.svg":596,"./search.svg":597,"./settings.svg":598,"./site-name.svg":599,"./sound.svg":600,"./twitter.svg":601};function a(t){var e=n(t);return i(e)}function n(t){if(!i.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}a.keys=function(){return Object.keys(s)},a.resolve=n,t.exports=a,a.id=569},function(t,e){t.exports='<svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><circle opacity=".4" cx="8" cy="8" r="8" fill="#fff"></circle></svg>'},function(t,e){t.exports='<svg viewBox="0 0 22 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.063 19h11.891v-2.145c0-.612 1.764-3.906 2.302-5.821.537-1.915 1.15-4.902.383-5.898-.767-1.072-1.688-1.149-2.531-1.072 0 0-.384-1.685-2.072-2.068-1.688-.383-2.455.383-2.455.383S12.661 1 11.357 1c-1.305 0-1.995.92-1.995.92S8.365 1 7.061 1C5.68 1 4.758 2.072 4.758 3.374v5.669V7.51C2.458 7.51 1 8.2 1 10.345c0 2.45.92 2.757 1.918 3.6.997.842 3.145 2.068 3.145 2.757-.077.46 0 2.298 0 2.298z" fill="#fff" stroke="#8D8D8D" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path></svg>'},function(t,e){t.exports='<svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8" cy="8" r="8" fill="#fff"></circle></svg>'},function(t,e){t.exports='<svg viewBox="0 0 35 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.734 14.04c-.703-.027-1.22-.04-1.552-.04-.345 0-.902.013-1.67.04l-.791.019a1.247 1.247 0 01-.04-.303.29.29 0 01.03-.147.185.185 0 01.107-.088l.723-.117c.3-.052.466-.244.498-.576.04-.338.059-.846.059-1.523V3.238c0-.65-.02-1.11-.059-1.377-.032-.273-.078-.459-.137-.556H3.623c-1.01 0-1.673.058-1.992.175-.32.118-.544.404-.674.86l-.156.556a.344.344 0 01-.078.147c-.033.026-.082.039-.147.039l-.088.01a.728.728 0 01-.263-.049c.032-.423.065-.95.097-1.582A25.6 25.6 0 00.381.064.61.61 0 01.615.035c.143 0 .228.062.254.186.026.117.078.198.156.244.085.039.896.058 2.432.058h5.264c1.575 0 2.392-.02 2.45-.058a.462.462 0 00.157-.215l.049-.107c.026-.072.094-.108.205-.108.117 0 .189.01.215.03 0 1.477.02 2.47.058 2.978a.96.96 0 01-.263.039h-.088c-.065 0-.114-.013-.147-.039a.344.344 0 01-.078-.147l-.156-.556c-.13-.462-.335-.749-.615-.86-.274-.117-.915-.175-1.924-.175h-1.24c-.059.084-.104.27-.137.556-.033.287-.049.746-.049 1.377v8.067c0 .631.016 1.126.049 1.484.033.352.205.557.518.615l.713.117c.052.02.087.05.107.088.026.033.039.082.039.147a.843.843 0 01-.049.303c-.351-.013-.618-.02-.8-.02zm10.518-1.651c0 .13-.186.387-.557.771-.37.378-.804.67-1.299.88a3.983 3.983 0 01-1.62.321c-1.231 0-2.22-.455-2.97-1.367-.741-.911-1.113-2.021-1.113-3.33 0-1.335.414-2.458 1.24-3.37.827-.917 1.794-1.376 2.901-1.376.872 0 1.592.192 2.158.576.573.384.95.895 1.133 1.533.189.632.24 1.026.156 1.182a.612.612 0 01-.127.146h-5.752a.537.537 0 00-.156.284c-.02.104-.03.244-.03.42 0 1.06.34 2.002 1.016 2.822.684.814 1.534 1.22 2.55 1.22.377 0 .758-.1 1.142-.302.39-.202.71-.45.957-.742.032 0 .1.039.205.117.11.078.166.15.166.215zM12.5 7.564c.026.072.065.118.117.137l3.76-.058a.435.435 0 00.117-.205c0-.593-.166-1.055-.498-1.387a1.623 1.623 0 00-1.22-.508c-.554 0-1.033.179-1.436.537-.397.358-.677.853-.84 1.484zm13.848 6.446c-.202 0-.407-.003-.616-.01-.201 0-.393.003-.576.01l-.488.02c-.319.019-.586.029-.8.029a1.244 1.244 0 01-.04-.303c0-.11.049-.176.147-.196l.39-.058c.176-.033.264-.127.264-.283 0-.228-.192-.622-.576-1.182l-1.221-1.68h-.039l-1.084 1.68c-.306.462-.459.817-.459 1.065 0 .247.127.38.38.4l.382.058c.09.02.136.085.136.196 0 .098-.013.198-.039.303-.664-.04-1.23-.059-1.699-.059-.267 0-.53.003-.79.01a9.523 9.523 0 00-.753.049 1.244 1.244 0 01-.039-.303c0-.104.04-.176.117-.215l.362-.059a1.52 1.52 0 00.722-.36c.196-.177.489-.557.88-1.143l1.464-2.14a.32.32 0 00.02-.097.172.172 0 00-.02-.078l-1.484-2.021c-.573-.808-.96-1.316-1.162-1.524-.196-.215-.368-.335-.518-.361l-.234-.04c-.085-.019-.127-.084-.127-.195 0-.097.013-.198.039-.302.228 0 .527.01.898.029l.557.02c.208 0 .417.003.625.01.202 0 .397-.004.586-.01l.478-.02c.313-.02.573-.03.782-.03.026.105.039.206.039.303 0 .111-.04.176-.118.196l-.4.058c-.17.033-.254.12-.254.264 0 .221.195.615.586 1.182l.947 1.338h.04l.82-1.319c.306-.469.459-.823.459-1.064 0-.124-.033-.218-.098-.283a.431.431 0 00-.264-.118l-.38-.058c-.092-.026-.137-.091-.137-.196 0-.097.013-.198.039-.302l.732.029c.345.02.661.03.947.03.586 0 1.16-.02 1.72-.06.025.105.038.206.038.303 0 .111-.045.176-.136.196l-.42.078c-.339.071-.612.202-.82.39-.209.183-.502.554-.88 1.114l-1.181 1.738c0 .02-.003.052-.01.098 0 .039.003.068.01.088l1.719 2.412c.52.735.885 1.22 1.093 1.455.215.234.41.37.586.41l.176.039c.052.02.088.046.107.078.026.033.04.078.04.137 0 .098-.014.198-.04.303-.22 0-.514-.01-.878-.03l-.547-.02zm7.968-.762c0 .202-.3.44-.898.713-.599.267-1.169.4-1.709.4-.755 0-1.309-.195-1.66-.586-.345-.397-.518-1.06-.518-1.992v-4.98c0-.202-.013-.332-.039-.39-.02-.06-.075-.089-.166-.089h-.654a.207.207 0 01-.176-.097.382.382 0 01-.068-.225 14.09 14.09 0 001.65-1.523c.469-.515.73-.824.781-.928.059-.11.137-.166.235-.166.065 0 .136.039.215.117-.026.612-.04 1.159-.04 1.64.02.04.066.085.137.137h2.569c.065.026.104.065.117.117.013.046.02.173.02.381 0 .228-.01.371-.03.43-.013.052-.049.091-.107.117h-2.588a.29.29 0 00-.117.137v5.234c0 .586.12.996.36 1.23.242.235.636.352 1.183.352.227 0 .465-.029.712-.087.248-.066.463-.15.645-.255a.67.67 0 01.107.176c.026.052.04.098.04.137z" fill="#fff"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 54 54"><g fill="#FFFFFF"><path d="M22.7 23c-1.5 0-2.9.7-3.1 2.4h1.2c.1-1 .7-1.4 1.8-1.4 1.2 0 1.7.5 1.7 1.8v.6h-1.1c-2 0-3.9.6-3.9 2.4 0 1.6 1.2 2.3 2.6 2.3 1.2 0 1.9-.4 2.4-1.1v1h1.2v-5.2c0-2.2-1.3-2.8-2.8-2.8zm1.6 5.3c0 1.2-1 1.9-2.3 1.9-1.1 0-1.5-.5-1.5-1.3 0-1.2 1.2-1.5 2.7-1.5h1.1v.9zM31.1 22.9c-2.1 0-3.6.9-3.8 2.8h2.5c.1-.5.3-.9 1.1-.9.9 0 1 .5 1 1.2v.2h-.8c-2.6 0-4.2.7-4.2 2.6 0 1.7 1.2 2.4 2.7 2.4 1.3 0 2-.5 2.3-1.1v.9h2.6v-5.1c.1-2.1-1.2-3-3.4-3zm.9 5.4c0 .7-.6 1.1-1.3 1.1-.6 0-.9-.3-.9-.7 0-.6.5-.9 1.6-.9h.6v.5z"></path></g></svg>'},function(t,e){t.exports='<svg viewBox="0 0 22 29" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21.007 17.624l-9.852 9.852-9.858-9.852M11.156 27.476V.806" stroke="#fff" stroke-width="1.5" stroke-miterlimit="10"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12"><path fill="#fff" d="M7.3 1.9l-.7.7 2.9 2.9H.6v1h8.9L6.6 9.4l.7.7L11.4 6z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20.002 20"><path d="M17.414 8.488a.531.531 0 01-.375-.37.515.515 0 01.14-.506 1.504 1.504 0 00.37-1.686 1.547 1.547 0 00-1.425-.994 1.616 1.616 0 00-.459.068.564.564 0 01-.143 0 .518.518 0 01-.422-.207.51.51 0 01-.084-.45 1.516 1.516 0 00-.232-1.353 1.653 1.653 0 00-1.294-.65 1.522 1.522 0 00-1.1.485.51.51 0 01-.37.16.523.523 0 01-.502-.391 1.53 1.53 0 00-1.517-1.184 1.526 1.526 0 00-1.513 1.184.523.523 0 01-.501.391.51.51 0 01-.371-.16 1.521 1.521 0 00-1.104-.484 1.652 1.652 0 00-1.29.649 1.504 1.504 0 00-.232 1.352.51.51 0 01-.084.451.518.518 0 01-.422.207.554.554 0 01-.143 0 1.62 1.62 0 00-.46-.068 1.546 1.546 0 00-1.424.995 1.504 1.504 0 00.37 1.685.522.522 0 01.14.505.531.531 0 01-.375.37 1.557 1.557 0 000 3.03.517.517 0 01.236.873 1.504 1.504 0 00-.371 1.684 1.55 1.55 0 001.424 1 1.781 1.781 0 00.46-.068.422.422 0 01.143-.021.52.52 0 01.421.206.51.51 0 01.085.45 1.504 1.504 0 00.231 1.354 1.652 1.652 0 001.29.648 1.522 1.522 0 001.105-.484.51.51 0 01.37-.16.523.523 0 01.502.392 1.557 1.557 0 003.03 0 .523.523 0 01.501-.392.51.51 0 01.371.16 1.522 1.522 0 001.1.484 1.652 1.652 0 001.294-.648 1.517 1.517 0 00.232-1.353.51.51 0 01.084-.45.519.519 0 01.422-.207.418.418 0 01.143.021 1.79 1.79 0 00.46.067 1.55 1.55 0 001.424-.998 1.508 1.508 0 00-.371-1.686.516.516 0 01.236-.872 1.558 1.558 0 000-3.03zm.07 1.867a.542.542 0 01-.312.192 1.517 1.517 0 00-.673 2.576.507.507 0 01.153.267.53.53 0 01-.037.33.546.546 0 01-.198.253.539.539 0 01-.274.1 1.28 1.28 0 01-.155-.013 1.438 1.438 0 00-.454-.075 1.595 1.595 0 00-.69.156 1.516 1.516 0 00-.821 1.081 1.544 1.544 0 00.038.715.529.529 0 01.015.241.504.504 0 01-.086.21.671.671 0 01-.227.187.523.523 0 01-.645-.102 1.508 1.508 0 00-2.028-.154 1.549 1.549 0 00-.547.849.527.527 0 01-.187.295.637.637 0 01-.374.112.513.513 0 01-.332-.11.548.548 0 01-.193-.32 1.514 1.514 0 00-2.574-.665.504.504 0 01-.17.12.524.524 0 01-.472-.026.653.653 0 01-.218-.177.504.504 0 01-.094-.218.531.531 0 01.02-.253 1.512 1.512 0 00-.786-1.784 1.449 1.449 0 00-.659-.156 1.276 1.276 0 00-.433.058.846.846 0 01-.17.03.56.56 0 01-.311-.1.584.584 0 01-.21-.282.504.504 0 01-.027-.302.544.544 0 01.174-.285 1.515 1.515 0 00.002-2.17 1.54 1.54 0 00-.711-.391.533.533 0 01-.299-.191.557.557 0 01-.111-.369.53.53 0 01.11-.333.563.563 0 01.333-.197l.01-.003a1.523 1.523 0 001.069-1.87 1.549 1.549 0 00-.425-.705.499.499 0 01-.151-.262q-.005-.027-.007-.054a.582.582 0 01.532-.628.612.612 0 01.176.026l.155.032a1.484 1.484 0 00.333.008 1.514 1.514 0 001.4-1.954.505.505 0 01.073-.447.657.657 0 01.226-.187.647.647 0 01.264-.069.517.517 0 01.205.044.528.528 0 01.18.13 1.513 1.513 0 001.104.47 1.53 1.53 0 00.924-.322 1.548 1.548 0 00.544-.846.527.527 0 01.188-.296.48.48 0 01.332-.111h.036a.481.481 0 01.334.111.556.556 0 01.197.327 1.514 1.514 0 002.572.657.518.518 0 01.171-.12.508.508 0 01.47.024.656.656 0 01.22.177.514.514 0 01.093.22.559.559 0 01-.023.266 1.527 1.527 0 00-.03.69 1.482 1.482 0 00.279.632 1.513 1.513 0 001.161.604 1.43 1.43 0 00.334-.008l.153-.033a.588.588 0 01.16-.025.547.547 0 01.306.097.579.579 0 01.21.28.506.506 0 01.027.304.527.527 0 01-.171.281 1.515 1.515 0 00-.406 1.489 1.534 1.534 0 00.402.685 1.56 1.56 0 00.712.395.525.525 0 01.295.187.56.56 0 01.109.373.521.521 0 01-.11.331z"></path><path d="M18.836 7.636A2.989 2.989 0 0016.47 3.53a3.353 3.353 0 00-.028-.17 2.992 2.992 0 00-1.624-2.126 2.934 2.934 0 00-1.336-.302 2.897 2.897 0 00-1.11.226 3.01 3.01 0 00-4.744 0A2.876 2.876 0 006.52.93a3.183 3.183 0 00-1.339.305 2.986 2.986 0 00-1.62 2.126q-.015.082-.026.164a2.99 2.99 0 00-2.366 4.11l-.022.017a2.98 2.98 0 00-.515 4.183 2.909 2.909 0 00.534.527 2.987 2.987 0 002.369 4.112c.007.054.016.109.026.161a2.983 2.983 0 002.927 2.432 2.932 2.932 0 001.143-.226A2.925 2.925 0 009.94 20h.093a2.941 2.941 0 002.339-1.157 2.91 2.91 0 001.104.225 3.065 3.065 0 001.34-.3 2.99 2.99 0 001.627-2.128q.017-.082.026-.164a2.993 2.993 0 002.367-4.11 3.021 3.021 0 00.538-.532l.01-.014a2.984 2.984 0 00-.548-4.184zm-1.33 4.29a.092.092 0 00-.042.16 1.993 1.993 0 01-1.35 3.416 2.195 2.195 0 01-.576-.084h-.025a.097.097 0 00-.093.122 1.984 1.984 0 01-1.93 2.528 1.934 1.934 0 01-1.404-.615.1.1 0 00-.067-.03.097.097 0 00-.06.022.098.098 0 00-.033.054 1.979 1.979 0 01-3.848 0 .096.096 0 00-.033-.054.098.098 0 00-.06-.021.118.118 0 00-.072.03 1.922 1.922 0 01-1.403.615 1.985 1.985 0 01-1.926-2.528.097.097 0 00.002-.044.096.096 0 00-.018-.04.097.097 0 00-.077-.039h-.025a2.221 2.221 0 01-.577.085 1.989 1.989 0 01-1.349-3.417.093.093 0 00-.042-.16 1.984 1.984 0 010-3.847.097.097 0 00.042-.165A1.989 1.989 0 013.89 4.502a2.206 2.206 0 01.577.08h.026a.1.1 0 00.042-.01.097.097 0 00.05-.112A1.985 1.985 0 016.51 1.93a1.922 1.922 0 011.404.616.098.098 0 00.048.027.097.097 0 00.116-.073A1.939 1.939 0 0110 1a1.943 1.943 0 011.926 1.5.097.097 0 00.093.076.084.084 0 00.067-.03 1.934 1.934 0 011.403-.615 1.985 1.985 0 011.93 2.528.097.097 0 00.093.122h.025a2.163 2.163 0 01.578-.08 1.989 1.989 0 011.349 3.412.097.097 0 00.042.165 1.984 1.984 0 010 3.847z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 111 112.06"><g class="outer-layers"><path d="M35.49 90.59A40 40 0 0043.08 94h.1a40.4 40.4 0 008 1.72h.25a37.67 37.67 0 008.13 0h.25a40.09 40.09 0 008-1.72h.1a39.3 39.3 0 007.61-3.4 40 40 0 10-40.14 0zm39.18-.66a39 39 0 01-6.63 3l-.94.31a39.59 39.59 0 01-6.94 1.5l-1.16.08c-1.18.11-2.36.17-3.51.17s-2.34-.06-3.52-.17l-1.14-.12a39.59 39.59 0 01-6.94-1.5l-.89-.31a37.78 37.78 0 01-6.59-3l-.81-.46a39.69 39.69 0 01-7.6-5.87 39 39 0 1147.52 5.9zM65.58 8.86c1.13.25 2.25.53 3.36.85a3.62 3.62 0 00-.11-1.31 3.45 3.45 0 00-.7-1.29 3.9 3.9 0 00-2.81-1.21h-.13A3.31 3.31 0 0062 8.27c1.19.17 2.36.37 3.53.62zm-1.92-1.35l.14-.1a2.3 2.3 0 011.41-.47h.13a2.91 2.91 0 011.12.23 2.78 2.78 0 011 .67 2.47 2.47 0 01.35.55c-.49-.13-1-.24-1.46-.35L66 7.21l-.69.6c-.57-.11-1.11-.21-1.65-.3z"></path><path d="M65.34 4.58h.19a5.06 5.06 0 011.92.42 5 5 0 011.76 1.2 6.28 6.28 0 01.38.52 4.17 4.17 0 00-.08-.49 3.6 3.6 0 00-.77-1.39 4.1 4.1 0 00-3-1.3h-.09a3.6 3.6 0 00-2.15.71 3.54 3.54 0 00-1 1.2 4.85 4.85 0 012.75-.87zM87.88 97.17a5.08 5.08 0 01-4.4 2.53h-.07a4 4 0 01-.6 0 2.09 2.09 0 00.28.17 3.54 3.54 0 001.53.36 4.07 4.07 0 002-.57 4.25 4.25 0 001.47-1.48 3.63 3.63 0 00.47-1.88 4.06 4.06 0 00-.09-.7 4.9 4.9 0 01-.59 1.57zM75.13 12c1.06.47 2.11 1 3.13 1.53a3.41 3.41 0 00.18-1.53 3.37 3.37 0 00-.61-1.52 3.84 3.84 0 00-1.38-1.12A3.94 3.94 0 0074.76 9h-.08a3.27 3.27 0 00-2.86 1.69c1.11.4 2.2.85 3.28 1.33zm-1.56-1.71a2.27 2.27 0 011.11-.29h.08A2.95 2.95 0 0177 11.09a2.21 2.21 0 01.38.9L76 11.32l-.18-.87-.8.44c-.49-.23-1.02-.43-1.45-.62zM95.91 87.69a5.1 5.1 0 01-2.28 4.52 5 5 0 01-2.37.82 3.85 3.85 0 001.18.21A3.94 3.94 0 0096 90.81a3.52 3.52 0 00.28-2.12 3.48 3.48 0 00-.37-1zM83.84 17c.94.68 1.85 1.41 2.74 2.16a3.31 3.31 0 000-3.42 3.86 3.86 0 00-1.38-1.4 3.9 3.9 0 00-1.88-.54 3.42 3.42 0 00-1.44.34 3.22 3.22 0 00-1.09.85c1 .62 2 1.28 3 2zm-.46-2.16a2.85 2.85 0 011.36.4 2.93 2.93 0 011 1 2.35 2.35 0 01.31 1.21c-.41-.33-.82-.64-1.23-.95v-.89l-.88.26c-.44-.31-.9-.63-1.37-.93a2.28 2.28 0 01.81-.09zM94.15 89.05a3.26 3.26 0 00-.54-3.62c-.74.95-1.5 1.89-2.31 2.78v.1h-.09c-.54.6-1.09 1.18-1.66 1.75-.23.23-.46.44-.69.66a3.62 3.62 0 002 .63 3.7 3.7 0 003.31-2.28zm-3.31 1.28h-.15c.32-.32.63-.64.93-1l1 .11-.21-1c.34-.4.69-.81 1-1.24a2.3 2.3 0 01-.18 1.37 2.66 2.66 0 01-1 1.22 2.6 2.6 0 01-1.39.54z"></path><path d="M74.76 7.63h.14A5.06 5.06 0 0179 9.68a4.71 4.71 0 01.55 1 3.37 3.37 0 000-.55 3.55 3.55 0 00-.63-1.63 4.16 4.16 0 00-3.33-1.67 3.49 3.49 0 00-1.86.53 3.62 3.62 0 00-.82.69 5 5 0 011.87-.37zM77.12 104.15a5.16 5.16 0 01-2.22.51h-.14a5 5 0 01-1.71-.33 3.62 3.62 0 00.65.52 3.58 3.58 0 001.86.52 4.16 4.16 0 003.33-1.67 3.55 3.55 0 00.63-1.63v-.41a5.33 5.33 0 01-.55 1 5.23 5.23 0 01-1.85 1.49zM74.71 102.92a3.88 3.88 0 003.12-1.58 3.22 3.22 0 00.61-1.52 3.38 3.38 0 00-.14-1.41c-1 .55-2.08 1.06-3.14 1.53v.15L75 100c-1 .46-2.08.89-3.14 1.27a3.23 3.23 0 002.85 1.64zm.22-1.79l.9.54.21-1c.47-.21.91-.42 1.34-.63a2.12 2.12 0 01-.36.74 2.75 2.75 0 01-1 .86 2.92 2.92 0 01-1.29.31 2.3 2.3 0 01-1.06-.25c.39-.2.82-.37 1.26-.57zM47.84 6.74a3.36 3.36 0 00-2-.67h-.13a3.92 3.92 0 00-1.51.31 4.11 4.11 0 00-1.29.9 3.61 3.61 0 00-.7 1.29 3.29 3.29 0 00-.11 1.17q1.63-.48 3.3-.84c1.17-.25 2.34-.45 3.53-.61a3.43 3.43 0 00-1.09-1.55zm-2.09 1.07l-.66-.61-.39.8-1.32.32a2.34 2.34 0 01.29-.41 2.75 2.75 0 01.93-.64 2.83 2.83 0 011.11-.23h.13a2.41 2.41 0 011.39.46z"></path><path d="M43.64 5a5.06 5.06 0 011.92-.38h.26a4.85 4.85 0 012.6.77 3.59 3.59 0 00-.93-1 3.54 3.54 0 00-2.14-.72h-.09a4.14 4.14 0 00-1.63.34 4.1 4.1 0 00-1.36 1 3.67 3.67 0 00-.76 1.4 2.61 2.61 0 00-.1.57 4.3 4.3 0 01.47-.65A5 5 0 0143.64 5zM85.25 97.43a3.88 3.88 0 001.38-1.38 3.34 3.34 0 00.45-1.77 3.3 3.3 0 00-.44-1.56c-.91.77-1.84 1.51-2.8 2.2v.13h-.12c-.91.66-1.84 1.28-2.8 1.87a3.5 3.5 0 001 .75 3.42 3.42 0 001.44.34 3.9 3.9 0 001.89-.58zm-2.48-.55l1.12-.76 1 .32v-1l1.23-1a2.4 2.4 0 01-.31 1.07 3 3 0 01-1 1 2.87 2.87 0 01-1.4.4 1.93 1.93 0 01-.64-.03zM55.4 3.55h.3A4.91 4.91 0 0159 4.82l.12.13a3.71 3.71 0 00-1-1.56 3.67 3.67 0 00-2.46-.94H55.36a3.6 3.6 0 00-3.48 2.59c.08-.09.15-.18.24-.27a5 5 0 013.28-1.22z"></path><path d="M53.11 5.92A3.44 3.44 0 0052 8c1.15-.08 2.31-.14 3.47-.14 1.18 0 2.36.06 3.53.15a3.38 3.38 0 00-3.39-3.06h-.15v.14h-.06a3.4 3.4 0 00-2.29.83zm3.48.17a2.53 2.53 0 01.69.44 2 2 0 01.31.34L56 6.82l-.51-.71-.49.71h-1.41a2 2 0 01.2-.21A2.41 2.41 0 0155.4 6h.11zM105.64 58.79a3.4 3.4 0 00-2-1.31c0 1.17-.11 2.35-.23 3.51l.09.07-.11.06c-.12 1.14-.29 2.26-.49 3.38a3.39 3.39 0 003.36-3.2 3.41 3.41 0 00-.62-2.51zm-.37 2.36v.09a2.41 2.41 0 01-.8 1.66 1.72 1.72 0 01-.32.23c.07-.47.14-.93.19-1.39l.88-.5-.75-.66c0-.49.08-1 .11-1.51a2.41 2.41 0 01.7 2.08zM104 74.7a4.48 4.48 0 01-.86.58 3.68 3.68 0 002.07-.86 3.73 3.73 0 001.24-2.2 3.58 3.58 0 00-.3-2.53 3.37 3.37 0 00-.87-1.08 5 5 0 01.42 3.2 5 5 0 01-1.7 2.89z"></path><path d="M108.35 56a6.3 6.3 0 00.68-9.72 6.18 6.18 0 00-1.73-1.16 6.53 6.53 0 001.09-1.51 6.35 6.35 0 00.6-4.13 6.41 6.41 0 00-2.12-3.61 6.29 6.29 0 00-2.87-1.4 7.56 7.56 0 00.6-1.29 6.32 6.32 0 000-3.87 6.34 6.34 0 00-5.86-4.47h-.28a6.56 6.56 0 00.27-1.08 6.35 6.35 0 00-6.22-7.37 6.13 6.13 0 00-1.48.19 7 7 0 000-.79 6.35 6.35 0 00-6.33-6.34 6.15 6.15 0 00-2.6.58l-.1-.44a6.36 6.36 0 00-1.16-2.77 6.28 6.28 0 00-5.06-2.55h-.2a6 6 0 00-3.09.87 5.72 5.72 0 00-.57.39v-.1A6.21 6.21 0 0066 1.09h-.28a6.07 6.07 0 00-3.62 1.2 6.17 6.17 0 00-1 .92 6.23 6.23 0 00-1.28-1.62A6.13 6.13 0 0055.65 0h-.29a6.09 6.09 0 00-4.12 1.59A6 6 0 0050 3.22a5.46 5.46 0 00-1-.93 6.15 6.15 0 00-3.63-1.2h-.27a6.16 6.16 0 00-2.4.48 6.22 6.22 0 00-3.53 3.86v.1a7.02 7.02 0 00-.56-.39 6.08 6.08 0 00-3.13-.87h-.15a6.28 6.28 0 00-5.07 2.55A6.32 6.32 0 0029 9.6c0 .15 0 .3-.06.45h-.05a6 6 0 00-2.56-.58h-.06a6.36 6.36 0 00-5.49 3.15 6.38 6.38 0 00-.78 3.17 5.37 5.37 0 00.05.8 6 6 0 00-1.45-.19 6.36 6.36 0 00-6.26 7.37 6.56 6.56 0 00.27 1.08h-.24a6.34 6.34 0 00-5.86 8.34 6.55 6.55 0 00.59 1.29 6.34 6.34 0 00-2.91 1.38A6.41 6.41 0 002 39.46a6.32 6.32 0 00.59 4.14 6.47 6.47 0 001.09 1.5A6.64 6.64 0 002 46.26 6.31 6.31 0 002.65 56a6.44 6.44 0 00-1.53 1.55A6.3 6.3 0 002 65.72a6.64 6.64 0 001.73 1.16 6.33 6.33 0 00.44 9.25 6.44 6.44 0 002.92 1.39 6.59 6.59 0 00-.6 1.29 6.39 6.39 0 000 3.87 6.37 6.37 0 005.85 4.48h.28a6.3 6.3 0 00.19 4.64 6.24 6.24 0 002.33 2.75 6.31 6.31 0 003.45 1A6.49 6.49 0 0020 95.4a7.16 7.16 0 00-.05.8 6.27 6.27 0 00.87 3.19 6.31 6.31 0 005.48 3.15h.08a6.29 6.29 0 002.55-.58h.05c0 .15 0 .31.06.46a6.3 6.3 0 006.22 5.33h.17a6.06 6.06 0 003.11-.87 6.18 6.18 0 00.53-.36v.09a6.22 6.22 0 001.33 2.36 6.2 6.2 0 004.65 2.03h.27a6.13 6.13 0 003.64-1.2 5.81 5.81 0 001-.93 6 6 0 001.29 1.63 6.1 6.1 0 004.1 1.58h.33a6.19 6.19 0 005.39-3.2 6.17 6.17 0 001 .92 6.1 6.1 0 003.63 1.2h.26a6.25 6.25 0 006-4.42v-.09a5.07 5.07 0 00.54.36 6 6 0 003.13.87h.16a6.28 6.28 0 005.06-2.55 6.45 6.45 0 001.15-2.78c0-.15 0-.3.05-.46h.06a6.14 6.14 0 002.56.58 6.34 6.34 0 006.35-6.34 7 7 0 000-.8 6.58 6.58 0 001.47.19 6.34 6.34 0 005.78-3.81 6.33 6.33 0 00.18-4.63h.24a6.33 6.33 0 005.88-8.35 6.67 6.67 0 00-.6-1.3 6.21 6.21 0 002.91-1.39 6.3 6.3 0 001.52-7.74 6.47 6.47 0 00-1.09-1.5 6.43 6.43 0 001.69-1.12 6.3 6.3 0 00.86-8.18 6.26 6.26 0 00-1.51-1.54zm1.65 5.68a5.29 5.29 0 01-5 4.75 5.24 5.24 0 012.56 2.42 5.31 5.31 0 01.51 3.48 5.37 5.37 0 01-1.78 3 5.3 5.3 0 01-3.29 1.26 5.92 5.92 0 01-1.26-.13 5.34 5.34 0 01-3 9.67 5.44 5.44 0 01-2.28-.53 5.36 5.36 0 011.31 2.74 5.36 5.36 0 01-2.33 5.33 5.38 5.38 0 01-2.91.89 5.28 5.28 0 01-3.15-1.08 5.35 5.35 0 01-2 7.33 5.36 5.36 0 01-2.65.7 5.11 5.11 0 01-2.14-.49 5.25 5.25 0 01-1.74-1.33 5.3 5.3 0 01-.75 4.85 5.37 5.37 0 01-2 1.62 5.28 5.28 0 01-2.31.53h-.16a5 5 0 01-4.48-2.7 5.14 5.14 0 01-.18 2.27 5.21 5.21 0 01-1.11 2 5.26 5.26 0 01-3.9 1.74h-.26a5.09 5.09 0 01-4.89-3.68 5.13 5.13 0 01-5.12 4.76h-.33a5.15 5.15 0 01-5.12-4.76 5.09 5.09 0 01-4.9 3.68h-.27a5.3 5.3 0 01-3.88-1.73 5.41 5.41 0 01-1.12-2 5.28 5.28 0 01-.17-2.27 5.07 5.07 0 01-4.47 2.7h-.15a5.34 5.34 0 01-2.32-.54 5.16 5.16 0 01-1.96-1.6 5.25 5.25 0 01-.76-4.84 5.06 5.06 0 01-1.74 1.33 5.11 5.11 0 01-2.14.49h-.06A5.35 5.35 0 0121 96.2a5.33 5.33 0 01.73-2.69 5.23 5.23 0 01-3.14 1.08 5.35 5.35 0 01-4.87-3.2 5.4 5.4 0 01-.38-3 5.29 5.29 0 011.32-2.74 5.52 5.52 0 01-2.29.53 5.35 5.35 0 01-4.93-3.78 5.34 5.34 0 012-5.89 5.86 5.86 0 01-1.26.13 5.32 5.32 0 01-4.57-7.77 5.37 5.37 0 012.56-2.42 5.31 5.31 0 01-5-4.74A5.31 5.31 0 015 56a5.31 5.31 0 011.1-10.44 5.33 5.33 0 012-10.19 6.57 6.57 0 011.26.13 5.28 5.28 0 01-1.92-2.63 5.32 5.32 0 011.83-5.93 5.43 5.43 0 013.07-1.09 5.5 5.5 0 012.29.51 5.29 5.29 0 01-1.32-2.74 5.33 5.33 0 012.35-5.33 5.26 5.26 0 012.9-.88 5.18 5.18 0 013.14 1.09 5.36 5.36 0 012-7.35 5.42 5.42 0 012.64-.69h.05a5.08 5.08 0 013.88 1.82 5.32 5.32 0 012.7-6.47 5.33 5.33 0 012.32-.53h.15A5.07 5.07 0 0139.88 8a5.31 5.31 0 01.21-2.24 5.11 5.11 0 011.12-1.94 5.14 5.14 0 013.85-1.7h.27a5.08 5.08 0 014.89 3.69A5.16 5.16 0 0155.36 1h.29a5.15 5.15 0 015.14 4.78 5.08 5.08 0 014.88-3.69H66a5.39 5.39 0 012 .4 5.28 5.28 0 011.83 1.3A5.17 5.17 0 0171.13 8 5 5 0 0173 6a5 5 0 012.62-.73h.16a5.29 5.29 0 015 7 5.21 5.21 0 013.88-1.82 5.32 5.32 0 014.63 2.66 5.32 5.32 0 010 5.38 5.23 5.23 0 013.15-1.09 5.32 5.32 0 014.86 3.2 5.28 5.28 0 01.38 3 5.36 5.36 0 01-1.31 2.74 5.58 5.58 0 012.28-.51 5.35 5.35 0 014.94 3.76 5.33 5.33 0 01-1.95 5.89 6.65 6.65 0 011.26-.13 5.31 5.31 0 014.56 7.78 5.26 5.26 0 01-2.56 2.41A5.31 5.31 0 01106 56a5.3 5.3 0 014 5.68z"></path><path d="M105.74 40.46a5 5 0 01-.34 3 3.6 3.6 0 00.75-1 3.64 3.64 0 00.3-2.53 3.71 3.71 0 00-1.24-2.2 3.77 3.77 0 00-2.35-.9 5.31 5.31 0 011.16.71 5.11 5.11 0 011.72 2.92zM107.88 50.64a5.06 5.06 0 01-.92 3.47 3.77 3.77 0 001.06-1 3.81 3.81 0 00-2.15-6c.11.08.24.16.34.25a5.12 5.12 0 011.67 3.28z"></path><path d="M103.4 50.94l.1.05-.08.07c.11 1.1.18 2.21.22 3.33a3.65 3.65 0 001.49-6.16 3.41 3.41 0 00-2.25-.87c.22 1.19.4 2.38.52 3.58zm1.06-2a2.39 2.39 0 01.8 1.65v.09a2.41 2.41 0 01-.44 1.78 2.61 2.61 0 01-.27.31c0-.46-.06-.9-.1-1.33l.75-.66-.87-.49c-.06-.52-.13-1.06-.22-1.6a2.13 2.13 0 01.35.31zM100.76 37.61a3.27 3.27 0 00-.7.09c.46 1.13.88 2.28 1.25 3.44.34 1.06.66 2.13.93 3.22a3.38 3.38 0 001.89-3.88 3.5 3.5 0 00-1.13-2.02 3.54 3.54 0 00-2.21-.85zm1.57 1.61a2.53 2.53 0 01.84 1.47v.07a2.36 2.36 0 01-.21 1.67 1.88 1.88 0 01-.14.24c-.12-.42-.25-.86-.4-1.31l.53-.72-.85-.29c-.19-.55-.37-1.08-.56-1.59a2.47 2.47 0 01.79.46zM106.81 58a1.49 1.49 0 00.12.14 5.06 5.06 0 01-.72 6.77h-.07a3.56 3.56 0 001.31-.74A4.1 4.1 0 00108 59a3.58 3.58 0 00-1.19-1zM103.86 68.92a3.41 3.41 0 00-1.57-1.5c-.28 1.16-.62 2.31-1 3.45v.06h-.07c-.35 1.07-.73 2.13-1.16 3.18a4.76 4.76 0 00.65.06 3.47 3.47 0 003.38-2.89 3.39 3.39 0 00-.23-2.36zm-.68 2.14v.07a2.53 2.53 0 01-.84 1.47 2.42 2.42 0 01-.71.42c.15-.41.3-.83.45-1.27l.91-.29-.57-.77q.24-.76.45-1.5l.12.19a2.45 2.45 0 01.19 1.68zM95.51 22.27a5.16 5.16 0 01.43 2.12 3.77 3.77 0 00.31-.93 3.59 3.59 0 00-.25-2.12 4 4 0 00-3.54-2.44 3.86 3.86 0 00-1.42.32 5.08 5.08 0 014.49 3.05zM101.53 81.43A5.15 5.15 0 0199.74 84a4.9 4.9 0 01-1.54.79 3.25 3.25 0 00.45.06 3.9 3.9 0 003.56-2.78 3.57 3.57 0 000-2.35 3.67 3.67 0 00-.61-1.07 5.12 5.12 0 01-.07 2.78z"></path><path d="M91.29 23.76c.79.87 1.52 1.77 2.24 2.69a3.34 3.34 0 00.87-1.71 3.26 3.26 0 00-.27-2 3.69 3.69 0 00-1.32-1.63 3.74 3.74 0 00-2-.65 3.57 3.57 0 00-2.06.7l.79.74c.62.63 1.19 1.24 1.75 1.86zm-.46-2.27a2.69 2.69 0 011.43.48 2.75 2.75 0 011 1.19 2.31 2.31 0 01.2 1.43.36.36 0 010 .1c-.34-.42-.68-.81-1-1.19l.19-.87-.89.08-1.14-1.2zM97.23 31.94c.56 1 1.1 2 1.59 3a3.35 3.35 0 001.2-3.83 3.57 3.57 0 00-1.25-1.84 3.61 3.61 0 00-2.09-.76 3.72 3.72 0 00-1.39.33c.71 1.03 1.33 2.05 1.94 3.1zm.94-1.85a2.54 2.54 0 01.9 1.33 2.42 2.42 0 010 1.55l-.06.14-.68-1.25.37-.81-.9-.1c-.28-.48-.57-1-.87-1.43a2.52 2.52 0 011.24.57z"></path><path d="M101.53 30.85a5.1 5.1 0 01.09 2.63 3.93 3.93 0 00.57-1 3.57 3.57 0 000-2.35 3.84 3.84 0 00-3.56-2.78 5.18 5.18 0 00-.78.09 5.27 5.27 0 011.87.88 5.15 5.15 0 011.81 2.53zM100 80.68a3.29 3.29 0 00-1.14-3.77q-.78 1.61-1.68 3.15v.07h-.07c-.56 1-1.16 1.92-1.79 2.86a4.22 4.22 0 001.31.29 3.57 3.57 0 002.1-.76 3.62 3.62 0 001.27-1.84zm-1.86 1.06a2.56 2.56 0 01-1.11.51c.24-.38.48-.77.71-1.17l1-.09-.41-.88c.26-.45.51-.91.75-1.36a.14.14 0 000 .06 2.32 2.32 0 010 1.54v.06a2.54 2.54 0 01-.91 1.33zM83.46 12.56a5.09 5.09 0 015 4.09 3.87 3.87 0 00.11-.76A3.63 3.63 0 0088.1 14a4.2 4.2 0 00-1.48-1.48 4.11 4.11 0 00-2-.58 3.86 3.86 0 00-1.53.36 4.62 4.62 0 00-.55.35 5.16 5.16 0 01.87-.1zM9.57 81.42a5.13 5.13 0 010-2.93 3.54 3.54 0 00-.76 3.56 3.84 3.84 0 003.55 2.78 4.78 4.78 0 00.53-.06 5.09 5.09 0 01-3.31-3.35z"></path><path d="M13.84 80.14h-.16l.07-.15c-.56-1-1.09-2-1.58-3a3.42 3.42 0 00-1.28 1.67 3.35 3.35 0 000 2.19 3.64 3.64 0 003.33 2.61 4.09 4.09 0 001.5-.33c-.66-.97-1.29-1.96-1.88-2.99zm-1.08 1.78a2.57 2.57 0 01-.89-1.34 2.32 2.32 0 010-1.54l.09-.23c.23.42.46.85.7 1.27l-.44 1 1.05.1c.27.46.55.92.84 1.37a2.69 2.69 0 01-1.35-.63zM11 74.29c-.45-1.09-.85-2.2-1.22-3.32h-.14l.09-.11c-.35-1.08-.67-2.16-.94-3.26a3.34 3.34 0 00-1.71 1.5 3.39 3.39 0 00-.29 2.38 3.5 3.5 0 003.38 2.89 4.13 4.13 0 00.83-.08zm-2.39-1.52a2.47 2.47 0 01-.84-1.46v-.07A2.45 2.45 0 018 69.56a2 2 0 01.2-.31c.12.45.26.9.41 1.38l-.61.83 1 .31c.18.52.35 1 .53 1.48a2.35 2.35 0 01-.92-.48zM11 31.27a3.38 3.38 0 000 2.2 3.24 3.24 0 001.16 1.59c.49-1 1-2 1.6-3v-.09h.1c.58-1 1.2-2 1.86-3a3.87 3.87 0 00-1.35-.27 3.54 3.54 0 00-2.08.76A3.6 3.6 0 0011 31.27zm1.86-1a2.59 2.59 0 011.12-.51c-.26.41-.51.84-.77 1.27l-1 .09.41.9c-.23.42-.46.83-.67 1.24v-.07a2.35 2.35 0 010-1.55v-.05a2.6 2.6 0 01.87-1.36zM19.77 88.29h-.17v-.16q-1.12-1.27-2.16-2.61a3.24 3.24 0 00-.88 1.71 3.32 3.32 0 00.24 2 3.82 3.82 0 001.36 1.59 3.77 3.77 0 002 .62 3.58 3.58 0 002-.67l-.72-.77c-.57-.53-1.13-1.12-1.67-1.71zm.43 2.15a2.75 2.75 0 01-1.45-.44 2.68 2.68 0 01-1-1.17 2.25 2.25 0 01-.18-1.4v-.12l.94 1.12-.23 1 1.06-.12c.34.37.68.73 1 1.08z"></path><path d="M15.6 90a5 5 0 01-.41-2.47 3.46 3.46 0 00-.43 1.16 3.63 3.63 0 00.24 2.14 4 4 0 001.43 1.72 3.93 3.93 0 002.12.69 4 4 0 001.2-.21 5.21 5.21 0 01-2.31-.81A5.06 5.06 0 0115.6 90zM7.08 37.55a5.65 5.65 0 011.07-.67 3.73 3.73 0 00-2.35.9A3.78 3.78 0 004.55 40a3.59 3.59 0 001.23 3.65 5.07 5.07 0 011.3-6.08z"></path><path d="M6.85 40.66a3.4 3.4 0 001.86 3.87c.28-1.11.59-2.21.94-3.3l-.06-.08h.1c.36-1.12.76-2.21 1.2-3.3a4.78 4.78 0 00-.65-.07 3.49 3.49 0 00-3.38 2.91zm2.54-1.74l-.49 1.4-.9.29.59.8c-.15.47-.28.92-.41 1.36L8 42.56a2.41 2.41 0 01-.2-1.67v-.06a2.52 2.52 0 01.84-1.48 2.3 2.3 0 01.75-.43zM3.24 50.65A5.06 5.06 0 014.9 47.4a4.17 4.17 0 01.4-.3 3.74 3.74 0 00-1.75.9 3.69 3.69 0 00-1.21 2.5 3.61 3.61 0 001.87 3.73 5.09 5.09 0 01-.97-3.58zM9.54 30.85a5 5 0 013.52-3.39 3.43 3.43 0 00-.71-.08 3.85 3.85 0 00-3.55 2.77 3.57 3.57 0 000 2.35 3.48 3.48 0 00.69 1.14 5.09 5.09 0 01.05-2.79zM8.12 64.64q-.31-1.72-.51-3.48l-.17-.1.14-.12a53.3 53.3 0 01-.22-3.35 3.65 3.65 0 00-1.56 6.18 3.46 3.46 0 002.29.87zM6.47 63a2.37 2.37 0 01-.8-1.65v-.08a2.36 2.36 0 01.44-1.78 2 2 0 01.33-.38c0 .48.07.95.11 1.4l-.81.71.95.54c.06.51.13 1 .21 1.55a2.53 2.53 0 01-.43-.31zM5.4 71.81a5.1 5.1 0 01.46-3.3 3.66 3.66 0 00-1 1.18 3.59 3.59 0 00-.31 2.53A3.68 3.68 0 008 75.29a4.3 4.3 0 01-.89-.59 5 5 0 01-1.71-2.89z"></path><path d="M3.24 61.63a5.09 5.09 0 011-3.52l.21-.23A3.58 3.58 0 003 59a4.08 4.08 0 00.55 5.16A3.7 3.7 0 005 65l-.13-.1a5.06 5.06 0 01-1.63-3.27zM7.36 54.54c0-1.15.1-2.29.21-3.43L7.44 51l.16-.08c.12-1.15.29-2.29.49-3.41a3.56 3.56 0 00-.73 7zm-1.7-3.7v-.08a2.43 2.43 0 01.8-1.65 2.14 2.14 0 01.39-.28c-.08.49-.14 1-.2 1.46l-.93.52.8.71c0 .47-.08 1-.1 1.46a2.28 2.28 0 01-.33-.36 2.36 2.36 0 01-.43-1.78zM45.75 107.7h-.18a5 5 0 01-3.69-1.63 4.68 4.68 0 01-.45-.62 2.33 2.33 0 00.08.46 3.67 3.67 0 00.76 1.4 4 4 0 001.36 1 4.14 4.14 0 001.62.35h.08a3.62 3.62 0 002.16-.72 3.68 3.68 0 00.85-.91 4.87 4.87 0 01-2.51.72zM45.42 103.19l-.06-.13c-1.11-.24-2.22-.52-3.31-.84a3.68 3.68 0 00.11 1.24 3.37 3.37 0 00.71 1.28 3.88 3.88 0 002.82 1.26h.09a3.31 3.31 0 003.22-2.31q-1.73-.24-3.42-.6zm1.85 1.25l-.07.06a2.42 2.42 0 01-1.42.47h-.09a2.81 2.81 0 01-1.14-.24 2.74 2.74 0 01-.95-.67 2.18 2.18 0 01-.31-.46l1.35.32.42 1 .77-.7zM35.88 100.09v-.15c-1.08-.47-2.14-1-3.17-1.54a3.29 3.29 0 00-.16 1.49 3.38 3.38 0 00.59 1.53 4 4 0 001.38 1.15 3.92 3.92 0 001.74.43 3.27 3.27 0 001.75-.5 3.21 3.21 0 001.15-1.22c-1.06-.38-2.1-.81-3.13-1.27zm1.52 1.6a2.33 2.33 0 01-1.15.31 3.08 3.08 0 01-1.3-.32 3 3 0 01-1-.86 2.23 2.23 0 01-.36-.85c.45.22.92.45 1.42.67l.2 1 .9-.53zM27.17 95.05v-.12c-.94-.69-1.85-1.41-2.74-2.16a3.27 3.27 0 000 3.38 3.94 3.94 0 001.39 1.39 4 4 0 001.88.54 3.57 3.57 0 001.43-.34 3.45 3.45 0 001.06-.8c-1-.61-1.94-1.25-2.88-1.93zm.51 2a3 3 0 01-1.38-.41 2.9 2.9 0 01-1-1 2.22 2.22 0 01-.3-1.15c.41.33.82.64 1.22.94v1l.95-.32c.4.28.82.57 1.24.84a2.62 2.62 0 01-.73.13zM27.63 99.7a5.08 5.08 0 01-4.41-2.53 5.14 5.14 0 01-.64-1.82 3.46 3.46 0 00-.14.91 3.54 3.54 0 00.48 1.88 4.09 4.09 0 001.47 1.48 4 4 0 002 .57 3.54 3.54 0 001.53-.36c.09 0 .17-.11.26-.16a4 4 0 01-.49 0zM55.69 108.66h-.28a4.93 4.93 0 01-3.27-1.24c-.1-.09-.17-.19-.26-.28a3.76 3.76 0 001 1.61 3.69 3.69 0 002.45.94h.31a3.67 3.67 0 002.45-.94 3.78 3.78 0 001-1.46s-.08.09-.12.12a4.92 4.92 0 01-3.28 1.25zM36.33 104.66h-.13a5 5 0 01-2.22-.52 5.15 5.15 0 01-1.86-1.54 4.82 4.82 0 01-.64-1.18 4.7 4.7 0 000 .65 3.67 3.67 0 00.64 1.63 4.22 4.22 0 001.46 1.23 4.14 4.14 0 001.86.44 3.6 3.6 0 001.86-.52 3.82 3.82 0 00.6-.46 4.87 4.87 0 01-1.56.27zM55.43 104.15c-1.16 0-2.31-.06-3.45-.15a3.39 3.39 0 003.39 3h.28a3.41 3.41 0 003.35-3c-1.15.09-2.3.15-3.46.15l-.07.1zm.67 1h1.44a2.23 2.23 0 01-.26.27 2.41 2.41 0 01-1.63.63h-.28a2.38 2.38 0 01-1.63-.63 1.66 1.66 0 01-.26-.27h1.44l.59.82zM16.9 22.9a3.36 3.36 0 00.53 3.59c.7-.9 1.43-1.79 2.2-2.64v-.1h.1q.84-.93 1.74-1.83c.23-.24.48-.46.72-.69a3.59 3.59 0 00-1.93-.62 3.8 3.8 0 00-3.36 2.29zm3.34-1.28h.09l-1 1.09-1-.11.22 1c-.3.34-.6.7-.91 1.07a2.38 2.38 0 01.18-1.32 2.84 2.84 0 011-1.22 2.78 2.78 0 011.42-.51zM32.12 9.68A5.15 5.15 0 0134 8.14a5 5 0 012.22-.52h.16a4.92 4.92 0 011.66.3 3.6 3.6 0 00-.71-.58 3.65 3.65 0 00-1.87-.53 4.14 4.14 0 00-3.32 1.69 3.64 3.64 0 00-.64 1.62 3.56 3.56 0 000 .73 5 5 0 01.62-1.17zM67.45 107.31a4.93 4.93 0 01-1.93.39h-.26a4.8 4.8 0 01-2.62-.79 3.46 3.46 0 00.89 1 3.57 3.57 0 002.16.72h.07a4.1 4.1 0 001.62-.35 3.93 3.93 0 001.36-1 3.54 3.54 0 00.76-1.4 1.65 1.65 0 00.06-.32 5.34 5.34 0 01-.35.48 5 5 0 01-1.76 1.27zM25.82 14.53a3.91 3.91 0 00-1.38 1.39 3.26 3.26 0 000 3.29c.9-.76 1.82-1.48 2.76-2.17.95-.69 1.93-1.34 2.93-2a3.42 3.42 0 00-1-.74 3.57 3.57 0 00-1.42-.3 3.92 3.92 0 00-1.89.53zm2.45.53l-1.27.85-.83-.28v.9c-.4.29-.8.6-1.2.92a2.3 2.3 0 01.32-1A2.92 2.92 0 0127.74 15a2.07 2.07 0 01.53.06zM63.2 105.3a3.33 3.33 0 002 .67h.11a3.81 3.81 0 001.53-.32 3.92 3.92 0 001.3-.91 3.48 3.48 0 00.7-1.28 3.45 3.45 0 00.11-1.24c-1.1.32-2.2.6-3.32.84l-.06.13-.11-.09c-1.13.24-2.27.43-3.43.59a3.4 3.4 0 001.17 1.61zm2-1.12l.77.7.41-.95 1.37-.33a2.63 2.63 0 01-.33.49 2.86 2.86 0 01-2.07.88h-.11a2.39 2.39 0 01-1.41-.47h-.07z"></path><path d="M23.22 15.11a5.1 5.1 0 014.42-2.55h.05c.22 0 .43 0 .65.06a3.22 3.22 0 00-1.95-.62 4.18 4.18 0 00-2 .58 4.09 4.09 0 00-1.47 1.48 3.53 3.53 0 00-.48 1.87 3.85 3.85 0 00.15 1 5.12 5.12 0 01.63-1.82zM15.19 24.65a5.05 5.05 0 012.28-4.59 5 5 0 012.45-.83 3.88 3.88 0 00-1.35-.23A4 4 0 0015 21.38a3.58 3.58 0 00-.26 2.12 3.41 3.41 0 00.45 1.15zM36.35 9.12a4 4 0 00-1.7.38 3.87 3.87 0 00-1.39 1.11 3.38 3.38 0 00-.59 1.53 3.21 3.21 0 00.13 1.38c1-.54 2.06-1 3.11-1.51q1.61-.72 3.24-1.32a3.26 3.26 0 00-1-1.07 3.37 3.37 0 00-1.74-.49zM36 10.88l-.77-.46-.2.89c-.46.21-.9.41-1.31.62a2.36 2.36 0 01.33-.72 2.76 2.76 0 011-.8 2.92 2.92 0 011.27-.29 2.5 2.5 0 011 .2c-.44.17-.88.36-1.32.56z"></path></g><g class="middle-layer"><path d="M69.5 17a40.44 40.44 0 015.67 2.52l-1.06-5.24zm2.29-.19l1.62-1 .37 1.85c-.65-.31-1.32-.6-1.99-.88zM73.49 13c-.81-.34-1.63-.65-2.46-.94L69 15.61zM82 17.63c-.73-.51-1.47-1-2.22-1.45L77 19.33zM82.37 24.42V19l-5.08 1.7a42.19 42.19 0 015.08 3.72zm-1-2.1c-.59-.45-1.19-.89-1.8-1.31l1.8-.6zM76.52 18.92L77.79 15c-.75-.41-1.51-.8-2.29-1.17zM42.67 15.3l2-4.69c-.81.19-1.63.41-2.43.65zM51.86 9.47l-.41 4 2.95-4.13c-.85.02-1.7.07-2.54.13zM46 11.37l-2.09 4.82a41 41 0 016-1.26zm.35 1.69l1.32 1.21c-.68.12-1.35.27-2 .43zM50.76 13.77l-1.3-4q-1.34.16-2.64.42zM35.86 19.48A41.88 41.88 0 0141.51 17l-4.6-2.72zm1.76-3.65l1.61 1c-.67.27-1.33.57-2 .88zM42 15.6L39.94 12c-.82.29-1.63.61-2.43.94zM59.64 13.53l-.42-4a44.9 44.9 0 00-2.59-.13zM68.81 11.28c-.82-.24-1.65-.46-2.48-.66l2 4.77zM61.54 9.74l-1.29 4 3.92-3.61c-.87-.13-1.75-.28-2.63-.39zM61.12 14.92a41.7 41.7 0 016 1.27L65 11.37zm2.2-.65l1.32-1.21.71 1.64c-.67-.16-1.35-.31-2.03-.43zM55.51 14.53c1 0 2 .05 3.05.13l-3.05-4.27-3.07 4.27c1.02-.08 2.04-.13 3.07-.13zm1-1h-2l1-1.45zM77.29 92.85l2.6 2.9c.7-.42 1.38-.87 2.06-1.34zM69.11 96.55l2 3.42c.78-.28 1.56-.58 2.32-.9zM89.81 30.61l2.7-3a70.01 70.01 0 00-1.6-2zM99.54 40.58c-.31-.87-.63-1.73-1-2.58l-4.26.93zM94.41 38.17l3.18-2.3c-.35-.75-.73-1.48-1.13-2.2zM97.35 46.6l3.51-1.6c-.19-.79-.4-1.57-.64-2.35zM92.89 38l2.23-4.92-5.37-.51A41.85 41.85 0 0192.89 38zm-.06-2.3c-.35-.65-.73-1.3-1.12-1.94l1.92.18zM99 41.79l-5.16-1.62a40.33 40.33 0 012 6zm-1.63.53l-1.15 1.57c-.21-.72-.45-1.44-.7-2.15zM93.88 29.49L90 31.24l5.4.52c-.51-.76-1-1.53-1.52-2.27zM97.06 47.35l4.72 2.65q-.18-1.34-.42-2.67zM102 52.3l-3.66 3.24 3.79-.82c0-.81-.05-1.62-.13-2.42zM101 60.69l-4-3.57a40.23 40.23 0 01-.64 6.22zm-3.17-1.45l1.45 1.27-1.67 1c.11-.79.19-1.51.24-2.27zM96.29 48.49a42.05 42.05 0 01.71 6.26l4-3.59zm1.31 1.89l1.71 1-1.47 1.29c-.06-.79-.14-1.55-.24-2.29zM99 70.07l-3.18-4.33a41.1 41.1 0 01-1.91 5.94zM96.25 68l1.12 1.53-1.79.56c.24-.68.42-1.37.67-2.09zM88.34 30.68l1.17-5.27-5.36.59.69.66a41.41 41.41 0 013.5 4.02zm-.11-4.12l-.41 1.88c-.49-.57-1-1.13-1.49-1.66zM88.5 23c-.32-.32-.65-.62-1-.93l-3.4 2.49 5.31-.56c-.3-.35-.6-.67-.91-1zM83.77 24.07l2-3.52a39.08 39.08 0 00-2-1.61zM90.89 86.37c.59-.68 1.15-1.37 1.69-2.08l-2.83-3.13zM92.93 73.9a41 41 0 01-3.07 5.34l5.26-.5zm-.06 2.3l.76 1.68-1.82.17c.37-.6.73-1.22 1.06-1.85zM95.31 80.31l-4.93.47 3.62 1.6c.43-.68.88-1.38 1.31-2.07zM102.15 57.15l-4.1-.89 4 3.5c.04-.87.08-1.76.1-2.61zM100.9 66.79l-3.82-1.69 3.13 4.27q.38-1.27.69-2.58zM97.65 76l-3.41-2.48 2.2 4.83c.43-.76.83-1.55 1.21-2.35zM101.77 62l-4.37 2.51h4c.13-.82.26-1.64.37-2.51zM99.51 71.5L94.76 73l3.86.83c.32-.77.61-1.54.89-2.33zM35.51 13.83q-1.15.55-2.28 1.17l1.27 3.89zM88.49 89c.3-.29.58-.6.86-.9l-4.85-.56 3.13 2.28c.29-.29.58-.56.86-.82zM83.82 93.05c.7-.53 1.39-1.09 2.05-1.66l-2.1-3.63zM27.17 88l-2 3.41c.64.55 1.3 1.09 2 1.6zM88.37 81.3a42.07 42.07 0 01-3.53 4l-.55.53 5.22.6zm-1.91 3.8q.71-.75 1.38-1.56l.39 1.76zM22.51 89l.94.89 3.26-2.38-5.06.58c.28.28.56.59.86.91zM37.61 99.07c.76.32 1.53.62 2.31.89l2-3.42zM55.51 97.48c-1 0-2 0-2.95-.12l2.95 4.12 2.93-4.12c-.97.07-1.95.12-2.93.12zm0 2.28l-.92-1.29h1.85zM41.34 95a41.38 41.38 0 01-5.44-2.43l1 5zm-2.27.19l-1.45.81-.34-1.65c.59.3 1.18.56 1.79.82zM42.2 100.7c.8.24 1.61.46 2.43.65l-2-4.67zM49.43 102.24l1.26-3.86-3.79 3.46c.84.16 1.68.29 2.53.4zM22.64 81.3l-1.16 5.16 5.25-.6-.56-.53a42.07 42.07 0 01-3.53-4.03zm.13 4l.4-1.77c.45.54.92 1.07 1.39 1.57zM49.74 97.07A41.27 41.27 0 0144 95.84l2 4.65zm-2.18.65l-1.19 1.09-.64-1.48q.92.21 1.83.39zM59.21 102.49l.41-3.92-2.94 4.06c.85-.03 1.69-.07 2.53-.14zM29.06 94.41c.7.48 1.41 1 2.13 1.39l2.6-3zM28.65 87.6v5.24l4.91-1.65a41.68 41.68 0 01-4.91-3.59zm1 2.09c.54.41 1.09.82 1.65 1.2l-1.65.56zM34.46 93l-1.3 4c.77.42 1.54.83 2.33 1.2zM10.76 42.74c-.24.8-.45 1.61-.65 2.42l3.6 1.6zM27.17 18.94c-.68.51-1.34 1-2 1.61l2 3.43zM15.64 31.75l5.2-.5-3.78-1.69c-.49.72-.97 1.44-1.42 2.19zM82.37 87.6a42.53 42.53 0 01-4.91 3.59l4.91 1.65zm-1 3.85l-1.65-.56c.56-.38 1.11-.79 1.65-1.2zM60.32 98.37l1.25 3.87c.85-.11 1.69-.24 2.53-.4zM65 100.49l2-4.65a41.41 41.41 0 01-5.75 1.23zm-.36-1.68l-1.19-1.09c.61-.11 1.22-.25 1.83-.39zM10 51.16l4.07 3.59a40.76 40.76 0 01.66-6.26zm3.18 1.47l-1.46-1.29 1.7-1c-.11.78-.19 1.54-.25 2.29zM20 25.7c-.55.63-1.07 1.28-1.58 1.94l2.66 2.95zM11.47 40.56l5-1.56-4-.87c-.41.8-.72 1.61-1 2.43zM14.5 33.73c-.4.74-.79 1.48-1.15 2.24l3.24 2.34zM34 19.3l-2.79-3.11c-.74.46-1.47.93-2.19 1.43zM22.51 23c-.32.32-.62.65-.93 1l5.17.59-3.34-2.43c-.3.27-.61.55-.9.84zM51.4 98.57l.41 3.92c.83.07 1.68.11 2.52.14zM28.65 24.42a39.68 39.68 0 015.08-3.7L28.65 19zm1-4l1.8.6c-.61.42-1.21.86-1.8 1.31zM22.67 30.68a41.41 41.41 0 013.5-4c.23-.23.47-.44.7-.66l-5.39-.61zm2-3.9c-.5.53-1 1.09-1.49 1.67l-.42-1.89zM75.13 92.54A40.4 40.4 0 0169.67 95l4.44 2.62zM73.41 96L72 95.16a36.4 36.4 0 001.8-.8zM18.09 73.9l-2.2 4.84 5.26.5a40.94 40.94 0 01-3.06-5.34zm.05 2.3c.34.63.69 1.24 1.06 1.85l-1.82-.17zM68.38 96.65l-2 4.71c.82-.2 1.63-.42 2.44-.66zM12 70.07l5.1 1.61a41.14 41.14 0 01-1.92-5.94zm1.63-.53L14.76 68c.21.71.44 1.41.68 2.1zM12 41.79l3.21 4.37a42 42 0 012-6zm2.78 2.1l-1.15-1.57 1.85-.58c-.24.71-.48 1.43-.69 2.15zM21.27 32.61l-5.38.51L18.13 38a39.67 39.67 0 013.14-5.39zm-2 1.19c-.39.64-.76 1.29-1.12 1.94L17.38 34zM17.14 82.52l3.86-1.7-5.26-.5c.41.75.9 1.48 1.4 2.2zM10 60.69l4.7 2.65a41.5 41.5 0 01-.64-6.22zm1.72-.18l1.45-1.27c.06.74.13 1.48.23 2.22zM77.84 96.94L76.55 93l-1 5.13c.76-.37 1.53-.77 2.29-1.19zM12.69 56.44l-3.84.83c0 .81.07 1.63.13 2.44zM8.85 54.86l3.93.85L9 52.35c-.09.83-.13 1.65-.15 2.51zM9.22 50l4.43-2.5h-4c-.19.82-.32 1.65-.43 2.5zM16.57 73.8l-3.17 2.3c.35.74.73 1.47 1.12 2.19zM21.12 81.5l-2.62 2.89c.5.65 1 1.29 1.55 1.91zM13.78 64.64l-4.55-2.56c.12.86.25 1.71.41 2.56zM12.45 74l4.06-.88-5-1.57c.28.8.6 1.62.94 2.45zM13.67 65.36l-3.53 1.56c.19.8.4 1.6.64 2.39z"></path></g></svg>'},function(t,e){t.exports='<svg viewBox="0 0 10 6" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 1L5.001 5 1 1" stroke="#F6CEA0" stroke-miterlimit="10"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 54 54"><path fill="#fff" d="M50.81 4.9L48.7 2.79 27 24.49 5.3 2.79 3.19 4.9l21.7 21.7-21.7 21.7 2.11 2.11L27 28.71l21.7 21.7 2.11-2.11-21.7-21.7 21.7-21.7z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 54 54"><path fill="#FFFFFF" d="M21.342 21.65l.708-.706 10.6 10.613-.707.706z"></path><path fill="#FFFFFF" d="M21.34 31.551l10.606-10.606.707.707-10.607 10.606z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 54 54"><path class="line1" d="M21.7 21.3l10.6 10.61" fill="none" stroke="#fff"></path><path class="line2" d="M32.3 21.3L21.7 31.91" fill="none" stroke="#fff"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16.71 25.9" fill="#f6cea0"><path d="M8.35 0L0 13l8.35 13 8.36-13zm1.36 22l-1.36 2.1L7 22l-4.45-6.95L1.19 13l1.36-2.1L7 4l1.35-2.16L9.71 4l4.45 6.9 1.36 2.1-1.36 2.1z" fill-rule="evenodd"></path><path d="M9.56 6l-1.2-2.2L7.16 6l-2.77 5-1.2 2.2 1.2 2.19 2.77 5.05 1.2 2.19 1.2-2.19 2.77-5.05 1.2-2.19-1.2-2.2zm-1.2 14.62l-4-7.35 4-7.36 4 7.36z" fill-rule="evenodd"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 54 54"><path d="M28.9 37.4v-9.1h3.2l.6-3.8h-3.8v-2.4c0-1 .5-2 2.3-2h1.7v-3.2s-1.6-.3-3.1-.3c-3.2 0-5.2 1.8-5.2 5.1v2.9H21v3.8h3.5v9.1h4.4z" fill="#fff"></path></svg>'},function(t,e){t.exports='<svg viewBox="0 0 80 32" xmlns="http://www.w3.org/2000/svg"><path d="M19.643 14.594h3.352v8.703s-3.596 2.066-9.297 2.083C4.427 25.407-.019 20.147 0 12.655.018 5.658 5.187-.022 13.763 0c3.833.01 7.031 1.426 8.472 2.326l-.738 1.187c-1.321-.86-3.987-2.14-7.737-2.15C7.126 1.348 3.573 6.267 3.557 12.665c-.017 6.593 3.856 11.337 10.145 11.353 2.089.006 4.395-.674 5.94-1.724v-7.699zm19.594-4.696c1.252 1.362 1.859 3.357 1.859 5.7v1.005l-12.364-.056c-.006 2.426.503 4.277 1.528 5.55a4.94 4.94 0 002.212 1.562c.977.344 2.06.426 3.086.318a7.764 7.764 0 003.153-1.046c.297-.177.588-.368.858-.584l.686 1.042a11.282 11.282 0 01-2.985 1.543 9.946 9.946 0 01-3.18.5c-2.513-.007-4.549-.82-6.11-2.44-1.562-1.619-2.339-3.723-2.332-6.313.007-2.671.763-4.813 2.268-6.425s3.508-2.414 6.008-2.408c2.289.006 4.06.69 5.313 2.052zm-1.158 5.366c.007-2.48-.263-3.812-1.055-4.812-.792-1-1.842-1.5-3.243-1.504-1.402-.004-2.563.568-3.483 1.715-.92 1.146-1.53 2.735-1.605 4.6h9.386zm8.715 5.69V9.574h4.693v-1.34h-4.693V3.549l-2.681.67v4.017h-2.011v1.338h2.01l.008 11.13c-.006 2.543 1.54 4.754 4.393 4.766 1.04.004 2.252-.284 3.627-.953l-.29-.736s-5.068 2.07-5.056-2.826zm11.062 0V9.574h4.693v-1.34h-4.693V3.549l-2.681.67v4.017h-2.347l-1.34 1.338h3.687V20.62c-.007 2.544 1.412 4.865 4.266 4.877 1.04.005 2.252-.283 3.627-.952l-.29-.736s-4.934 2.042-4.922-2.854zM67.386 32h2.011L79.644 8.235h-2.01l-5.53 12.818-5.39-12.818h-3.16l6.951 16.497L67.385 32z" fill="#fff"></path></svg>'},function(t,e){t.exports='<svg viewBox="0 0 14 18" xmlns="http://www.w3.org/2000/svg"><path d="M7 18c2.383-3.52 6.591-6.345 6.973-10.578.018-.199.027-.4.027-.604C14 3.053 10.866 0 7 0S0 3.053 0 6.818c0 .204.01.405.027.604C.41 11.655 4.617 14.481 7 18z" fill="currentColor"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 54 54"><path d="M28.4 19.1l-1.8 1.8h.1c1 0 2 .2 2.9.7l.7-.7c.2-.2.4-.4.7-.5.3-.1.6-.2.8-.1.3 0 .6.1.8.2.2.1.5.3.6.5.3.4.4.9.4 1.4 0 .5-.3.9-.6 1.3l-4.7 4.7c-.3.3-.7.5-1.2.6-.4.1-.9 0-1.3-.2-.1-.1-.3-.1-.4-.1-.1 0-.3.1-.4.2l-1.5 1.5c.9.9 2 1.3 3.3 1.3 1.2 0 2.4-.5 3.3-1.4l4.7-4.7c.4-.4.8-1 1-1.6.2-.6.4-1.2.4-1.8s-.1-1.2-.4-1.8c-.3-.6-.6-1.1-1.1-1.5-.9-.8-2.1-1.2-3.3-1.1-1-.1-2.1.4-3 1.3zm-4 13.3l-.7.7c-.2.2-.4.4-.7.5-.3.1-.6.2-.8.1-.3 0-.6-.1-.8-.2-.2-.1-.5-.3-.6-.5-.3-.4-.4-.9-.4-1.4 0-.5.3-.9.6-1.3l4.7-4.7c.3-.3.7-.5 1.2-.6.4-.1.9 0 1.3.2.1.1.3.1.4.1.1 0 .3-.1.4-.2l1.5-1.5c-.9-.9-2-1.3-3.3-1.3-1.2 0-2.4.5-3.3 1.4L19 28.5c-.4.4-.8 1-1 1.6-.2.6-.4 1.2-.4 1.8 0 .6.1 1.2.4 1.8.3.6.6 1.1 1.1 1.5.9.8 2.1 1.2 3.3 1.1 1.2-.1 2.4-.6 3.2-1.5l1.8-1.8h-.1c-1.1.2-2.1-.1-2.9-.6z" fill="#fff"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 182 182"><path d="M169.79 136.5a90.83 90.83 0 00-11.07-106.22l-.11-.16-.13-.11a91.58 91.58 0 00-13.88-12.5.63.63 0 00-.12-.11.39.39 0 00-.14-.08A90.49 90.49 0 0091 0h-.07A90.54 90.54 0 0037.6 17.36l-.08.05-.07.06a91.37 91.37 0 00-14 12.6l-.08.06-.06.1A90.82 90.82 0 0012.2 136.47v.05a90.48 90.48 0 0011 15.11.83.83 0 00.14.22 1.06 1.06 0 00.2.17 92.31 92.31 0 0013.74 12.38 1.62 1.62 0 00.19.18l.24.12A90.8 90.8 0 0054 174.11h.08a90.22 90.22 0 0018 5.85 90.68 90.68 0 0018.84 2h.13a90.5 90.5 0 0036.95-7.83 90.63 90.63 0 0016.25-9.39.94.94 0 00.22-.12 1 1 0 00.18-.17 91.48 91.48 0 0013.76-12.39 1 1 0 00.19-.17.6.6 0 00.14-.21 91.16 91.16 0 0011-15.13zM2.42 83.74L10.66 91l-8.24 7.29a88.36 88.36 0 010-14.55zm177.16 14.54L171.35 91l8.23-7.27a88.36 88.36 0 010 14.55zm-36.84 63.93l-9.74-3.28a79.28 79.28 0 009.69-7.07zM85 170.62c2 .15 4 .25 6 .25s4-.1 6-.24L91 179zM39.26 19.79L49 23.07a79.09 79.09 0 00-9.68 7.06zM91 3l6 8.38c-2-.14-3.9-.24-5.89-.25H91c-2 0-4 .1-6 .25zm52.31 145.5a1 1 0 00-.36.2 1 1 0 00-.26.36 77.24 77.24 0 01-12.47 9.06.9.9 0 00-.41.13 1 1 0 00-.32.29 76.08 76.08 0 01-8.24 4.09c-1.91.81-3.85 1.53-5.82 2.18a1.13 1.13 0 00-.45 0 1 1 0 00-.39.26 77.93 77.93 0 01-15 3.18 1.2 1.2 0 00-.46-.07 1 1 0 00-.43.17 77.87 77.87 0 01-15.19 0h-.15a1.09 1.09 0 00-.45-.18h-.11a1 1 0 00-.38.08 77.47 77.47 0 01-15-3.21 1.17 1.17 0 00-.38-.24 1.14 1.14 0 00-.45 0 77.36 77.36 0 01-14.07-6.28 1 1 0 00-.32-.28.86.86 0 00-.41-.13c-1.43-.84-2.84-1.72-4.22-2.66A78.24 78.24 0 0139.3 149a1.24 1.24 0 00-.25-.35 1.28 1.28 0 00-.38-.21A77.73 77.73 0 0128.36 137a.91.91 0 00-.17-.39 1 1 0 00-.33-.29 77.36 77.36 0 01-7.7-13.32 1 1 0 00-.08-.42.94.94 0 00-.27-.35c-.14-.33-.3-.66-.44-1A77.91 77.91 0 0115 107.6a1 1 0 000-.46 1.16 1.16 0 00-.2-.4 77.74 77.74 0 01-1.61-15.29.94.94 0 000-.9q0-3.54.36-7.07a75.68 75.68 0 011.26-8.21.94.94 0 00.2-.4 1.06 1.06 0 000-.47 78.3 78.3 0 014.79-14.62 1 1 0 00.28-.36 1 1 0 00.08-.44 77.72 77.72 0 016.38-11.45c.43-.63.87-1.25 1.32-1.87a1 1 0 00.51-.7 77.8 77.8 0 0110.29-11.44.88.88 0 00.39-.21.89.89 0 00.26-.38 77.88 77.88 0 0112.44-9 1.17 1.17 0 00.44-.13 1 1 0 00.32-.32 77.89 77.89 0 018.24-4.08c1.91-.81 3.85-1.52 5.81-2.17a1 1 0 00.45 0 .9.9 0 00.4-.26 77 77 0 0115-3.18 1.09 1.09 0 00.47.08 1 1 0 00.45-.18c2.49-.24 5-.37 7.51-.37h.28c2.54 0 5.07.14 7.57.39a1.23 1.23 0 00.42.14 1 1 0 00.45-.06 76.57 76.57 0 0115 3.18 1 1 0 00.39.25 1 1 0 00.46 0 76.64 76.64 0 0114 6.26 1.09 1.09 0 00.33.31.93.93 0 00.4.12c1.43.84 2.85 1.72 4.23 2.66a77.14 77.14 0 018.34 6.43 1 1 0 00.25.34 1 1 0 00.38.21A77.86 77.86 0 01153.65 45a.86.86 0 00.16.38 1 1 0 00.33.29A78.07 78.07 0 01161.85 59a.88.88 0 00.08.42.92.92 0 00.26.35c.14.33.3.66.44 1A77.34 77.34 0 01167 74.39a.86.86 0 000 .45 1 1 0 00.19.41 77.87 77.87 0 011.61 15.31.93.93 0 00-.11.44 1 1 0 00.12.46q0 3.53-.36 7.05a78.59 78.59 0 01-1.26 8.23 1 1 0 00-.2.4 1.07 1.07 0 000 .47 79.17 79.17 0 01-4.77 14.63.94.94 0 00-.27.35 1 1 0 00-.08.42 77.72 77.72 0 01-6.38 11.45c-.43.64-.88 1.27-1.33 1.89a1 1 0 00-.32.29 1 1 0 00-.17.39 78.67 78.67 0 01-10.35 11.46zm27.5-55.11l7.72 6.83-9 5.06a78.78 78.78 0 001.29-11.9zm-1.25-16.66l9 5.07-7.73 6.84a79 79 0 00-1.26-11.92zm-4.68-16l9.83 3.1-6.13 8.27a78.25 78.25 0 00-3.69-11.41zM157 46l10.29 1-4.29 9.34A78.69 78.69 0 00157 46zM27.84 42.19l-2.25-10.08 10.28 1.18a79.67 79.67 0 00-8.03 8.9zM19 56.34L14.78 47 25 46a81.5 81.5 0 00-6 10.34zm-5.59 15.73L7.29 63.8l9.82-3.09a78.52 78.52 0 00-3.7 11.36zm-2.22 16.56l-7.73-6.82 9-5.07a77.78 77.78 0 00-1.27 11.89zm1.24 16.65l-9-5.07 7.73-6.83a80.37 80.37 0 001.27 11.9zm4.68 16l-9.83-3.09 6.13-8.27a81.06 81.06 0 003.7 11.38zM25.05 136l-10.28-1 4.23-9.35A80.62 80.62 0 0025.05 136zm129.12 3.8l2.25 10.1-10.3-1.18a81 81 0 008.05-8.92zm8.83-14.14l4.27 9.35L157 136a81.19 81.19 0 006-10.34zm5.63-15.72l6.13 8.27-9.83 3.09a78.52 78.52 0 003.66-11.36zM154.17 42.2a81.14 81.14 0 00-8-8.93l10.3-1.18zm-11.52-12.06a81.33 81.33 0 00-9.7-7.08l9.79-3.28zm-24.71-14.33l8.87-5.23 2.05 10.1a81 81 0 00-10.92-4.87zm-16.22-4l7.58-7 4.1 9.44a80.75 80.75 0 00-11.68-2.39zm-33.11 2.53l4.09-9.42 7.57 6.94a78.9 78.9 0 00-11.66 2.48zm-15.46 6.34l2.05-10.09 8.8 5.22a80 80 0 00-10.85 4.87zM27.83 139.8a81 81 0 008.05 8.92l-10.29 1.18zm11.53 12.06a80.34 80.34 0 009.69 7.07l-9.79 3.28zm24.7 14.32l-8.87 5.24-2-10.11a78.07 78.07 0 0010.87 4.87zm16.22 3.95l-7.59 7-4.09-9.44a78.89 78.89 0 0011.68 2.44zm33.12-2.48l-4.1 9.44-7.58-7a79.44 79.44 0 0011.68-2.44zm15.45-6.33l-2 10.1-8.86-5.23a80.34 80.34 0 0010.86-4.87zm40.74-53.61l9.58-5.41a89.65 89.65 0 01-3 14.23zm0-33.41l6.54-8.82a89.75 89.75 0 013 14.22zm-5.19-16l4.56-10a89.67 89.67 0 013.92 8.07q1.08 2.58 2 5.21zM156 43.77l2.38-10.7a88.8 88.8 0 018.55 11.75zm-24.82-22.35L129 10.65a88.52 88.52 0 0111.68 6.67l.88.61zm-15.35-6.84l-4.37-10.07A87.21 87.21 0 01125.29 9zM99.4 11.09l-6.35-8.91a89.15 89.15 0 0114.45 1.48zm-16.79 0l-8.1-7.43A88.15 88.15 0 0189 2.19zm-16.44 3.5L56.71 9a88.18 88.18 0 0113.83-4.48zm-15.34 6.84l-10.41-3.49A88.8 88.8 0 0153 10.66zM26 43.78l-10.92 1c.72-1.19 1.46-2.36 2.24-3.51a89.22 89.22 0 016.3-8.24zm-8.4 14.55l-10.47 3.3A88.62 88.62 0 0113 48.34zm-5.19 16l-9.58 5.39a88.45 88.45 0 013-14.24zm0 33.41l-6.53 8.82a88.65 88.65 0 01-3-14.22zm5.19 16l-4.55 10a88.38 88.38 0 01-3.92-8.07c-.73-1.71-1.39-3.44-2-5.19zm8.4 14.5l-2.38 10.69a88.7 88.7 0 01-8.53-11.73zm24.83 22.36L53 171.33a89.2 89.2 0 01-11.68-6.65l-.85-.6zm15.34 6.84l4.36 10A89.06 89.06 0 0156.75 173zm16.44 3.49l6.39 8.92c-2.18 0-4.37-.16-6.54-.38q-4-.37-7.89-1.13zm16.79 0l8.08 7.4a89.66 89.66 0 01-14.43 1.53zm16.43-3.5l9.45 5.57a88.65 88.65 0 01-13.81 4.48zm15.35-6.84l10.38 3.48a88.36 88.36 0 01-12.56 7.26zM156 138.23l10.91-1c-.72 1.18-1.45 2.35-2.23 3.49a87.49 87.49 0 01-6.3 8.24zm8.4-14.54l10.47-3.3a89.53 89.53 0 01-5.87 13.28zm-19.63-92.4l.1-10.95A88.88 88.88 0 01155.66 30zm-107.53 0l-10.89-1.24a88.7 88.7 0 0110.78-9.73zm0 119.43l-.11 10.92A89.21 89.21 0 0126.36 152zm107.53 0l10.87 1.28a89.28 89.28 0 01-10.77 9.71z" fill="#efd0a1"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 54 54"><path class="const-fill diamond-1" fill="#79644b" d="M22.997 22L27 17.998 31 22.001l-4.003 4.002z"></path><path class="const-fill diamond-2" fill="#79644b" d="M27.998 27.001L32 23l4.001 4.002L32 31.004z"></path><path class="const-fill diamond-3" fill="#79644b" d="M22.996 32.002L27 28.001l4.002 4.003-4.003 4.001z"></path><path class="const-fill diamond-4" fill="#79644b" d="M17.995 27l4.003-4L26 27.001l-4.003 4.002z"></path></svg>'},function(t,e){t.exports='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 18 10" xml:space="preserve"><path class="st1" d="M16.6 9.4L12.3 5 16.6.6l.8.8L13.7 5l3.7 3.6z" opacity=".2"></path><path class="st1" d="M13.6 9.4L9.3 5 13.6.6l.8.8L10.7 5l3.7 3.6z" opacity=".4"></path><path class="st1" d="M10.6 9.4L6.3 5 10.6.6l.8.8L7.7 5l3.7 3.6z" opacity=".7"></path><path class="st1" d="M7.6 9.4L3.3 5 7.6.6l.8.8L4.7 5l3.7 3.6z"></path><path class="st1" d="M4.6 9.4L.3 5 4.6.6l.8.8L1.7 5l3.7 3.6z"></path></svg>'},function(t,e){t.exports='<svg viewBox="0 0 27 27" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.5 16.5a3 3 0 100-6 3 3 0 000 6z" stroke="#F6CEA0" stroke-miterlimit="10"></path><path d="M13.5 15.06a1.56 1.56 0 100-3.12 1.56 1.56 0 000 3.12z" fill="#F6CEA0"></path><g fill="none" fill-opacity="0" stroke="#F6CEA0" stroke-miterlimit="10"><path d="M13.5 1a3.13 3.13 0 00-3.12 3.13 18.206 18.206 0 001.25 4.37c.27.74.84 1.88 1.87 1.88 1.03 0 1.6-1.14 1.88-1.88a18.21 18.21 0 001.25-4.37A3.13 3.13 0 0013.5 1zM13.5 26a3.13 3.13 0 003.13-3.12 18.334 18.334 0 00-1.25-4.38c-.28-.73-.84-1.87-1.88-1.87s-1.6 1.14-1.87 1.87a18.325 18.325 0 00-1.25 4.38A3.12 3.12 0 0013.5 26v0zM22.34 4.68a3.13 3.13 0 00-4.42 0 18.591 18.591 0 00-2.21 4c-.32.71-.73 1.92 0 2.65s1.94.33 2.65 0a17.908 17.908 0 004-2.21 3.13 3.13 0 00-.02-4.44zM4.71 22.34a3.13 3.13 0 004.42 0 17.908 17.908 0 002.21-4c.33-.71.73-1.92 0-2.65s-1.94-.32-2.65 0a18.59 18.59 0 00-4 2.21 3.13 3.13 0 00.02 4.44v0zM26 13.5a3.12 3.12 0 00-3.12-3.12 18.325 18.325 0 00-4.38 1.25c-.73.27-1.87.84-1.87 1.87 0 1.03 1.14 1.6 1.87 1.88a18.334 18.334 0 004.38 1.25A3.13 3.13 0 0026 13.5v0zM1 13.5a3.13 3.13 0 003.13 3.13 18.21 18.21 0 004.37-1.25c.74-.28 1.88-.84 1.88-1.88s-1.14-1.6-1.88-1.87a18.206 18.206 0 00-4.37-1.25A3.13 3.13 0 001 13.5v0zM22.339 22.34a3.13 3.13 0 000-4.42 18.347 18.347 0 00-4-2.21c-.71-.32-1.92-.73-2.65 0s-.32 1.94 0 2.65a18.352 18.352 0 002.21 4 3.13 3.13 0 004.44-.02v0zM4.71 4.68a3.13 3.13 0 000 4.42 18.14 18.14 0 004 2.21c.71.33 1.92.74 2.65 0s.33-1.94 0-2.65a18.141 18.141 0 00-2.21-4 3.13 3.13 0 00-4.44.02z"></path></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 4 5.5"><g fill="#fff"><path d="M0 0h1v5.5H0zM3 0h1v5.5H3z"></path></g></svg>'},function(t,e){t.exports='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 6 6" xml:space="preserve"><path class="st0" d="M5.8 3L3.5 1.6v2.7zM3.5 1.6L1.1.2v5.5l2.4-1.4z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 54 54"><path d="M26.5 19.1h1v15h-1z"></path><path d="M19.5 26.1h15v1h-15z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 24"><path d="M7 9l1.6 3L7 15l-1.6-3L7 9m0-2l-2.8 5L7 17l2.8-5L7 7z"></path><path d="M7 2.6l5.2 9.4L7 21.4 1.8 12 7 2.6M7 .5L.7 12 7 23.5 13.3 12 7 .5z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19 19"><path d="M9.53 1a1.84 1.84 0 011.13.39 1.87 1.87 0 01.66 1v.05h.05a1.84 1.84 0 01.6-.43 1.79 1.79 0 01.72-.15 1.84 1.84 0 01.83.19 1.76 1.76 0 01.66.55 1.92 1.92 0 01.36.78 2 2 0 010 .87h.07a2 2 0 01.54-.07 1.88 1.88 0 011.28 3.22 1.88 1.88 0 011 .66A1.92 1.92 0 0118 9.5a1.87 1.87 0 01-1.41 1.82h-.05a1.94 1.94 0 01.52.95 1.89 1.89 0 01-.76 1.94 2 2 0 01-1 .34 2.52 2.52 0 01-.54-.08h-.07a2 2 0 010 .87 1.92 1.92 0 01-.36.78 1.76 1.76 0 01-.66.55 1.84 1.84 0 01-.83.19 1.79 1.79 0 01-.72-.15 1.84 1.84 0 01-.6-.43.09.09 0 00-.07 0h-.05a1.87 1.87 0 01-.66 1 1.84 1.84 0 01-1.21.72h-.06a1.84 1.84 0 01-1.13-.39 1.87 1.87 0 01-.66-1h-.05a.09.09 0 00-.07 0 2 2 0 01-.6.43 1.83 1.83 0 01-.73.15 1.88 1.88 0 01-1.5-.74 2 2 0 01-.35-.79 1.93 1.93 0 010-.86h-.11a2.52 2.52 0 01-.54.08 1.92 1.92 0 01-1-.34A1.89 1.89 0 012 13.51a2 2 0 01-.09-1.09 2 2 0 01.53-.95A1.87 1.87 0 011 9.5a1.92 1.92 0 01.39-1.15 1.88 1.88 0 011-.66 1.87 1.87 0 011.34-3.38 2 2 0 01.54.07h.07a1.93 1.93 0 010-.86 1.9 1.9 0 01.36-.79 1.86 1.86 0 01.66-.55 1.84 1.84 0 01.83-.19 1.83 1.83 0 01.74.01 2 2 0 01.6.43h.05v-.05a1.87 1.87 0 01.66-1A1.84 1.84 0 019.47 1h.06zm0-1a2.86 2.86 0 00-1.81.6 2.73 2.73 0 00-.48.48 2.82 2.82 0 00-1-.2 2.94 2.94 0 00-1.29.29A3 3 0 003.9 2a2.88 2.88 0 00-.54 1.21v.12a3 3 0 00-1.22.48 2.88 2.88 0 00-1 1.31A2.85 2.85 0 001 6.79a2.44 2.44 0 00.14.46 2.78 2.78 0 00-.48.49 2.86 2.86 0 000 3.53 2.73 2.73 0 00.48.48 2.44 2.44 0 00-.14.46 2.89 2.89 0 00.13 1.67 2.83 2.83 0 001 1.3 2.88 2.88 0 001.22.49v.11A2.88 2.88 0 003.9 17a3 3 0 001 .84 2.92 2.92 0 001.27.29 2.84 2.84 0 001-.2 2.73 2.73 0 00.48.48 2.85 2.85 0 001.75.6h.06a2.89 2.89 0 002.23-1.08 2.78 2.78 0 001 .2 2.9 2.9 0 001.28-.29 3 3 0 001-.84 2.82 2.82 0 00.54-1.21v-.12a2.77 2.77 0 001.22-.48 2.88 2.88 0 001-1.31 2.85 2.85 0 00.14-1.66 2.69 2.69 0 00-.14-.46 2.73 2.73 0 00.48-.48 2.86 2.86 0 000-3.53 2.78 2.78 0 00-.48-.49 2.44 2.44 0 00.14-.46 2.85 2.85 0 00-.14-1.66 2.85 2.85 0 00-2.25-1.79v-.12A2.82 2.82 0 0015.1 2a3 3 0 00-1-.84 2.87 2.87 0 00-1.29-.28 2.8 2.8 0 00-1.05.2A2.89 2.89 0 009.53 0zm0 2.4a.47.47 0 01.28.09.47.47 0 01.16.25 1.47 1.47 0 00.53.83 1.57 1.57 0 00.91.32 1.31 1.31 0 00.59-.13 1.39 1.39 0 00.49-.34.72.72 0 01.15-.11.47.47 0 01.17 0 .53.53 0 01.23.06.48.48 0 01.19.16.44.44 0 01.07.17.44.44 0 010 .2 1.53 1.53 0 000 .7 1.44 1.44 0 00.28.63 1.47 1.47 0 001.13.59h.63a.51.51 0 01.25.09.42.42 0 01.16.21.49.49 0 010 .28.5.5 0 01-.13.22 1.47 1.47 0 00-.42.69 1.51 1.51 0 000 .79 1.62 1.62 0 00.39.67 1.6 1.6 0 00.67.38.51.51 0 01.28.16.41.41 0 01.09.28.45.45 0 01-.09.32.42.42 0 01-.25.16 1.56 1.56 0 00-.69.38 1.52 1.52 0 00-.4.68 1.47 1.47 0 000 .78 1.52 1.52 0 00.4.68.39.39 0 01.12.49.45.45 0 01-.18.24.44.44 0 01-.25.08h-.15a1.16 1.16 0 00-.4-.06 1.47 1.47 0 00-1.2.59 1.45 1.45 0 00-.28.62 1.6 1.6 0 000 .69.42.42 0 010 .22.42.42 0 01-.08.18.54.54 0 01-.18.15.54.54 0 01-.25.06.31.31 0 01-.15 0 .45.45 0 01-.14-.1 1.56 1.56 0 00-.5-.35 1.43 1.43 0 00-.58-.12 1.51 1.51 0 00-1.38.96.49.49 0 01-.16.28.46.46 0 01-.27.09h-.1a.44.44 0 01-.27-.09.47.47 0 01-.2-.25 1.43 1.43 0 00-.53-.83 1.5 1.5 0 00-.91-.32 1.45 1.45 0 00-.59.12 1.42 1.42 0 00-.49.35.65.65 0 01-.15.1.35.35 0 01-.17 0 .53.53 0 01-.16-.02.58.58 0 01-.19-.16.36.36 0 01-.07-.17.44.44 0 010-.2 1.56 1.56 0 000-.71 1.45 1.45 0 00-.28-.62 1.51 1.51 0 00-.46-.44 1.49 1.49 0 00-.66-.15 1.33 1.33 0 00-.45.07H3.7a.42.42 0 01-.22-.08.41.41 0 01-.17-.21.47.47 0 010-.28.5.5 0 01.13-.22 1.47 1.47 0 00.42-.69 1.44 1.44 0 000-.77 1.5 1.5 0 00-.4-.69 1.58 1.58 0 00-.72-.35.45.45 0 01-.36-.44.47.47 0 01.34-.47 1.63 1.63 0 00.71-.39 1.62 1.62 0 00.39-.7 1.51 1.51 0 000-.79 1.54 1.54 0 00-.4-.67.53.53 0 01-.15-.24.43.43 0 010-.25.45.45 0 01.17-.24.51.51 0 01.26-.09h.63A1.66 1.66 0 005 5.64a1.62 1.62 0 00.53-.44 1.44 1.44 0 00.28-.63 1.56 1.56 0 000-.68.42.42 0 010-.22.4.4 0 01.07-.18.7.7 0 01.12-.15.54.54 0 01.25-.06h.15a.49.49 0 01.14.11 1.74 1.74 0 00.5.35 1.45 1.45 0 00.59.12 1.57 1.57 0 00.91-.32A1.5 1.5 0 009 2.77a.46.46 0 01.16-.28.46.46 0 01.27-.09zm0-1a1.46 1.46 0 00-.88.3 1.44 1.44 0 00-.52.82.56.56 0 01-.17.26.5.5 0 01-.3.11.65.65 0 01-.2 0 .58.58 0 01-.15-.11 1.45 1.45 0 00-.48-.34 1.39 1.39 0 00-.57-.12 1.62 1.62 0 00-.68.16 1.67 1.67 0 00-.58.41 1.51 1.51 0 00-.26.61 1.39 1.39 0 000 .67.55.55 0 010 .22.72.72 0 01-.09.2.52.52 0 01-.18.15.54.54 0 01-.22 0h-.1a2 2 0 00-.43-.07 1.49 1.49 0 00-1.35.94 1.38 1.38 0 00-.07.85 1.44 1.44 0 00.42.75.38.38 0 01.13.22.36.36 0 010 .25.45.45 0 01-.13.32.43.43 0 01-.22.12 1.47 1.47 0 00-.81.52 1.43 1.43 0 00-.31.91 1.46 1.46 0 00.31.92 1.4 1.4 0 00.81.51.54.54 0 01.22.13.42.42 0 01.13.22.39.39 0 010 .26.42.42 0 01-.13.22 1.41 1.41 0 00-.42.74 1.38 1.38 0 00.07.85 1.54 1.54 0 00.53.6 1.43 1.43 0 00.82.26 1.54 1.54 0 00.43-.06h.13a.54.54 0 01.22 0 .49.49 0 01.18.14.67.67 0 01.09.21.55.55 0 010 .22 1.38 1.38 0 000 .67 1.51 1.51 0 00.26.61 1.52 1.52 0 00.54.44 1.49 1.49 0 00.68.17 1.39 1.39 0 00.57-.12 1.45 1.45 0 00.48-.34.42.42 0 01.15-.11.45.45 0 01.2 0 .5.5 0 01.3.11.52.52 0 01.17.26 1.4 1.4 0 00.51.81 1.46 1.46 0 00.89.31h.06a1.43 1.43 0 001.4-1.12.52.52 0 01.17-.26.5.5 0 01.3-.11.45.45 0 01.2 0 .42.42 0 01.15.11 1.45 1.45 0 00.48.34 1.38 1.38 0 00.56.12 1.6 1.6 0 001.16-.54 1.51 1.51 0 00.26-.61 1.38 1.38 0 000-.67.55.55 0 010-.22.67.67 0 01.09-.21.49.49 0 01.18-.14.54.54 0 01.22 0h.13a1.54 1.54 0 00.43.06 1.43 1.43 0 00.79-.33 1.54 1.54 0 00.53-.68 1.46 1.46 0 00.07-.85 1.41 1.41 0 00-.42-.74.42.42 0 01-.13-.22.39.39 0 010-.26.42.42 0 01.13-.22.54.54 0 01.22-.13 1.4 1.4 0 00.81-.51 1.47 1.47 0 00.3-.92 1.42 1.42 0 00-.3-.91 1.47 1.47 0 00-.81-.52.43.43 0 01-.22-.04.45.45 0 01-.13-.23.36.36 0 010-.25.38.38 0 01.13-.22 1.45 1.45 0 00.42-.74 1.4 1.4 0 00-.07-.86 1.49 1.49 0 00-1.35-.94 2 2 0 00-.43.07h-.14a.54.54 0 01-.22 0 .52.52 0 01-.18-.15.72.72 0 01-.09-.2.55.55 0 010-.22 1.39 1.39 0 000-.67 1.51 1.51 0 00-.22-.7 1.53 1.53 0 00-1.23-.61 1.38 1.38 0 00-.56.12 1.45 1.45 0 00-.48.34.58.58 0 01-.15.11.65.65 0 01-.2 0 .5.5 0 01-.3-.11.56.56 0 01-.17-.26 1.44 1.44 0 00-.52-.82 1.47 1.47 0 00-.89-.3z" fill="currentColor"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18"><path d="M13.6 13.2c1.3-1.4 2.1-3.2 2.1-5.2 0-4.1-3.4-7.5-7.5-7.5S.7 3.9.7 8s3.4 7.5 7.5 7.5c1.7 0 3.3-.6 4.6-1.6l3.7 3.7.7-.7-3.6-3.7zm-5.4 1.3c-3.6 0-6.5-2.9-6.5-6.5s2.9-6.5 6.5-6.5 6.5 2.9 6.5 6.5-2.9 6.5-6.5 6.5z" fill="#fff"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 54 54"><g fill="#fff"><path d="M28.44 36.06h-2.9a1 1 0 01-1-1v-1.41l-.45-.2-1 1a1 1 0 01-1.46 0l-2.05-2a1 1 0 01-.3-.72 1 1 0 01.3-.73l1-1c-.06-.17-.12-.31-.17-.46H19a1 1 0 01-1-1v-2.9a1 1 0 011-1h1.4c.08-.16.14-.3.2-.45l-1-1a1 1 0 01-.3-.73 1.06 1.06 0 01.3-.73l2.05-2a1 1 0 011.45 0l1 1c.17-.05.32-.12.46-.17V19a1 1 0 011-1h2.9a1 1 0 011 1v1.39l.43.19 1-1a1 1 0 011.46 0l2.05 2.05a1 1 0 010 1.46l-1 1c.07.21.12.34.17.47H35a1 1 0 011 1v2.9a1 1 0 01-1 1h-1.37c-.07.15-.13.29-.19.44l1 1a1 1 0 01.3.73 1.06 1.06 0 01-.3.73l-2.05 2a1 1 0 01-1.45 0l-1-1c-.17 0-.32.12-.46.17V35a1 1 0 01-1.04 1.06zm-4.39-3.61a1 1 0 01.41.08 3.2 3.2 0 00.39.16 1 1 0 01.66 1V35h2.93v-1.41a1 1 0 01.66-1 3.89 3.89 0 00.38-.16 1 1 0 011.14.22l1 1 2.08-2-1-1a1 1 0 01-.22-1.13c.06-.13.11-.26.16-.39a1 1 0 011-.66H35v-2.93h-1.42a1 1 0 01-.95-.66l-.15-.35a1 1 0 01.2-1.17l1-1-2.05-2.09-1 1a1 1 0 01-1.14.22l-.39-.17a1 1 0 01-.66-.95V19h-2.93v1.41a1 1 0 01-.66 1 3.89 3.89 0 00-.38.16 1 1 0 01-1.14-.22l-1-1-2.08 2.05 1 1a1 1 0 01.22 1.13c-.06.13-.11.26-.16.39a1 1 0 01-1 .66H19v2.93h1.42a1 1 0 01.95.66c.05.13.11.26.16.38a1 1 0 01-.21 1.14l-1 1 2 2.09 1-1a1 1 0 01.73-.33z"></path><path d="M27 30.15A3.14 3.14 0 1130.14 27 3.14 3.14 0 0127 30.15zm0-5.28A2.14 2.14 0 1029.14 27 2.14 2.14 0 0027 24.87z"></path></g></svg>'},function(t,e){t.exports='<svg viewBox="0 0 1197 340" fill="none" xmlns="http://www.w3.org/2000/svg"><g class="word persepolis"><path class="letter letter-p" d="M64.6 10.39c-5.283 0-10.514-.227-15.692-.175-3.212.036-5.845-2.51-5.845-5.722V.703L.675 18.832h.017l6.565 2.212c.21.07.421.158.632.246 5.02 2.334 10.83 6.6 10.935 13.866V214.54s-.035.158-.035.211c-.14 1.035-.351 2.018-.562 2.984l-.158.684a36.09 36.09 0 01-.755 2.65c-.017.071-.052.123-.07.176-.28.79-.58 1.545-.895 2.264-.088.176-.158.369-.246.544a29.809 29.809 0 01-1.088 2.124c-.053.088-.105.158-.158.246a31.96 31.96 0 01-1.088 1.72c-.088.14-.193.281-.281.421-5.16 7.232-11.953 9.303-11.953 9.303h26.153c.175 0 .386 0 .579-.035h31.98s-6.846-2.036-12.023-9.356a23.83 23.83 0 01-.86-1.298c-.088-.141-.176-.299-.264-.439-.193-.316-.368-.632-.561-.966-.106-.193-.194-.386-.299-.579-.158-.298-.316-.614-.474-.93-.105-.211-.193-.456-.298-.667-.14-.316-.28-.614-.404-.948-.105-.246-.193-.509-.28-.755-.123-.333-.246-.649-.352-.983a11.398 11.398 0 01-.245-.824c-.106-.334-.211-.685-.299-1.036l-.21-.895c-.088-.351-.176-.72-.246-1.088a15.65 15.65 0 01-.176-.966c-.052-.333-.123-.667-.175-1.018a6.826 6.826 0 01-.07-.842l.087-63.767s60.064-6.302 90.763-33.595c9.583-8.917 16.218-19.307 18.868-30.646 8.864-37.948-14.217-75.843-88.112-75.843H64.6zm46.074 99.82c-34.034 34.034-67.593 33.999-67.593 33.999V63.293h-.106V33.121h.018l.035-18.202c33.946-3.686 83.899 22.52 84.321 58.467.175 14.831-6.968 27.083-16.692 36.806l.017.018z" fill="#fff"></path><path class="letter letter-e" d="M220.691 69.349c-38.141 0-69.068 37.667-69.068 84.145 0 46.478 30.927 84.197 69.068 84.197 22.396 0 42.283-12.988 54.868-33.121l-20.905 4.968c-4.844 10.882-11.76 18.5-20.167 21.097-20.887 6.389-47.356-19.447-55.851-59.396 0 0 96.203-46.987 96.923-47.321 7.442-3.44-6.635-27.75-9.443-31.54-10.69-14.359-27.487-23.03-45.425-23.03zm31.33 46.495l-75.018 45.847c-5.353-40.774 10.005-78.897 30.769-85.286 11.216-3.458 21.941 2.878 29.4 10.882 3.932 4.23 7.249 9.057 9.9 14.165.772 1.491 6.547 13.357 4.949 14.375v.017z" fill="#fff"></path><path class="letter letter-r" d="M361.74 71.016l-34.367 25.117.035-22.502-.053.035-24.169 10.339-18.166 7.775h.017l6.881 2.317c5.142 2.335 11.25 6.67 11.25 14.2v105.752c-2.632 18.693-17.253 23.116-17.253 23.116h58.659s-14.603-4.406-17.236-23.064V106.068s0-3.985 5.634-9.373c5.634-5.389 19.834 4.335 30.646 9.373 10.812 5.037 13.199-1.018 13.199-1.018l20.712-22.274c-23.678 10.83-35.824-11.76-35.824-11.76h.035z" fill="#fff"></path><path class="letter letter-s" d="M498.436 173.96c-7.267-11.55-18.465-21.098-28.224-30.524a644.303 644.303 0 00-26.083-23.853c-7.056-6.126-15.182-13.849-15.182-24.099 0-7.758 4.265-14.972 11.69-17.482 8.583-2.896 18.412-1.615 27.118 0l.228.035a32.027 32.027 0 0120.466 13.34c5.055 7.337 9.969 16.481 10.25 21.326.053-7.846 1.036-22.485 1.088-30.33-15.533-6.74-31.927-10.725-48.444-11.269-9.688-.334-19.693.614-28.346 5.88-13.551 8.25-20.87 28.961-12.813 45.372 7.284 14.832 22.782 28.172 34.156 37.948 15.428 13.287 40.984 31.927 39.019 49.778-2.791 25.416-25.1 26.872-49.375 21.308-8.284-1.895-15.446-7.073-20.009-14.27-5.459-8.583-11.058-19.588-11.058-24.467v34.455s16.727 6.073 18.553 6.687c20.694 6.933 51.62 9.074 66.487-.86 13.322-8.917 20.343-25.433 17.517-41.388-1.123-6.354-3.703-12.181-7.073-17.552l.035-.035z" fill="#fff"></path><path class="letter letter-e" d="M587.514 69.349c-38.141 0-69.068 37.667-69.068 84.145 0 46.478 30.927 84.197 69.068 84.197 22.397 0 42.283-12.988 54.868-33.121l-20.905 4.968c-4.844 10.882-11.759 18.5-20.167 21.097-20.887 6.389-47.356-19.447-55.851-59.396 1.668-3.756 96.397-46.794 96.923-47.321 7.442-3.44-6.635-27.75-9.443-31.54-10.689-14.359-27.487-23.03-45.425-23.03zm31.331 46.495s-72.719 45.794-75.018 45.847c-5.354-40.774 10.004-78.897 30.769-85.286 11.216-3.458 21.94 2.878 29.4 10.882 3.931 4.23 7.249 9.057 9.899 14.165.772 1.491 6.547 13.357 4.95 14.375v.017z" fill="#fff"></path><path class="letter letter-p" d="M739.445 71.999c-17.482 0-33.437 7.934-45.618 20.992v-2.527l.053-16.815-.071.035-24.169 10.338-18.149 7.776h.018l6.88 2.317c3.949 1.79 8.443 4.774 10.338 9.478v47.215c-.07 1.562-.122 3.142-.122 4.722 0 1.579.035 3.159.122 4.721v122.514c-2.632 29.4-17.236 36.351-17.236 36.351h58.659s-14.62-6.951-17.236-36.351v-64.416c12.287 13.655 28.61 21.975 46.549 21.975 38.105 0 69.032-37.684 69.032-84.198 0-46.513-30.927-84.145-69.032-84.145l-.018.018zm13.814 161.287c-21.66 6.617-49.375-21.414-56.764-63.96-7.354-42.582 8.407-83.601 30.032-90.271 21.659-6.67 45.161 22.467 52.551 65.048 7.354 42.582-4.195 82.513-25.819 89.183z" fill="#fff"></path><path class="letter letter-o" d="M888.007 71.999c-38.141 0-69.068 37.684-69.068 84.145s30.927 84.198 69.068 84.198 69.033-37.685 69.033-84.198c0-46.513-30.927-84.145-69.033-84.145zm13.814 161.287c-21.66 6.617-49.374-21.414-56.764-63.96-7.354-42.582 8.408-83.601 30.032-90.271 21.659-6.67 45.161 22.467 52.551 65.048 7.354 42.582-4.195 82.513-25.819 89.183z" fill="#fff"></path><path class="letter letter-l" d="M1003.17 214.049V75.931h-.07V32.419L1003.15 0l-.07.035-24.17 10.338-18.167 7.776 6.898 2.317c5.125 2.317 11.216 6.652 11.251 14.147V94.5h.07v119.548c-2.633 18.693-17.253 23.116-17.253 23.116h58.661s-14.62-4.423-17.24-23.116h.04z" fill="#fff"></path><g class="letter letter-i" fill="#fff"><path d="M1068.14 214.066V106.05l.06-32.419-.06.035-24.17 10.339-18.16 7.775h.02l6.88 2.317c5.14 2.335 11.25 6.67 11.25 14.2v105.752c-2.64 18.693-17.26 23.116-17.26 23.116h58.66s-14.6-4.406-17.23-23.064l.01-.035zM1080.45 31.594c-7.36 3.563-20.64 6.687-34.82-5.845l-19.94 17.447c19.02 6.88 37-.772 54.74-11.585l.02-.017z"></path></g><path class="letter letter-s" d="M1196.36 191.512c-1.12-6.354-3.7-12.181-7.07-17.552-7.27-11.55-18.47-21.098-28.22-30.524a645.161 645.161 0 00-26.09-23.853c-7.05-6.126-15.18-13.849-15.18-24.099 0-7.758 4.27-14.972 11.69-17.482 8.58-2.896 18.41-1.615 27.12 0l.23.035a32.01 32.01 0 0120.46 13.34c5.06 7.337 9.97 16.481 10.27 21.326.05-7.846 1.04-22.485 1.09-30.33-15.54-6.74-31.93-10.725-48.45-11.269-9.68-.334-19.69.614-28.34 5.88-13.55 8.25-20.87 28.961-12.82 45.372 7.29 14.832 22.79 28.172 34.16 37.948 15.43 13.287 40.99 31.927 39.02 49.778-2.79 25.416-25.1 26.872-49.37 21.308-8.29-1.895-15.45-7.073-20.01-14.27-5.46-8.583-11.06-19.588-11.06-24.467v34.455s16.73 6.073 18.55 6.687c20.69 6.933 51.62 9.074 66.49-.86 13.32-8.917 20.34-25.433 17.52-41.388l.01-.035z" fill="#fff"></path></g><g class="word reimagined"><path class="letter letter-r" d="M830.898 319.116s-.035-.053-.088-.141v.036s.035 0 .035.017c.035.053.053.088.053.088h-12.041s3.511-1.281 1.194-6.705v-.035l-9.268-16.289-.14.053-9.092 1.123v16.061c.193 1.474.684 2.597 1.281 3.44 1.299 1.825 3.001 2.334 3.001 2.334h-7.986-6.67s3.651-1.105 4.318-5.774v-44.899c-.035-1.843-1.544-2.931-2.808-3.51l-1.72-.579 4.528-1.949 6.038-2.58h.018v2.44c1.773-.105 3.563 0 5.371-.018 14.884-.087 21.905 6.986 22.028 16.57.035 2.913-2.317 7.828-4.722 10.057-1.281 1.211-2.808 2.317-4.476 3.282l-1.474.65-1.878.825 10.619 18.675s.017.035.035.053l.035.052c3.862 5.442 8.829 6.723 8.829 6.723h-5.02zm-18.816-26.592c.562-.421 1.158-.86 1.755-1.334.264-.21.527-.403.808-.614 3.844-3.019 8.021-7.003 7.951-12.567-.105-8.917-12.41-15.446-20.887-14.639-.071 0-.123 0-.193.018v12.093h.017v20.22l.457-.14.544-.176.333-.105.86-.263 5.336-1.615.158-.053 2.861-.86v.035z" fill="#fff"></path><path class="letter letter-e" d="M839.709 302.459c2.124 9.987 8.741 16.446 13.971 14.849 2.106-.649 3.827-2.563 5.038-5.266l5.23-1.246c-3.142 5.038-8.126 8.285-13.726 8.285-9.53 0-17.271-9.426-17.271-21.045 0-11.62 7.723-21.028 17.271-21.028 4.494 0 8.689 2.177 11.357 5.757.702.948 4.23 7.021 2.369 7.881l-24.239 11.83v-.017zm18.342-13.849c.403-.263-1.053-3.229-1.246-3.598-.667-1.281-1.492-2.492-2.475-3.545-1.861-2.001-4.546-3.581-7.355-2.721-5.195 1.597-9.021 11.128-7.688 21.326l18.764-11.462z" fill="#fff"></path><path class="letter letter-i" d="M866.213 270.584l4.985-4.353c3.545 3.142 6.863 2.352 8.706 1.457-4.441 2.703-8.934 4.616-13.691 2.896zm14.919 48.496h-14.673s3.651-1.105 4.318-5.774v-26.451c0-1.878-1.528-2.967-2.809-3.546l-1.72-.579 4.546-1.948 6.038-2.58v35.104c.649 4.669 4.3 5.774 4.3 5.774z" fill="#fff"></path><path class="letter letter-m" d="M946.478 319.116h-14.673s3.65-1.106 4.317-5.775v-22.66c-.035-3.405-3.721-15.621-16.499-4.598l-1.456 1.351s-.369.351-.58 1.053v24.854c.65 4.687 4.318 5.793 4.318 5.793h-14.673s3.65-1.106 4.317-5.775V290.91c-.035-3.405-3.721-15.622-16.516-4.599l-1.457 1.352s-.72.666-.72 2.018v23.66c.65 4.687 4.318 5.793 4.318 5.793h-14.673s3.65-1.106 4.317-5.775V301.88h-.017v-14.972c0-1.878-1.527-2.949-2.808-3.546l-1.721-.579 4.546-1.948 6.038-2.58v7.793l.334-.351c1.738-1.176 3.458-2.352 5.195-3.528 2.774-1.896 5.582-3.897 9.075-3.914 1.316 0 2.72.263 4.072.754.298.106.579.228.877.369.983.456 1.914 1.035 2.703 1.755 1.334 1.036 2.282 2.352 2.44 4.581l.228-.228c1.738-1.176 3.458-2.352 5.196-3.528 2.773-1.896 5.599-3.897 9.074-3.914 1.317 0 2.721.263 4.072.755.299.105.58.228.878.368.983.457 1.913 1.036 2.703 1.755 1.439 1.124 2.475 2.581 2.475 5.178v27.259c.649 4.669 4.318 5.775 4.318 5.775l-.018-.018z" fill="#fff"></path><path class="letter letter-a" d="M981.635 319.063h-6.652a3.165 3.165 0 01-3.124-2.668l-.474-2.984-.369.281s-4.686 4.704-8.951 5.617c-4.266.913-7.758.263-11.392-3.072-3.633-3.335-4.353-10.548-3.001-13.725l22.116-10.549s1.053-.334 1.351-1.931v-3.212c0-.193 0-.369-.053-.562v-.035c0-.316-.158-2.826-1.298-4.914-1.089-2.019-3.09-3.616-6.758-2.44 0 0-4.02 1.808-8.197 8.039l-5.511-5.213s7.565-4.265 11.251-4.546c3.703-.264 7.775-.544 10.391.983.772.456 1.913.983 2.738 1.614 1.983 1.51 3.475 3.599 3.475 6.495v25.591l.667 3.387c1.211 3.019 3.774 3.792 3.791 3.792v.052zm-10.496-8.881v-16.973h-.702l-16.727 11.356s-1.053 8.232 6.529 9.689c6.442 1.246 9.636-2.001 10.883-4.09l.017.018z" fill="#fff"></path><path class="letter letter-g" d="M1017 332.718c-5.17 5.88-14.91 7.723-22.252 5.968-12.462-2.966-15.13-11.935-15.13-11.935l6.266-3.476c1.58 6.46 7.442 15.008 16.346 14.516 5.84-.333 10.7-3.703 12.49-9.355.93-2.967 1.16-6.652-1.44-8.864-2.72-2.317-7.11-2.387-10.48-2.352-1.96 0-3.962.088-5.928.281-2.352.228-4.722.79-7.091.509-3.124-.351-10.075-3.967-5.933-7.548l7.881-6.81h.018c-4.388-2.545-7.319-7.038-7.319-12.146 0-7.934 7.038-14.375 15.712-14.375.17 0 .33.017.51.017l-.16-.052s.09.017.23.052c.91.035 1.8.123 2.66.281 2.78.106 7.02-.333 10.29-3.3l5.04 4.301s-3.02 2.457-10.08.965c4.34 2.563 7.23 7.003 7.23 12.076 0 7.934-7.04 14.375-15.71 14.375-2.049 0-3.998-.368-5.788-1.018-.702-.07-1.369 0-2.019.316l-4.352 4.213c-2.458 4.668 10.197 2.229 18.009 1.685 3.12-.211 6.76-.141 9.58 1.421 7.59 4.178 6.41 14.604 1.46 20.22l-.04.035zm-25.692-39.158c1.685 7.266 7.021 12.233 11.952 11.11 4.92-1.141 7.55-7.951 5.88-15.235-1.68-7.267-7.02-12.252-11.952-11.111-4.915 1.141-7.547 7.952-5.88 15.218v.018z" fill="#fff"></path><path class="letter letter-i" d="M1021.72 270.637l4.99-4.353c3.54 3.142 6.86 2.352 8.71 1.456-4.45 2.704-8.94 4.617-13.7 2.897zm14.92 48.496h-14.67s3.65-1.106 4.32-5.774v-26.452c0-1.878-1.53-2.966-2.81-3.545l-1.72-.579 4.55-1.949 6.03-2.58v35.105c.65 4.668 4.3 5.774 4.3 5.774z" fill="#fff"></path><path class="letter letter-n" d="M1077.33 319.133h-14.67s3.65-1.105 4.31-5.774V290.91c-.03-3.406-3.72-15.622-16.51-4.599l-1.46 1.351s-.72.667-.72 2.019v23.66c.67 4.687 4.32 5.792 4.32 5.792h-14.67s3.65-1.105 4.31-5.774v-26.451c0-1.878-1.52-2.949-2.81-3.528l-1.72-.58 4.55-1.948 6.04-2.58V286.065l.33-.351c1.74-1.176 3.46-2.352 5.2-3.528 2.77-1.896 5.58-3.896 9.07-3.914 1.32 0 2.72.263 4.07.755.3.105.58.228.88.368.98.457 1.92 1.036 2.7 1.756 1.44 1.123 2.48 2.58 2.48 5.177v27.031c.65 4.686 4.32 5.792 4.32 5.792l-.02-.018z" fill="#fff"></path><path class="letter letter-e" d="M1085.18 302.459c2.12 9.987 8.74 16.446 13.97 14.849 2.1-.649 3.82-2.563 5.03-5.266l5.24-1.246c-3.15 5.038-8.13 8.285-13.73 8.285-9.53 0-17.27-9.426-17.27-21.045 0-11.62 7.72-21.028 17.27-21.028 4.49 0 8.69 2.177 11.36 5.757.7.948 4.23 7.021 2.37 7.881l-24.24 11.83v-.017zm18.34-13.849c.4-.263-1.06-3.229-1.25-3.598-.67-1.281-1.49-2.492-2.47-3.545-1.86-2.001-4.55-3.581-7.36-2.721-5.19 1.597-9.02 11.128-7.69 21.326l18.77-11.462z" fill="#fff"></path><path class="letter letter-d" d="M1151.44 319.046h-6.66a3.162 3.162 0 01-3.12-2.668l-.44-2.686c-3.05 3.335-7.09 5.354-11.51 5.354-9.53 0-17.26-9.426-17.26-21.045 0-11.62 7.73-21.046 17.26-21.046 4.28 0 8.19 1.896 11.21 5.038V268.39c0-1.878-1.53-2.949-2.81-3.528l-1.72-.579 4.55-1.948 6.04-2.581h.01v8.092h-.01v29.277c0 .281.01.579.01.86s0 .579-.01.86v12.989l.66 3.387c1.22 3.019 3.78 3.791 3.78 3.791l.02.036zm-18.49-40.318c-5.42-1.667-11.28 5.617-13.14 16.254-1.85 10.654 1.05 20.623 6.46 22.291 5.4 1.65 12.33-5.354 14.18-15.99 1.84-10.654-2.11-20.905-7.51-22.572l.01.017z" fill="#fff"></path></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 54 54"><path d="M23.67 24h-3.35v6h3.35l3.65 2.43V21.57L23.67 24zm2.65 6.57L23.97 29h-2.65v-4h2.65l2.35-1.57v7.14z" fill="#fff"></path><path class="on-state" d="M31.17 30.85l-.7-.7a4.472 4.472 0 000-6.3l.7-.7a5.426 5.426 0 010 7.69z" fill="#fff"></path><path class="off-state" fill="#fff" d="M32.97 28.85l-1.42-1.41-1.41 1.41-.71-.7 1.42-1.42-1.42-1.41.71-.71 1.41 1.41 1.42-1.41.71.71-1.42 1.41 1.42 1.42-.71.7z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 54 54"><path d="M36 22.1v.7c0 6.6-4.7 14-13.3 14-2.5 0-5-.8-7.2-2.2.4 0 .8.1 1.1.1 2.1 0 4.1-.8 5.8-2.1-.9 0-1.9-.3-2.7-.9s-1.3-1.4-1.7-2.5c.8.1 1.4.1 2.1-.1-1-.2-2-.8-2.7-1.7-.8-.8-1-2-1-3.1v-.1c.7.4 1.3.7 2.1.7-1-.8-1.7-1.8-2-3-.3-1.2-.1-2.5.6-3.7 1.1 1.6 2.6 2.8 4.2 3.7 1.7.9 3.4 1.3 5.3 1.4-.2-.8-.2-1.8.1-2.5.2-.8.7-1.6 1.2-2.2 1.9-1.9 4.9-1.8 6.7.2 1-.2 2.1-.7 3-1.2-.3 1.1-1 2.1-2.1 2.7.9-.1 1.9-.4 2.7-.8-.5 1-1.2 1.8-2.2 2.6z" fill="#fff"></path></svg>'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){var s={"./default/default.fs.glsl":775,"./default/default.vs.glsl":776};function a(t){var e=n(t);return i(e)}function n(t){if(!i.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}a.keys=function(){return Object.keys(s)},a.resolve=n,t.exports=a,a.id=774},function(t,e,i){"use strict";i.r(e),e.default="precision mediump float;\n\nvarying vec2 vUV;\n\nuniform sampler2D uTexture;\t\n\nvoid main(void) {\n\tgl_FragColor = texture2D(uTexture, vUV);\n}"},function(t,e,i){"use strict";i.r(e),e.default="attribute vec3 aPos;\nattribute vec2 aUV0;\n\nvarying vec2 vUV;\n\nvoid main(void) {\n\tvUV = aUV0;\n\tgl_Position = vec4(aPos, 1.0);\n}"},function(t,e,i){"use strict";i.r(e),e.default="precision mediump float;\n\nuniform sampler2D uTexture;\nuniform vec2 _PixelSize;\n\nvarying vec2 vUV;\n\nvec3 blur()\n{\n  const int n = 2;\n  float wSum = 0.;\n  vec3 sum = vec3(0.);\n  for(int y = -n; y <= n; y++){\n    for(int x = -n; x <= n; x++){\n      vec2 o = vec2 (float(x), float(y));\n      float w = smoothstep(float(n), 0., length(o));\n      if(w > 0.){\n        sum += texture2D(uTexture, vUV + o * _PixelSize).xyz * w;\n        wSum += w;\n      }\n    }\n  }\n  return sum / wSum;\n}\n\nvoid main(void) {\n\tgl_FragColor = vec4(blur(), 1.);\n}\n"},function(t,e,i){"use strict";i.r(e),e.default="attribute vec3 aPos;\nattribute vec2 aUV0;\n\nvarying vec2 vUV;\n\nvoid main(void) {\n  vUV = aUV0;\n  gl_Position = vec4(aPos, 1.0);\n}\n"},function(t,e,i){"use strict";i.r(e),e.default="precision mediump float;\n\nuniform vec4 _Color;\n\nvoid main(void) {\n\tgl_FragColor = _Color;\n}\n"},function(t,e,i){"use strict";i.r(e),e.default="attribute vec3 aPos;\n\nvoid main(void) {\n\tgl_Position = vec4(aPos, 1.0);\n}\n"},function(t,e,i){"use strict";i.r(e),e.default="precision mediump float;\n\nvarying vec2 vUV;\n\nuniform sampler2D uTexture;\t\nuniform float _Gamma;\nuniform float _Brightness;\nuniform float _UseExp;\nuniform float _BrightnessBeforeExp;\n\nvoid main(void) {\n\tvec3 c = texture2D(uTexture, vUV).xyz;\n\tif(_UseExp > .5){\n\t\tc = 1. - exp(-c * _BrightnessBeforeExp);\n\t}else{\n\n\t}\n\tc = pow(c * _Brightness, vec3(_Gamma));\n\tgl_FragColor = vec4(c, 1.);\n}"},function(t,e,i){"use strict";i.r(e),e.default="attribute vec3 aPos;\nattribute vec2 aUV0;\n\nvarying vec2 vUV;\n\nvoid main(void) {\n\tvUV = aUV0;\n\tgl_Position = vec4(aPos, 1.0);\n}"},function(t,e,i){"use strict";i.r(e),e.default="precision mediump float;\n\nuniform samplerCube  _CubeSampler;\nuniform float _Gamma;\nuniform float _Fog;\n\nvarying vec3 vNormal;\n\nvoid main(void) {\n\tvec3 c = textureCube(_CubeSampler, vNormal).xyz;\n  c = pow(c, vec3(1. / _Gamma));\n  c = mix(c, vec3(.8), _Fog);\n\tgl_FragColor = vec4(c, 1.);\n}\n"},function(t,e,i){"use strict";i.r(e),e.default="attribute vec3 aPos;\n\nuniform vec3 _CameraPos;\nuniform mat4 _ViewProjection;\nuniform mat3 _World;\n\nvarying vec3 vNormal;\n\nvoid main(void) {\n\tgl_Position = _ViewProjection * vec4(_World * aPos * 450. + _CameraPos, 1.0);\n  vNormal = aPos;\n}\n"},function(t,e,i){"use strict";i.r(e),e.default="precision mediump float;\n\nvarying float vOpacity;\nvarying float vRandom;\n\nuniform float _Additive;\n\nvoid main(void) {\n  vec2 uv = gl_PointCoord.xy * 2. - 1.;\n\n  //randomize shape\n  uv.x += sin(vRandom +  uv.x * vRandom) * .5;\n  uv.y += cos(vRandom * 1.6 +  uv.x * vRandom * .6) * .5;\n  float a = vOpacity * smoothstep(1., 0., dot(uv, uv));\n\tgl_FragColor = vec4(1,1,1, 1.  - _Additive) * a;\n}\n"},function(t,e,i){"use strict";i.r(e),e.default="attribute vec4 aData0;\nattribute vec4 aData1;\n\n#define aPos aData0.xyz\n#define aRandom aData0.w\n\nuniform mat4 _ViewProjection;\n\nuniform float _Opacity;\nuniform highp float _Time;\nuniform float _Gravity;\n\nuniform float _Spread;\nuniform float _PointSize;\nuniform float _ScreenHeight;\n\nuniform vec3 _CameraPos;\nuniform vec3 _CameraDir;\nuniform float _Amp;\nuniform float _Amount;\n\nvarying float vOpacity;\nvarying float vRandom;\n\nvec3 getPos(vec3 p)\n{\n\tp += sin(p * 50. + (_Time * 0.05)) * _Amp;\n\treturn p;\n}\n\nvoid main(void) {\n\n\tvec3 p = getPos(aPos);\n\n\tvec3 center = _CameraPos - _CameraDir * _Spread;\n\tp = mod (p * _Spread - center, vec3(2.* _Spread)) - _Spread + center;\n\n\tgl_Position = _ViewProjection * vec4(p, 1.);\n\n\tfloat size = _PointSize / gl_Position.w;\n\tsize *= aRandom + 0.5;\n  size = min(size, .01);\n  size *= smoothstep(_Amount + 0.1, _Amount, fract(aRandom * 12.34) * 1.1);\n\tgl_PointSize = size * _ScreenHeight;\n\n\tfloat alpha = _Opacity * (fract(aRandom * 1.6)  + 0.5);\n  alpha /= sqrt(size) * 10.;\n\tvOpacity = alpha * min(gl_PointSize, 1.);\n\n  vRandom = fract(aRandom * 2.345) * 3.;\n }\n"},function(t,e,i){"use strict";i.r(e),e.default="precision mediump float;\n\nuniform float _Opacity;\n\nvoid main(void) {\n  //trial and error because gamma, brighness, contrast, bloom, etc\n\tgl_FragColor = vec4(0.8, .7, .5, _Opacity);\n}\n"},function(t,e,i){"use strict";i.r(e),e.default="attribute vec3 aPos;\n\nuniform mat4 _ViewProjection;\nuniform mat4 _World;\n\nvoid main(void) {\n\n  vec4 world = _World * vec4(aPos * .5, 1.0);\n\n\tgl_Position = _ViewProjection * world;\n}\n"},function(t,e,i){"use strict";i.r(e),e.default="uniform highp float _Time;\nuniform highp float _Frame;\n\n#define _Vignette 1.\n#define _Grain 0.075\n\nhighp float hash13(highp vec3 p3) {\n  p3  = fract(p3 * .1031);\n  p3 += dot(p3, p3.zyx + 31.32);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\nvec3 posteffects(vec3 col, vec2 uv) {\n  vec2 uv2 = uv - .5;\n  col *= (1. - dot(uv2, uv2) * _Vignette);\n\n  col += (hash13(vec3(gl_FragCoord.xy, _Frame)) - 0.33) * _Grain;\n  return clamp(col, vec3(0.), vec3(1.));\n}\n"},function(t,e,i){"use strict";i.r(e),e.default="precision mediump float;\n\n//lineCount, progress min, progress max, opacity\nuniform vec4 _Params;\n\nvarying vec2 vUV;\n\nvoid main(void) {\n  float line = floor(vUV.y * _Params.x);\n  float progress = (line + vUV.x) / _Params.x;\n  float a = step( _Params.y, progress) * step(progress, _Params.z);\n\tgl_FragColor = vec4(_Params.w * a);\n}\n"},function(t,e,i){"use strict";i.r(e),e.default="\nattribute vec3 aPos;\nattribute vec2 aUV0;\n\nuniform mat4 _ViewProjection;\nuniform mat4 _World;\n\nvarying vec2 vUV;\n\nvoid main(void) {\n\tgl_Position = _ViewProjection * _World * vec4(aPos * .5, 1.);\n\n\tvUV = 1. - aUV0;\n//  vUV.y = 1. -  vUV.y;\n }\n"},function(t,e,i){"use strict";i.r(e),e.default="precision mediump float;\n\nuniform sampler2D uTexture;\n\nvarying vec2 vUV;\nvarying vec2 vUV2;\nvarying vec2 vScreenUV;\n\n#include includes/posteffects.glsl\n\n#define _Frequency 8.\n#define _DetailFrequency 6.\n#define _TemporalFrequency 0.05\n#define _Falloff 0.55\n#define _Twist 0.75\n#define _Detail 0.5\n#define _Contrast 0.3\n\n#define m3GA mat3(-0.7373688220977783, 0.4562871754169464, 0.49808549880981445, 0, -0.7373688220977783, 0.6754903197288513, 0.6754903197288513, 0.49808549880981445, 0.5437127947807312)\n\nvec3 twistedSineNoise33(vec3 q) {\n  float a = 1.;\n  vec3 sum = vec3(0);\n  for (int i = 0; i <8; i++){\n    q = m3GA * q;\n    vec3 s = sin(q.zxy  / a) * a;\n    q += s * _Twist;\n    sum += s;\n    a *= _Falloff;\n  }\n  return sum;\n}\n\n\nvec3 sqr(vec3 a) {\n  return a*a;\n}\n\n//https://www.shadertoy.com/view/WtKGRW\n//9 sines\nfloat fog4(vec2 uv) {\n  vec3 p = vec3(uv * _Frequency, _Time * _TemporalFrequency);\n\n  p.x += -_Time * 0.01;\n\n  vec3 n = twistedSineNoise33(p);\n  n += sin(n * _DetailFrequency) * _Detail;\n  float a = (n.x + n.y + n.z) * _Contrast + 0.5;\n\n  a = max(a, 0.);\n  return a;\n}\n\nvoid main(void) {\n  vec2 uv = vUV;\n\n  vec4 col = vec4(texture2D(uTexture, uv).rgb, 1);\n\n  vec2 uv2 = 2. * vScreenUV - 1.;\n\n  float fog = clamp(fog4(vUV2) * .5, 0., 1.);\n  fog *= dot(uv2, uv2);\n\n  float fogshadow = clamp(fog4(vUV + vec2(0.01, 0.03)) * .5, 0., 1.);\n  fogshadow *= dot(uv2, uv2);\n\n  col.rgb *= (1.-fogshadow*.5);\n\n  col.rgb = mix(col.rgb, vec3(.95), (fog * .5));\n\n  col.rgb = posteffects(col.rgb, vScreenUV);\n\n  gl_FragColor = col;\n}\n"},function(t,e,i){"use strict";i.r(e),e.default="attribute vec3 aPos;\nattribute vec2 aUV0;\n\nuniform float _AspectRatio;\nuniform float _TextureAspect;\nuniform vec2 _Hover;\n\nvarying vec2 vUV;\nvarying vec2 vUV2;\nvarying vec2 vScreenUV;\n\nvoid main(void) {\n  gl_Position = vec4(aPos, 1.0);\n\n  vScreenUV = aUV0;\n\n  vUV = aUV0 - .5;\n  float hoverEffect = 0.0075;\n  vUV *= 1. - hoverEffect;\n  vUV += _Hover * (hoverEffect * .5);\n  vUV = _AspectRatio > _TextureAspect ? vec2(vUV.x, vUV.y * _TextureAspect / _AspectRatio) :  vec2(vUV.x * _AspectRatio / _TextureAspect, vUV.y);\n  vUV += .5;\n\n  vUV2 = aUV0 - .5;\n  float hoverEffect2 = 0.015;\n  vUV2 *= 1. - hoverEffect2;\n  vUV2 += _Hover * (hoverEffect2 * .5);\n  vUV2 = _AspectRatio > _TextureAspect ? vec2(vUV2.x, vUV2.y * _TextureAspect / _AspectRatio) :  vec2(vUV2.x * _AspectRatio / _TextureAspect, vUV2.y);\n  vUV2 += .5;\n}\n"},function(t,e,i){"use strict";i.r(e),e.default="#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D _Start;\nuniform sampler2D _End;\nuniform highp sampler2D _Depth;\n\nuniform highp float _Progress;\n\nvarying vec2 vUV;\nvarying vec2 vScreenUV;\n\n#include includes/posteffects.glsl\n\n#define _Frequency 8.\n#define _DetailFrequency 6.\n#define _TemporalFrequency 0.11\n#define _Falloff 0.55\n#define _Twist 0.75\n#define _Detail 0.5\n#define _Contrast 0.4\n\n#define m3GA mat3(-0.7373688220977783, 0.4562871754169464, 0.49808549880981445, 0, -0.7373688220977783, 0.6754903197288513, 0.6754903197288513, 0.49808549880981445, 0.5437127947807312)\n\nvec3 twistedSineNoise33(vec3 q) {\n  float a = 1.;\n  vec3 sum = vec3(0);\n  for (int i = 0; i <8; i++){\n    q = m3GA * q;\n    vec3 s = sin(q.zxy  / a) * a;\n    q += s * _Twist;\n    sum += s;\n    a *= _Falloff;\n  }\n  return sum;\n}\n\n//https://www.shadertoy.com/view/WtKGRW\n//9 sines\nfloat fog4(vec2 uv) {\n  vec3 p = vec3(uv * _Frequency, _Time * _TemporalFrequency);\n\n  p.x += -_Time * 0.1;\n\n  vec3 n = twistedSineNoise33(p);\n  n += sin(n * _DetailFrequency) * _Detail;\n  float a = (n.x + n.y + n.z) * _Contrast + 0.5;\n\n  a = max(a, 0.);\n  return a;\n}\n\nvec3 sqr(vec3 a) {\n  return a*a;\n}\n\nvoid main(void) {\n  vec3 start = sqr(texture2D(_Start, vUV).rgb);\n  vec3 end = sqr(texture2D(_End, vUV).rgb);\n  float depth = pow(texture2D(_Depth, vUV).r, 1.5);\n\n  float colorprogress  = smoothstep(.65, 1., _Progress);\n  float fadeprogress   = smoothstep(0., .1, _Progress);\n  float blackprogress  = .5 + .5 * smoothstep(0., .5, _Progress);\n  float darkprogress   = .25 + .75 * smoothstep(0.45, .65, _Progress);\n  float fogprogress    = smoothstep(1., .9, _Progress);\n\n  vec3 col = mix(start, end, colorprogress) * darkprogress;\n\n  // fog\n  float rdy = (vUV.y-.4) * .4;\n  if (abs(rdy) < 0.00001) rdy = 0.00001;\n\n  float distance = 100. * depth + 2.5;\n  float fog = fog4(vUV + vec2(-.1*_Progress, 0.)) * 0.1 * smoothstep(.9, .5, _Progress);\n\n  float a = mix(1. + fog, fog, smoothstep(0.3, 1., _Progress));\n  float b = mix(.15 - fog, 1. - fog, smoothstep(.0, .5, _Progress));\n  float fogAmount = clamp((a/b) * exp(-2.5*b) * (1.0-exp(-distance*rdy*b))/rdy, 0., .99) * fogprogress;\n\n  vec3  fogColor = (.1 + (1. + fog) * mix(sqr(vec3(40./255., 60./255., 80./255.)), sqr(vec3(120./255., 140./255., 170./255.)), colorprogress)) * blackprogress;\n\n  col = sqrt(mix(col, fogColor, fogAmount));\n\n  col = posteffects(col, vScreenUV);\n\n  col = mix(vec3(37./255.), col, fadeprogress);\n\n  gl_FragColor = vec4(col, 1);\n}\n"},function(t,e,i){"use strict";i.r(e),e.default="attribute vec3 aPos;\nattribute vec2 aUV0;\n\nuniform float _AspectRatio;\nuniform float _TextureAspect;\nuniform float _Progress;\nuniform vec2 _Hover;\n\nvarying vec2 vUV;\nvarying vec2 vScreenUV;\n\nvoid main(void) {\n  gl_Position = vec4(aPos, 1.0);\n\n  vUV = aUV0 - .5;\n  vScreenUV = aUV0;\n\n  float hoverEffect = 0.005;\n  vUV *= 1. - hoverEffect;\n  vUV += _Hover * (hoverEffect * .5);\n\n  vUV *= mix(1., _Progress, .2);\n\n  vUV = _AspectRatio > _TextureAspect ? vec2(vUV.x, vUV.y * _TextureAspect / _AspectRatio) :  vec2(vUV.x * _AspectRatio / _TextureAspect, vUV.y);\n\n  vUV += .5;\n}\n"},function(t,e,i){"use strict";i.r(e),e.default="precision highp float;\n\nuniform highp float _Time;\nuniform float _Opacity;\nuniform float _Frequency;\nuniform float _Temporal;\n\nvarying vec2 vUV;\nvarying highp float vNoiseOffset;\n\n// procedural noise from IQ\nvec2 hash( vec2 p )\n{\n\tp = vec2( dot(p,vec2(127.1,311.7)), dot(p,vec2(269.5,183.3)) );\n\treturn -1.0 + 2.0*fract(sin(p)*43758.5453123);\n}\n\nfloat noise( in highp vec2 p )\n{\n\tconst float K1 = 0.366025404; // (sqrt(3)-1)/2;\n\tconst float K2 = 0.211324865; // (3-sqrt(3))/6;\n\n\tvec2 i = floor( p + (p.x+p.y)*K1 );\n\n\tvec2 a = p - i + (i.x+i.y)*K2;\n\tvec2 o = (a.x>a.y) ? vec2(1.0,0.0) : vec2(0.0,1.0);\n\tvec2 b = a - o + K2;\n\tvec2 c = a - 1.0 + 2.0*K2;\n\n\tvec3 h = max( 0.5-vec3(dot(a,a), dot(b,b), dot(c,c) ), 0.0 );\n\n\tvec3 n = h*h*h*h*vec3( dot(a,hash(i+0.0)), dot(b,hash(i+o)), dot(c,hash(i+1.0)));\n\n\treturn dot( n, vec3(70.0) );\n}\n\nfloat fbm(highp vec2 uv)\n{\n  highp mat2 m = mat2( 1.6,  1.2, -1.2,  1.6 );\n  float f  = 0.5000*noise( uv ); uv = m*uv;\n\tf += 0.2500*noise( uv ); uv = m*uv;\n\tf += 0.1250*noise( uv ); uv = m*uv;\n\tf += 0.0625*noise( uv ); uv = m*uv;\n\tf = 0.5 + 0.5*f;\n\treturn f;\n}\n\nvec3 flame( in vec2 uv )\n{\n  vec2 q = uv;\n\tq.x = q.x * .4 - .2;\n\tq.y -= 0.2;\n\tfloat n = fbm(_Frequency*q - vec2(vNoiseOffset,_Temporal*_Time));\n\tfloat c = 1. - 16. * pow( max( 0., length(q*vec2(1.8+q.y*1.5,.75) ) - n * max( 0., q.y+.25 ) ),1.2 );\n\tfloat c1 = n * c * (1.5-pow(uv.y,4.));\n\tc1=clamp(c1,0.,1.);\n\n\tvec3 col = vec3(1.5*c1, 1.5*c1*c1*c1, c1*c1*c1*c1*c1*c1);\n\n\tfloat a = c * (1.-pow(uv.y,3.));\n\treturn col * (a * _Opacity);\n}\n\nvoid main(void) {\n\tgl_FragColor = vec4(flame(vUV), 0.);\n}\n"},function(t,e,i){"use strict";i.r(e),e.default="\nattribute vec3 aPos;\nattribute vec2 aUV0;\n\nuniform mat4 _ViewProjection;\nuniform vec4 _Quaternion;\nuniform mat4 _World;\nuniform float _Height;\nuniform float _Scale;\n\nvarying float vNoiseOffset;\nvarying vec2 vUV;\n\nvec3 rotateQuat(vec3 v, vec4 q)\n{\n return v + 2.0 * cross(q.xyz, cross(q.xyz, v) + q.w * v);\n}\n\nvoid main(void) {\n  vec3 local = aPos * _Scale;\n  local.y *= _Height;\n  local = rotateQuat(local, _Quaternion);\n\tgl_Position = _ViewProjection * _World * vec4(local, 1.);\n\n\tvUV = aUV0;\n\tvec4 center = _World * vec4(0,0,0,1);\n\tvNoiseOffset = center.x + center.z;\n }\n"},function(t,e,i){"use strict";i.r(e),e.default="precision mediump float;\n\nuniform sampler2D _Video;\nuniform float _Progress;\n\nvarying vec2 vUV;\nvarying vec2 vScreenUV;\n\n#include includes/posteffects.glsl\n\nvoid main(void) {\n  float v = texture2D(_Video, vUV).x;\n  v *= smoothstep(.0, 0.1, _Progress);\n\n  vec3 col = vec3(1,1,1);\n\n  col = posteffects(col, vScreenUV);\n\n  gl_FragColor  = vec4(col, v);\n}\n"},function(t,e,i){"use strict";i.r(e),e.default="attribute vec3 aPos;\nattribute vec2 aUV0;\n\nuniform float _AspectRatio;\n\nvarying vec2 vUV;\nvarying vec2 vScreenUV;\n\nvoid main(void) {\n  gl_Position = vec4(aPos, 1.0);\n\n  vUV = aUV0;\n  vScreenUV = aUV0;\n\n  if (_AspectRatio < 1.){\n    vUV = vUV.yx;\n  }\n}\n"},function(t,e,i){"use strict";i.r(e),e.default="precision mediump float;\n\nuniform sampler2D uTexture;\n\nvarying vec2 vUV;\nvarying vec2 vScreenUV;\n\n#include includes/posteffects.glsl\n\nvoid main(void) {\n  vec2 uv = vUV;\n  //  uv.y *= 0.5;\n  //\n  //  vec4 col = vec4(texture2D(uTexture, uv + vec2(0, 0.5)).rgb, 1);\n  //  col.a = texture2D(uTexture, uv).r;\n\n  #define threshold 0.55\n  #define padding 0.05\n\n  vec4 col = vec4(texture2D(uTexture, uv).rgb, 1);\n\n  vec3 diff = col.xyz - vec3(0, 1, 0);\n  col.a = smoothstep(threshold-padding, threshold+padding, dot(diff, diff));\n\n  col.rgb = posteffects(col.rgb, vScreenUV);\n\n  gl_FragColor = col;\n}\n"},function(t,e,i){"use strict";i.r(e),e.default="attribute vec3 aPos;\nattribute vec2 aUV0;\n\nuniform float _AspectRatio;\nuniform float _TextureAspect;\nuniform vec2 _Hover;\n\nvarying vec2 vUV;\nvarying vec2 vScreenUV;\n\nvoid main(void) {\n  gl_Position = vec4(aPos, 1.0);\n\n  vUV = aUV0 - .5;\n  vScreenUV = aUV0;\n\n  float hoverEffect = 0.005;\n  vUV *= 1. - hoverEffect;\n  vUV += _Hover * (hoverEffect * .5);\n\n  vUV = _AspectRatio > _TextureAspect ? vec2(vUV.x, vUV.y * _TextureAspect / _AspectRatio) :  vec2(vUV.x * _AspectRatio / _TextureAspect, vUV.y);\n\n  vUV += .5;\n}\n"},function(t,e,i){"use strict";i.r(e),e.default="#ifdef LOD_EXTENSION\n#extension GL_EXT_shader_texture_lod : enable\n#endif\nprecision mediump float;\n\n#ifdef WEBGL2\n\t#version 300 es\n\n  out vec4 fragColor;\n\n  in vec3 vWorld;\n  in vec2 vUV;\n#else\n #define texture(s,uv) texture2D(s, uv)\n  varying vec3 vWorld;\n  varying vec2 vUV;\n#endif\n\n#ifdef COLOR\n  uniform vec4 _Color;\n#endif\n\n#ifdef TEXTURED\n\tuniform sampler2D _Texture;\n\tuniform vec4 _MainTex_ST;\n#endif\n\n#ifdef DETAIL_TEXTURED\n\tuniform sampler2D _DetailTexture;\n#endif\n\n#ifdef LIGHT_MAP\n  #ifdef WEBGL2\n    in vec2 vLightMapUv;\n  #else\n    varying vec2 vLightMapUv;\n  #endif\n\tuniform sampler2D _LightMap;\n\tuniform float _Brightness;\n\t//TODO: write out\n\t\t#ifdef LIGHT_MAP_AMOUNT\n\t  uniform float _LightmapAmount;\n\t#endif\n#endif\n\n#ifdef OPACITY\n\tuniform float _Opacity;\n#endif\n\n#ifdef FLOOR_REFLECTION\nuniform sampler2D _Reflection;\nuniform vec2 _Resolution;\n\nvec3 getReflection(float roughnessMip){\n  #ifdef WEBGL2\n    return texture(_Reflection, gl_FragCoord.xy / _Resolution, roughnessMip).xyz;\n  #else\n      #ifdef LOD_EXTENSION\n        return texture2DLodEXT(_Reflection, gl_FragCoord.xy / _Resolution, roughnessMip).rgb;\n      #else\n//  return texture2D(_Reflection, gl_FragCoord.xy / _Resolution, roughnessMip).rgb;\n      return texture2D(_Reflection, gl_FragCoord.xy / _Resolution).rgb;\n    #endif\n  #endif\n}\n#endif\n\n#ifdef FOG\n  uniform float _FogProgress;\n#endif\n\n#ifdef OVERVIEW_TERRAIN\n  uniform vec3 _EnvironmentColor;\n\n  uniform float _Time;\n  #define m3GA mat3(-0.7373688220977783, 0.4562871754169464, 0.49808549880981445, 0, -0.7373688220977783, 0.6754903197288513, 0.6754903197288513, 0.49808549880981445, 0.5437127947807312)\n\n  vec3 twistedSineNoise33(vec3 q) {\n    float a = 1.;\n    vec3 sum = vec3(0);\n    for (int i = 0; i <7; i++){\n      q = m3GA * q;\n      vec3 s = sin(q.zxy  / a) * a;\n      q += s;\n      sum += s;\n      a *= .55;\n    }\n    return sum;\n  }\n\n  //https://www.shadertoy.com/view/WtKGRW\n  //9 sines\n  float overviewFog(vec2 uv) {\n    vec3 p = vec3(uv, _Time * .075);\n    p.x += -_Time * 0.05;\n    vec3 n = twistedSineNoise33(p);\n    n += sin(n * 6.) * .5;\n    return abs(n.x + n.y + n.z);\n  }\n#endif\n\n#ifdef DEBUG\n  uniform float _ShowLightMapUV;\n  uniform float _ShowLightmap;\n  uniform float _ShowAlbedo;\n#endif\n\n#ifdef SPECULAR\n  #ifdef WEBGL2\n    in vec3 vNormal;\n  #else\n    varying vec3 vNormal;\n  #endif\n\n  uniform float _Roughness;\n  uniform float _Specular;\n  uniform float _SpecularDebug;\n  uniform float _Fresnel;\n  uniform float _FresnelPower;\n  uniform float _DoSpecular;\n\n  vec3 getSpecularLightColor(vec3 N, float roughness) {\n    float b = 1.- roughness;\n\n    float s = smoothstep(-roughness*.75-.25, roughness*.75 + .25, .75 * N.y);\n\n    vec3 l = normalize(vec3(1., 0.2, 0.1));\n    vec3 c = vec3(1.1, 0.9, 0.8);\n\n    vec3 sun = max(pow(max(0., dot(l, N)), 16. * (1. - .9 * roughness)) * b, 0.) * c;\n    return (.1 * s * b) + sun;\n  }\n\n    #ifdef USE_NORMAL_MAP\n      uniform sampler2D _NormalMap;\n      #ifdef WEBGL2\n       in mat3 vTBN;\n      #else\n        varying mat3 vTBN;\n      #endif\n    #endif\n\n\nvec3 getNormal() {\n  #ifdef USE_NORMAL_MAP\n  vec3 tl = texture(_NormalMap, vUV).xyz;\n  vec3 nm = tl * 2. - 1.;\n  //strength\n  // nm.z *= .5;\n  nm = normalize(nm);\n  return normalize(vTBN * nm);\n  #else\n  return normalize(vNormal);\n  #endif\n}\n#endif\n\n\n\nuniform float _Gamma;\nuniform highp vec3 _CameraPosition;\n\nvoid main(void) {\n#ifdef COLOR\n\tvec4 c = _Color;\n  c.xyz = pow( c.xyz, vec3(1. / _Gamma));\n#else\n\tvec4 c = vec4(1,1,1,1);\n#endif\n\n\t\t#ifdef TEXTURED\n\t\t  vec2 uvST = vUV * _MainTex_ST.xy + _MainTex_ST.zw;\n\t\t  #ifdef TRANSPARENT\n\t\t      vec4 t = texture(_Texture, uvST);\n          c.xyz *= pow(t.xyz, vec3(1. / _Gamma));\n          c.w *= t.w;\n          #ifdef VEGETATION\n            if( c.w < .5)discard;\n          #endif\n      #else\n        vec3 t = texture(_Texture, uvST).xyz;\n        #ifdef FLOOR_REFLECTION\n          //based on red marble\n          float roughnessMip = clamp(2.5 + (t.x- .75) * 8., 0., 6.);\n        #endif\n\t \t\t  c.xyz *= pow(t, vec3(1. / _Gamma));\n      #endif\n\t \t#endif\n\n\t \t#ifdef DETAIL_TEXTURED\n      //add filtered noise\n\t \t  c.xyz *= .95 + texture(_DetailTexture, vUV * 32.).x * .1;\n    #endif\n\n\t \t#ifdef LIGHT_MAP\n\t \t  vec3 lightmap = texture(_LightMap, vLightMapUv).xyz;\n      #ifdef LIGHT_MAP_AMOUNT\n        //for scale reference and plants\n        lightmap = mix(vec3(1.), lightmap, .65);\n      #endif\n      c.xyz *= pow(lightmap, vec3(1./ _Gamma));\n    #endif\n\n  #ifdef SPECULAR\n  if(_DoSpecular > .5){\n    vec3 n = getNormal();\n    vec3 v = normalize(vWorld - _CameraPosition);\n    vec3 r = reflect(v, n);\n    float roughness = _Roughness;\n    float NdotV = abs(dot(n, -v));\n    vec3 spec = getSpecularLightColor(r, roughness) * _Specular;\n    //the max(x, 0.) is needed on certain hardware (although both n and v are normalized)\n    spec += pow(max(1. -NdotV, 0.),  _FresnelPower) * _Fresnel;\n    #ifdef DEBUG\n      c.xyz += spec * _SpecularDebug;\n    #else\n     c.xyz += spec;\n    #endif\n  }\n    #endif\n\n    #ifdef FLOOR_REFLECTION\n      #ifdef TEXTURED\n       vec3 reflection = getReflection(roughnessMip);\n        vec3 V = normalize(vWorld - _CameraPosition);\n        float y = 1. - abs(V.y);\n        c.xyz = mix(c.xyz, reflection, y * y * y * y);\n      #else\n        c.xyz *= getReflection(0.);\n  #endif\n\n    #endif\n\n    #ifdef FOG\n      if(_FogProgress > 0.){\n          float d = distance(_CameraPosition, vWorld);\n          #ifdef FLOOR_REFLECTION\n            float fog = exp( -d* _FogProgress * .015);\n          #else\n            float fog = exp( -d* _FogProgress * .03);\n          #endif\n\n          c.xyz = mix( vec3(.8), clamp(c.xyz, 0., 1.), fog);\n  }\n/*       float d = distance(_CameraPosition, vWorld);\n       float distanceFog = 1.0 - exp( - d * _Fog.w );\n       float heightFog = smoothstep(_HeightFog.y, _HeightFog.x, vWorld.y) * smoothstep(0., _HeightFog.z, d) * _HeightFog.w;\n       c.xyz = mix( c.xyz, _Fog.xyz, max(distanceFog, heightFog) );*/\n    #endif\n\n\t \t#ifdef OPACITY\n      c.w *= _Opacity;\n    #endif\n\n    #ifdef OVERVIEW_TERRAIN\n      vec2 uv2 = vUV * 2. - 1.;\n      float l = length(uv2);\n      if(l > 1.)discard;\n      //terrain does not have lightmap\n      c.xyz *= .9;\n\n      float f = overviewFog(vWorld.xz * .02)* .1;\n      c.xyz = mix(c.xyz, vec3(1,1,1), f );\n      c.xyz = mix(_EnvironmentColor,  c.xyz, smoothstep(1., .65, l));\n    #endif\n\n      #ifdef LIGHT_MAP_AMOUNT\n      //scale reference shader is transparent\n      c.w = .5;\n      #endif\n\n    //gamma done in post\n\n\t  #ifdef DEBUG\n      #ifdef LIGHT_MAP\n        if(_ShowLightmap > 0.5)c.xyz = texture(_LightMap, vLightMapUv).xyz;\n      #endif\n      #ifdef TEXTURED\n        if(_ShowAlbedo > 0.5)c.xyz = texture(_Texture, vUV).xyz;\n      #endif\n    #endif\n\n      #ifdef WEBGL2\n        fragColor = c;\n      #else\n        gl_FragColor = c;\n      #endif\n }\n"},function(t,e,i){"use strict";i.r(e),e.default="#ifdef WEBGL2\n\t#version 300 es\n\n  layout(location = 0) in vec3 aPos;\n  layout(location = 1) in vec2 aUV0;\n\n  #ifdef INSTANCED\n    layout(location = 2) in vec2 aUV1;\n    layout(location = 3) in vec4 _LightMapScaleOffset;\n//    layout(location = 4) in mat4 _Model;\n\n    out vec2 vLightMapUv;\n  #else\n//    uniform mat4 _Model;\n    #ifdef LIGHT_MAP\n        layout(location = 2) in vec2 aUV1;\n        out vec2 vLightMapUv;\n      #endif\n  #endif\n\n  #ifdef SPECULAR\n      in vec3 aNormal;\n      out vec3 vNormal;\n    #endif\n\n    out vec2 vUV;\n    out vec3 vWorld;\n #else\n  //webgl1\n  attribute vec3 aPos;\n  attribute vec2 aUV0;\n\n    #ifdef LIGHT_MAP\n      attribute vec2 aUV1;\n      varying vec2 vLightMapUv;\n    #endif\n\n  #ifdef SPECULAR\n    attribute vec3 aNormal;\n    varying vec3 vNormal;\n  #endif\n\n  varying vec2 vUV;\n  varying vec3 vWorld;\n#endif\n\n#ifdef LIGHT_MAP\n   #ifdef INSTANCED\n   #else\n     uniform vec4 _LightMapScaleOffset;\n   #endif\n#endif\n\n//needs to be done like this, or else  uniform mat4 _Model is in 2 branches\n#ifdef INSTANCED\n  layout(location = 4) in mat4 _Model;\n#else\n  uniform mat4 _Model;\n#endif\n\nuniform mat4 _ViewProjection;\n\n#ifdef UV_SCALE_OFFSET\n   uniform vec4 _ScaleOffset;\n#endif\n\n\n#ifdef USE_NORMAL_MAP\n  #ifdef WEBGL2\n    in vec4 aTangent;\n    out mat3 vTBN;\n  #else\n    attribute vec4 aTangent;\n    varying mat3 vTBN;\n  #endif\n#endif\n\n//this will only work with instancing, not with merging\n/*#ifdef MOVEMENT\nuniform float _Time;\n\n#define m4  mat4( 0.00, 0.80, 0.60, -0.4, -0.80,  0.36, -0.48, -0.5, -0.60, -0.48, 0.64, 0.2, 0.40, 0.30, 0.20,0.4)\n#define m3 mat3(-0.73736, 0.45628, 0.49808, 0, -0.73736, 0.67549, 0.67549, 0.49808, 0.54371)\nvec3 movement(vec3 p)\n{\n  //keep matched with unity\n  float _Amplitude = 0.005;\n  float _SpatialFrequency = 4.;\n  float _TemporalFrequency = 2.;\n\n  vec3 q = p * _SpatialFrequency;\n  q.y +=  _Time * _TemporalFrequency;\n  float _Falloff = 0.618;\n  float a = 1.;\n  vec3 sum = vec3(0);\n  for(int i = 0; i <3 ; i++){\n    q = m3 * q;\n    vec3 s = sin( q.yxz / a) * a;\n    sum += s;\n    a *= _Falloff;\n  }\n  return sum * _Amplitude * length(aPos);\n}\n  #endif*/\n\nvoid main(void) {\n\tvUV = aUV0;\n\t#ifdef UV_SCALE_OFFSET\n\t\tvUV = vUV * _ScaleOffset.xy + _ScaleOffset.zw;\n\t#endif\n\n  vec4 world = _Model * vec4(aPos, 1.0);\n\n\n/*  #ifdef MOVEMENT\n  world.xyz += movement(world.xyz);\n  #endif*/\n\n  vWorld = world.xyz;\n  gl_Position = _ViewProjection * world;\n\n  #ifdef LIGHT_MAP\n    vLightMapUv = aUV1 * _LightMapScaleOffset.xy + _LightMapScaleOffset.zw;\n  #endif\n\n  #ifdef SPECULAR\n    vNormal =  mat3 (_Model ) * aNormal;\n//    vNormal = aNormal;\n\n    #ifdef USE_NORMAL_MAP\n    vec3 tangent = aTangent.xyz;\n    vec3 B = normalize(cross( tangent.xyz, aNormal));\n    B *= aTangent.w;\n    vTBN = mat3(tangent.xyz, B, aNormal);\n    //TODO: mat3(_Model) can go wrong with very extreme scales\n    vTBN = mat3(_Model) * vTBN;\n    #endif\n  #endif\n\n}\n\n"},function(t,e,i){"use strict";i.r(e),e.default="precision mediump float;\n\nuniform sampler2D _Video;\n\nvarying vec2 vUV;\n\nvoid main(void) {\n    gl_FragColor = texture2D(_Video, vUV);\n}\n"},function(t,e,i){"use strict";i.r(e),e.default="attribute vec3 aPos;\nattribute vec2 aUV0;\n\nuniform float _AspectRatio;\nuniform float _VideoAspect;\n\nvarying vec2 vUV;\n\nvoid main(void) {\n  vUV = aUV0;\n  gl_Position = vec4(aPos, 1.0);\n\n  float a = _AspectRatio / _VideoAspect;\n  if(_AspectRatio < 1.) a = _AspectRatio * _VideoAspect;\n\n   if(a < 1.){\n        vUV.x = (vUV.x - 0.5) * a + 0.5;\n     }else{\n        vUV.y = (vUV.y - 0.5) / a + 0.5;\n     }\n   //rotate the video to prevent to much cropping\n    if(_AspectRatio < 1.) vUV = vUV.yx;\n}\n"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){var s={"./ar.json":[860,0],"./en_US.json":[861,1],"./es.json":[862,2],"./fa.json":[863,3],"./fr.json":[864,4],"./hi.json":[865,5],"./zh_Hans.json":[866,6],"./zh_Hant.json":[867,7]};function a(t){if(!i.o(s,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=s[t],a=e[0];return i.e(e[1]).then((function(){return i.t(a,3)}))}a.keys=function(){return Object.keys(s)},a.id=837,t.exports=a},,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e);i(567);var s=i(20),a=i(207),n=i.n(a),r=i(487),o=(i(568),i(0));o.default.sensibleDefaults=!1;var l=i(83),c=i.n(l);var h={UI:"ui",AMBIENT:"ambient",MUSIC:"music"};const d={},u=(t,e)=>{d[t]=e},p=t=>d[t],m=new Map,f=t=>(m.has(t)||m.set(t,new WeakMap),m.get(t));var g={sound:{bind(t,e){const i=e.arg;if(i&&e.value){const a=(s=e.value,()=>{const t=p("soundManager");let e=s;Array.isArray(s)&&(e=c()(s));try{t.play(e,h.UI,1,0,!1,!1)}catch(i){}});((t,e,i)=>{f(t).set(e,i)})(i,t,a),t.addEventListener(e.arg,a,{passive:!0})}var s},unbind(t,e){const i=e.arg;if(i&&e.value){const e=((t,e)=>f(t).get(e))(i,t);((t,e)=>{f(t).delete(e)})(i,t),t.removeEventListener(i,e)}}}};const v=i(569);var _={name:"Icon",props:{name:o.default.string.isRequired},computed:{icon(){return v(`./${this.name}.svg`)}},watch:{async name(){await this.$nextTick(),this.$el.querySelector("svg").setAttribute("aria-hidden","true")}},mounted(){this.$el.querySelector("svg")&&this.$el.querySelector("svg").setAttribute("aria-hidden","true")}},A=i(288),T=i(3);var y={Icon:Object(T.a)(_,(function(){var t=this.$createElement;return(this._self._c||t)("span",{class:[this.$style.icon],attrs:{"data-icon":this.name},domProps:{innerHTML:this._s(this.icon)}})}),[],!1,(function(t){this.$style=A.default.locals||A.default}),null,null).exports},E=i(333);const b="production",R="development",x="staging",w="local",O={LOCALE:"locale",API:"api"},S={LOCALE_ENABLED:"locale-enabled",LOCALE_ROUTING_ENABLED:"locale-routing-enabled",STATIC_ROOT:"static-root",PUBLIC_PATH:"public-path",VERSIONED_STATIC_ROOT:"versioned-static-root"},I={DEFAULT_LOCALE:"default-locale",AVAILABLE_LOCALES:"available-locales",PERSIST_QUERY_PARAMS:"persist-query-params"};var M=()=>{const t=p("configManager"),e=t.getProperty(I.AVAILABLE_LOCALES).map(t=>"string"===typeof t?{code:t,urlPrefix:t,translationKey:t}:t),i={persistent:!1,defaultCode:t.getProperty(I.DEFAULT_LOCALE),languages:e};return{localeEnabled:t.getVariable(S.LOCALE_ENABLED),localeRoutingEnabled:t.getVariable(S.LOCALE_ROUTING_ENABLED),config:i}};var C={ID:"id",SLUG:"slug"},L=i(22),P=i.n(L),N=i(10),D=i(1),B=i(5);const F={APADANA_LOOP:"apadana-loop",GATE_OF_ALL_NATIONS_LOOP:"gate-of-all-nations-loop",HALL_OF_A_100_COLUMNS_LOOP:"hall-of-a-100-columns-loop",INTRO_LOOP:"intro-loop",PALACE_OF_XERXES_LOOP:"palace-of-xerxes-loop",SOUTH_EASTERN_PALACE_LOOP:"south-eastern-palace-loop",FIRE_TORCH_AMBIENT:"ambient-fire-torch",INDOOR_NEUTRAL_TONE_OPTION_2_AMBIENT:"ambient-indoor-neutral-tone-op2",INDOOR_NEUTRAL_TONE_OPTION_3_AMBIENT:"ambient-indoor-neutral-tone-op3",OUTDOOR_BIRD_OPTION_1_AMBIENT:"ambient-outdoor-bird-op1",OUTDOOR_BIRD_OPTION_2_AMBIENT:"ambient-outdoor-bird-op2",OUTDOOR_BIRD_OPTION_3_AMBIENT:"ambient-outdoor-bird-op3",OUTDOOR_NEUTRAL_TONE_OPTION_1_AMBIENT:"ambient-outdoor-neutral-tone-op1",OUTDOOR_NEUTRAL_TONE_OPTION_2_AMBIENT:"ambient-outdoor-neutral-tone-op2",OUTDOOR_WATER_AMBIENT:"ambient-outdoor-water",ENTERING_NEW_ROOM:"ui-entering-new-room",END_OF_ROOM:"ui-end-of-room",GENERAL_CLICK:"ui-general-click",GENERAL_HOVER_1:"ui-general-hover-op1",GENERAL_HOVER_2:"ui-general-hover-op2",GENERAL_HOVER_3:"ui-general-hover-op3",HOTSPOT_APPEARS:"ui-hotspot-appears",HOTSPOT_FULLY_CLOSES:"ui-hotspot-fully-closes",HOTSPOT_FULLY_OPENS:"ui-hotspot-fully-opens",MENU_DROPDOWN:"ui-menu-dropdown",OVERVIEW_HOVER:"ui-overview-hover"};var $,U=i(2);!function(t){t.VERTICAL="vertical",t.HORIZONTAL="horizontal"}($||($={}));var k=$,V=i(501),z=i(85),H=i(53),G=i(18);const X={isTouch:void 0,isRtl:void 0,navigator:void 0},j=()=>"undefined"===typeof window,W=()=>{if(!j())return X.isTouch||(X.isTouch="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),X.isTouch},Y=()=>{if(!j())return X.navigator||(X.navigator=window.navigator),/^((?!chrome|android).)*safari/i.test(X.navigator.userAgent)},Z=()=>window.devicePixelRatio>1,q=()=>(void 0===X.isRtl&&(X.isRtl="rtl"===document.documentElement.getAttribute("dir")),X.isRtl);let K=[];U.default.registerPlugin(H.a);const Q=()=>K[K.length-1]||null;H.a.scrollerProxy(document.body,{scrollLeft:t=>{const e=Q();return void 0!==t&&e&&e.scrollTo(t),(null===e||void 0===e?void 0:e.offset.x)||0},getBoundingClientRect:()=>{var t;return(null===(t=Q())||void 0===t?void 0:t.containerEl.getBoundingClientRect())||{width:0,height:0,top:0,left:0}}});const J=t=>{K.push(t)},tt=t=>{K=K.filter(e=>e!==t)};class et extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){}setupTransitionOutTimeline(t,e,i){}setupLoopingAnimationTimeline(t,e,i){}}var it=i(7);const st=new Map;let at=null;const nt={width:window.innerWidth,height:window.innerHeight};function rt(t,e=(()=>{}),i=!1){return st.set(t,e),null===at&&(at=Object(it.addEventListener)(window,"resize",()=>{const{innerWidth:t,innerHeight:e}=window;nt.width=t,nt.height=e,st.forEach(t=>t(nt))})),i&&e(nt),()=>{st.has(t)&&st.delete(t)}}class ot extends G.a{transformDelta(t,{type:e}){if(this.options.isEnabled){if(!/wheel/.test(e))return{x:this.inverse(t.x),y:t.y};const{x:i,y:s}=t;return{y:0,x:Math.abs(i)>Math.abs(s)?this.inverse(i):s}}return t}inverse(t){return this.options.isInversed?-t:t}}ot.pluginName="horizontal",ot.defaultOptions={isEnabled:!1,isInversed:!1};var lt=ot,ct={name:"HorizontalPage",extends:D.AbstractTransitionComponent,props:{isLocked:o.default.bool.def(!1),isLimited:o.default.bool.def(!1),isForwardOnly:o.default.bool.def(!1)},provide(){return{scrollTo:this.scrollTo,getScrollbar:this.getScrollbar}},data:()=>({progress:0,trackProgress:{value:0},hasOverflow:!1}),watch:{isLocked(){this.updateLock()},isLimited(){this.updateLimit()},isForwardOnly(){this.updateForwardOnly()}},mounted(){this.disposables=new N.DisposableManager,this.disposables.add(rt(this.$el,P()(this.onResize,150))),G.b.use(lt),G.b.use(V.a),this.smoothScrollbarInstance=G.b.init(this.$refs.scrollWrapper,{damping:.1,alwaysShowTracks:!1,delegateTo:document.body,plugins:{overscroll:!q()&&{damping:.15,maxOverscroll:200}}}),this.smoothScrollbarInstance.updatePluginOptions("horizontal",{isEnabled:!0,isInversed:q()}),J(this.smoothScrollbarInstance),this.updateLock(),this.updateLimit(),this.updateForwardOnly(),this.smoothScrollbarInstance.addListener(this.onScroll),this.updateOverflow(),this.$nextTick().then(()=>{[this.tracker]=z.a.track(this.trackProgress,"value")})},beforeDestroy(){this.smoothScrollbarInstance&&(tt(this.smoothScrollbarInstance),this.smoothScrollbarInstance.destroy()),this.disposables&&this.disposables.dispose()},methods:{handleAllComponentsReady(){this.transitionController=new et(this),this.isReady()},onScroll(){const{offset:t,limit:e}=this.smoothScrollbarInstance,i=U.default.utils.normalize(0,e.x,t.x);q()&&(U.default.set(this.$refs.content,{width:this.$refs.contentWrapper.getBoundingClientRect().width}),U.default.set(this.$refs.contentWrapper,{x:2*t.x})),this.$emit("progress",i),this.trackProgress.value=i,H.a.update()},updateOverflow(){this.hasOverflow=this.$refs.content.scrollWidth>this.$el.offsetWidth},onResize(){this.updateOverflow()},updateLock(){this.smoothScrollbarInstance.updatePluginOptions("lock",{isLock:this.isLocked})},updateLimit(){this.smoothScrollbarInstance.updatePluginOptions("limit",{isLimited:this.isLimited})},updateForwardOnly(){this.smoothScrollbarInstance.updatePluginOptions("forward",{isForwardOnly:this.isForwardOnly})},scrollTo(t,e,i){this.smoothScrollbarInstance.scrollTo(t,0,e,{callback:i})},getScrollbar(){return this.smoothScrollbarInstance}}},ht=i(289);var dt=Object(T.a)(ct,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{class:["page",t.$style.horizontalPage]},[i("div",{ref:"proxy",class:t.$style.proxy}),t._v(" "),i("div",{ref:"scrollWrapper",class:t.$style.scrollWrapper},[i("div",{ref:"content",class:t.$style.content},[i("div",{ref:"contentWrapper"},[t._t("default")],2)])]),t._v(" "),t._t("fixed")],2)}),[],!1,(function(t){this.$style=ht.default.locals||ht.default}),null,null).exports;class ut extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){}setupTransitionOutTimeline(t,e,i){}setupLoopingAnimationTimeline(t,e,i){}}var pt={name:"VerticalPage",extends:D.AbstractTransitionComponent,props:{isLocked:o.default.bool.def(!1),isLimited:o.default.bool.def(!1),isForwardOnly:o.default.bool.def(!1)},provide(){return{scrollTo:this.scrollTo,getScrollbar:this.getScrollbar}},watch:{isLocked(){this.updateLock()},isLimited(){this.updateLimit()},isForwardOnly(){this.updateForwardOnly()}},mounted(){this.smoothScrollbarInstance=G.b.init(this.$refs.scrollWrapper,{damping:.1,alwaysShowTracks:!1,delegateTo:document.body,plugins:{overscroll:!1}}),J(this.smoothScrollbarInstance),this.updateLock(),this.updateLimit(),this.updateForwardOnly(),this.smoothScrollbarInstance.addListener(this.onScroll)},beforeDestroy(){this.smoothScrollbarInstance&&(tt(this.smoothScrollbarInstance),this.smoothScrollbarInstance.destroy())},methods:{handleAllComponentsReady(){this.transitionController=new ut(this),this.isReady()},onScroll(){const{offset:t,limit:e}=this.smoothScrollbarInstance,i=U.default.utils.normalize(0,e.y,t.y);this.$emit("progress",i),H.a.update()},updateLock(){this.smoothScrollbarInstance.updatePluginOptions("lock",{isLock:this.isLocked})},updateLimit(){this.smoothScrollbarInstance.updatePluginOptions("limit",{isLimited:this.isLimited})},updateForwardOnly(){this.smoothScrollbarInstance.updatePluginOptions("forward",{isForwardOnly:this.isForwardOnly})},scrollTo(t,e,i){this.smoothScrollbarInstance.scrollTo(0,t,e,{callback:i})},getScrollbar(){return this.smoothScrollbarInstance}}},mt=i(290);var ft={name:"ScrollPage",components:{VerticalPage:Object(T.a)(pt,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:[this.$style.verticalPage]},[e("div",{ref:"scrollWrapper",class:this.$style.scrollWrapper},[e("div",{ref:"content",class:this.$style.content},[this._t("default")],2)]),this._v(" "),this._t("fixed")],2)}),[],!1,(function(t){this.$style=mt.default.locals||mt.default}),null,null).exports,HorizontalPage:dt},extends:D.AbstractTransitionComponent,props:{direction:o.default.oneOf([k.VERTICAL,k.HORIZONTAL]).def(k.VERTICAL),isLocked:o.default.bool.def(!1),isLimited:o.default.bool.def(!1),isForwardOnly:o.default.bool.def(!1),showProgress:o.default.bool.def(!1)},methods:{handleAllComponentsReady(){this.transitionController=new ut(this),this.isReady()},onProgress(t){this.$refs.currentProgress&&U.default.set(this.$refs.currentProgress,{scaleY:t}),this.$emit("progress",t)},scrollTo(t,e,i){this.$refs.scroll.scrollTo(t,e,i)},refreshScroll(){this.$refs.scroll.getScrollbar().update()}}},gt=i(291);var vt=Object(T.a)(ft,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(t.direction===t.Direction.VERTICAL?"VerticalPage":"HorizontalPage",{ref:"scroll",tag:"component",class:[t.$style.scrollPage,t.showProgress&&t.$style.hideTracks],attrs:{"is-locked":t.isLocked,"is-limited":t.isLimited,"is-forward-only":t.isForwardOnly},on:{progress:t.onProgress},scopedSlots:t._u([{key:"fixed",fn:function(){return[t._t("fixed")]},proxy:!0}],null,!0)},[t._v(" "),t._t("default"),t._v(" "),t.showProgress?i("div",{class:t.$style.progress},[i("span",{ref:"currentProgress"})]):t._e()],2)}),[],!1,(function(t){this.$style=gt.default.locals||gt.default}),null,null).exports,_t=i(4);function At(t,e,i,s){if(t&&t.gain)if(0===i)t.gain.setValueAtTime(e,0);else{const a={value:t.gain.value},n=U.default.to(a,{duration:i,value:e,ease:_t.h.easeNone,onUpdate:()=>{t.gain.setValueAtTime(a.value,n.time())},onComplete:s})}}const Tt=(t,e=0)=>{if(0===e)t.bufferSource.stop(0);else{const i=t.context.currentTime+e;t.gain.gain.linearRampToValueAtTime(0,i),t.bufferSource.stop(i)}yt(t)},yt=t=>{if(t.channel){const e=t.channel.playingSamples.indexOf(t);e>-1&&t.channel.playingSamples.splice(e,1)}},Et=(t,e,i)=>{const s=Math.min(t.length,i*e),a=t.length-s-1;for(let n=0;n<=s;n+=1)t[a+n]=t[a+n]*(1-n/s);for(let n=0;n<=s;n+=1)t[n]*=n/s},bt=()=>Object(o.arrayOf)(Number),Rt=(t,e)=>{const[i,s]=e;return t>=i&&t<=s},xt=(t,e)=>{const[i,s]=e;return U.default.utils.normalize(i,s,U.default.utils.clamp(i,s,t))},wt=(t,e)=>{const[i,s]=e;return U.default.utils.interpolate(i,s,t)},Ot=(t,e,i,s=!1)=>{if(e&&i){const a=[e,[e[1],i[0]],i].find(e=>Rt(t,e));if(a&&(a===e||a===i)){const i=xt(t,a),n=a===e?i:1-i;return s?1-n:n}if(a)return s?0:1}return null},St=()=>Object(o.shape)({id:Object(o.string)().isRequired,component:Object(o.string)().isRequired,data:Object(o.any)(),active:bt().isRequired,navigationActive:bt(),isNavigable:Object(o.bool)(),label:Object(o.string)(),isAutoScrollEnabled:Object(o.bool)(),autoScrollDuration:Object(o.number)(),autoScrollPosition:Object(o.number)()}),It=()=>Object(o.shape)({id:Object(o.string)().isRequired,component:Object(o.string)().isRequired,data:Object(o.any)(),active:bt().isRequired,navigationActive:bt(),isNavigable:Object(o.bool)(),label:Object(o.string)(),isAutoScrollEnabled:Object(o.bool)(),autoScrollDuration:Object(o.number)(),autoScrollPosition:Object(o.number)()}),Mt=(t,e,i,s)=>(e-s)*(t+.001);var Ct={name:"AbstractSceneComponent",extends:{name:"AbstractSceneElement",extends:D.AbstractTransitionComponent,props:{totalProgress:o.default.number,totalHeight:o.default.number,loadProgress:o.default.number,config:Object(o.oneOfType)([St(),It()]),sceneConfig:Object(o.shape)({id:Object(o.string)().isRequired,sceneId:Object(o.string)().isRequired,scrollHeight:Object(o.number)().isRequired,cameraScroll:Object(o.arrayOf)(Object(o.shape)({scroll:bt().isRequired,camera:bt().isRequired,ease:Object(o.func)()})).isRequired,components:Object(o.arrayOf)(St())}),data:o.default.any},inject:["getScrollbar","scrollTo"],methods:{lockScroll(){this.$emit("lockScroll")},unlockScroll(){this.$emit("unlockScroll")}}},props:{config:St()},data:()=>({isActive:!1,progress:0}),computed:{...Object(B.d)({windowWidth:t=>t.app.windowWidth,windowHeight:t=>t.app.windowHeight,windowSize:t=>t.app.windowSize})},watch:{isActive(){this.isActive?(this.config.isAutoScrollEnabled&&(this.lockScroll(),this.getScrollbar().setMomentum(0,0),this.scrollTo(this.getScrollPosition(this.config.autoScrollPosition||this.config.active[0]+.5*(this.config.active[1]-this.config.active[0])),this.config.autoScrollDuration,()=>{this.getScrollbar().setMomentum(0,0),this.unlockScroll()})),this.transitionIn(!0)):this.transitionOut(!0)},totalProgress(){this.updateIsActive(),this.updateProgress()}},created(){this.updateIsActive(),this.updateProgress()},methods:{updateIsActive(){this.isActive=Rt(this.totalProgress,this.config.active)},updateProgress(){this.progress=xt(this.totalProgress,this.config.active)},setCameraDragRotateAmount(t){this.$webgl.setCameraDragRotateAmount(t),this.$webgl.setCameraHoverRotateAmount(.1+.9*t)},getObjectScreenPosition(t){const e=this.$webgl.getObjectScreenPosition(t);return{x:e.x*this.windowWidth,y:e.y*this.windowHeight}},getScrollPosition(t){return Mt(t,this.totalHeight,this.sceneConfig.scrollHeight,this.windowHeight)}}};class Lt extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){}setupTransitionOutTimeline(t,e,i){}setupLoopingAnimationTimeline(t,e,i){}}var Pt={name:"AmbientLoop",extends:Ct,props:{data:o.default.shape({loop:o.default.string,active:o.default.oneOfType([bt(),o.default.arrayOf(bt())])}).isRequired},data:()=>({isLoopActive:!1}),watch:{isLoopActive(t){t&&!this.loop&&(this.loop=this.$sound.play(this.data.loop,h.AMBIENT,0,0,!0)),this.loop&&At(this.loop.gain,t?1:0,1,()=>{this.loop&&(this.loop.gain.gain.value=t?1:0)})},totalProgress(){this.updateLoop()}},created(){this.updateLoop()},beforeDestroy(){this.loop&&this.$sound.stop(this.loop.sample.name,h.AMBIENT)},methods:{handleAllComponentsReady(){this.transitionController=new Lt(this),this.isReady()},updateLoop(){const t=Array.isArray(this.data.active)?this.data.active:[this.data.active];this.isLoopActive=t.some(t=>Rt(this.totalProgress,t))}}},Nt=i(292);var Dt=Object(T.a)(Pt,(function(){var t=this.$createElement;return(this._self._c||t)("div",{class:[this.$style.ambientLoop]})}),[],!1,(function(t){this.$style=Nt.default.locals||Nt.default}),null,null).exports,Bt=i(287),Ft=i.n(Bt);const $t=()=>o.default.shape({title:o.default.string,description:o.default.string,caption:o.default.string,image:o.default.string,detailImage:o.default.string,video:o.default.string});var Ut=i(490),kt=i.n(Ut);const Vt="app/setIsCloseActive";var zt={state:{deviceState:null,filesSupported:{webp:!1,avif:!1},isNavigationOpen:!1,isAboutTheProjectOpen:!1,isSecondaryNavigationVisible:!0,windowHeight:0,windowWidth:0,windowSize:0,volume:1,currentScene:null,visitedScenes:[],isCloseActive:!1,closeCallback:null,animateCloseButton:!0,currentActiveHotspot:null},getters:{"app/getIsCurrentHotspotVisible":t=>e=>t.currentActiveHotspot===e},mutations:{"app/setDeviceState"(t,e){t.deviceState=e},"app/setImageSupported"(t,e){t.filesSupported=e},"app/setToggleNavigation"(t,e){t.isNavigationOpen=null!==e&&void 0!==e?e:!t.isNavigationOpen},"app/setToggleAboutTheProject"(t,e){t.isAboutTheProjectOpen=null!==e&&void 0!==e?e:!t.isAboutTheProjectOpen},"app/setIsSecondaryNavigationVisible"(t,e){t.isSecondaryNavigationVisible=e},"app/setWindowHeight"(t,e){t.windowHeight=e,t.windowSize=t.windowHeight*t.windowWidth},"app/setWindowWidth"(t,e){t.windowWidth=e,t.windowSize=t.windowHeight*t.windowWidth},"app/setVolume"(t,e){t.volume=null!==e&&void 0!==e?e:1-t.volume},[Vt](t,{active:e,callback:i,animate:s}){t.isCloseActive=e,t.closeCallback=null!==i&&void 0!==i?i:null,t.animateCloseButton=null===s||void 0===s||s},"app/setCurrentScene"(t,e){t.visitedScenes=kt()([...t.visitedScenes,e]),t.currentScene=e},"app/setCurrentActiveHotspot"(t,e){t.currentActiveHotspot=e}},actions:{}};var Ht,Gt={HOME:"home",WEBGL:"webgl",INTRO:"intro",EXPERIENCE:"experience"};!function(t){t.GATE_OF_ALL_NATIONS="gate-of-all-nations",t.THE_APADANA="the-apadana",t.PALACE_OF_XERXES="palace-of-xerxes",t.SOUTH_EASTERN_PALACE="south-eastern-palace",t.ROYAL_TREASURY="royal-treasury",t.HALL_OF_100_COLUMNS="hall-of-100-columns"}(Ht||(Ht={}));var Xt=Ht;const jt=t=>{Yt({event:"page_view",route:t})},Wt=(t,e)=>{Yt(Object.assign({event:t},e))},Yt=t=>{console.log("track",t),"undefined"!==typeof dataLayer?dataLayer.push(t):console.error("dataLayer not found")},Zt=t=>t.name===Gt.EXPERIENCE?t.params[C.SLUG]||Xt.GATE_OF_ALL_NATIONS:"",qt=t=>t.split(".")[1],Kt=t=>t.split(".")[2];var Qt=i(14),Jt=i.n(Qt);const te={duration:.6,to:0,autoAlpha:!0,clearProps:!1,delay:0,stagger:0},ee=Object.assign(Object.assign({},te),{from:0,to:1,clearProps:!0});function ie(t,e={}){const{from:i,to:s,duration:a,autoAlpha:n,clearProps:r,delay:o,stagger:l}=Object.assign(Object.assign({},ee),e);return U.gsap.fromTo(t,{[n?"autoAlpha":"opacity"]:null!==i&&void 0!==i?i:0,pointerEvents:0===i?"none":""},{delay:o,duration:a,stagger:l,[n?"autoAlpha":"opacity"]:s,ease:_t.h.easeNone,clearProps:r?"opacity,visibility,pointerEvents":"pointerEvents"})}function se(t,e={}){const{to:i,duration:s,autoAlpha:a,clearProps:n,delay:r,stagger:o}=Object.assign(Object.assign({},te),e);return U.gsap.to(t,{delay:r,duration:s,stagger:o,[a?"autoAlpha":"opacity"]:i,ease:_t.h.easeNone,clearProps:n?"opacity,visibility":""})}var ae=i(107),ne=i(106);U.default.registerPlugin(ae.a,ne.a);var re={VinnieInOut:ae.a.create("VinnieInOut","M0,0 C0.2,0 0,1 1,1"),JorisInOut:ae.a.create("JorisInOut","M0,0 C0.3,0 0.25,1 1,1"),JorisOut:ae.a.create("JorisOut","M0,0 C0.1,0.495 0.105,0.715 0.25,0.845 0.405,0.978 0.505,1 1,1"),WiggleIndicator:ne.a.create("indicator",{wiggles:5,type:"anticipate"})},oe=i(502);const le=new Map;function ce(t,e="words"){let i=le.get(t);return i||(i=new oe.a(t,{type:"string"===typeof e?e:e.join(","),linesClass:"split-element lines",wordsClass:"split-element words",charsClass:"split-element chars"}),le.set(t,i)),"string"!==typeof e?e.reduce((t,e)=>(["chars","words","lines"].includes(e)&&i&&i[e]&&(t[e]=i[e]),t),{}):i[e]}function he(t){const e=le.get(t);e?(null===e||void 0===e||e.revert(),le.delete(t)):console.warn("No Split Instance found for",t)}const de={from:50,to:0,usePercentage:!0,resetAfter:!1,duration:.6,stagger:.1,ease:"power2.out"},ue={duration:.7,from:"1em",clearProps:!0,stagger:0,ease:"power2.out"};function pe(t,e={}){const{from:i,duration:s,ease:a,clearProps:n,stagger:r}=Object.assign(Object.assign({},ue),e),o=U.gsap.timeline();return o.fromTo(t,{y:i},{duration:s,ease:a,stagger:r,y:0,clearProps:n?"y":""}),o.add(ie(t,{clearProps:n,duration:.6*s}),"<"),o}function me(t,e=!1,i=!0,s=!1){const a=U.default.timeline();if(a.add(ie(t,{duration:.05,clearProps:i})),a.add(()=>{const{lines:e}=ce(t,["lines"]),i=U.default.timeline();i.fromTo(e,{transformOrigin:s?"50% 50%":"left center",scale:1.2,x:s?0:"1em"},{scale:1,x:0,duration:1,ease:re.JorisOut,stagger:.075,clearProps:"scale,x,yPercent"}),i.fromTo(e,{yPercent:40},{yPercent:0,duration:1,ease:re.JorisInOut,stagger:.075,clearProps:"yPercent"},"<"),i.add(ie(e,{stagger:.075}),"<"),i.add(()=>he(t))},"<"),e){const{offsetHeight:e}=t,{lineHeight:i}=getComputedStyle(t),s=e/parseFloat(i);a.add(()=>{},.075*s+.8)}return a}function fe(t,e=!1){const i=U.default.timeline();if(["ar","hi","fa"].includes(document.documentElement.getAttribute("lang")||"en"))return me(t,e,!0,!0);{i.add(ie(t,{duration:.05}));const{chars:s}=ce(t,["words","chars"]);t.classList.add("split-rotation-wrapper");const a=U.default.timeline({paused:!e});a.fromTo(t,{transformOrigin:"50% 50%",scale:1.2,x:"-0.3em"},{scale:1,x:0,duration:1,ease:re.JorisInOut,clearProps:"scale,x"}),a.fromTo(s,{rotation:12,x:"0.3em",y:"0.5em",scale:.9},{rotation:0,x:0,y:0,scale:1,duration:1,ease:re.JorisInOut,stagger:.025,clearProps:"transform"},"<"),a.add(ie(s,{stagger:.025,duration:.65}),"<"),e?i.add(a,"<"):i.add(()=>{a.play(0)},"<")}return i}class ge extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){const{filled:s}=e,{outlineRect:a,splitText:n}=e.$refs;t.add(ie(e.$el,{duration:.01})),s?t.add(ie(a)):(t.fromTo(a,{drawSVG:"50% 70%"},{drawSVG:"60% 160%",ease:re.VinnieInOut,duration:1.2,clearProps:"drawSVG"}),t.add(ie(a,{duration:.3}),"<")),n&&t.add(function(t,e=de){const{usePercentage:i,from:s,to:a,stagger:n,ease:r,duration:o,resetAfter:l}=Object.assign(Object.assign({},de),e),c=i?"yPercent":"y",h=U.default.timeline(),d=ce(t,"words");return h.add(ie(t,{duration:.01})),h.fromTo(d,{[c]:s},{stagger:n,duration:o,ease:r,[c]:a,clearProps:c},"<"),h.add(ie(d,{duration:o,stagger:n}),"<"),l&&h.add(()=>he(t)),h}(n),"<0.1")}setupTransitionOutTimeline(t,e,i){const{splitText:s}=e.$refs,a=ce(s,"words");t.add(se(e.$el)),s&&t.add(se([s,...a],{duration:.01}),">-0.01")}setupLoopingAnimationTimeline(t,e,i){}dispose(){const{splitText:t}=this.parentController.$refs;he(t),super.dispose()}}var ve,_e={ACTION:"button-type-action",LINK:"button-type-link",SHARE:"button-type-share",SUBMIT:"button-type-submit",INLINE:"button-type-inline"},Ae={INTERNAL:"link-type-internal",EXTERNAL:"link-type-external",EXTERNAL_BLANK:"link-type-external-blank",DOWNLOAD:"link-type-download"},Te={name:"AbstractButtonComponent",extends:D.AbstractTransitionComponent,props:{icon:o.default.string,label:o.default.string,title:o.default.string,ariaLabel:o.default.string,disabled:o.default.bool,type:o.default.oneOf(Object.values(_e)).isRequired,isParentHovered:o.default.bool,link:o.default.shape({type:o.default.oneOf(Object.values(Ae)).isRequired,target:o.default.any.isRequired})},computed:{componentType(){switch(this.type){case _e.ACTION:case _e.SUBMIT:case _e.SHARE:return"button";case _e.INLINE:return"span";case _e.LINK:default:return this.link.type===Ae.INTERNAL?"router-link":"a"}},isLink(){return this.type===_e.LINK},isRouterLink(){return this.isLink&&this.link.type===Ae.INTERNAL},buttonType(){return this.type===_e.SUBMIT?"submit":"button"},target(){const{target:t}=this.link;return this.link.type===Ae.INTERNAL?this.$router.resolve(t).href:t}},methods:{handleClick(t){switch(this.$emit("click"),this.type){case _e.LINK:switch(this.link.type){case Ae.DOWNLOAD:Jt.a.ios&&(t.preventDefault(),this.openExternalLink(!0));break;case Ae.EXTERNAL:t.preventDefault(),this.openExternalLink();break;case Ae.EXTERNAL_BLANK:t.preventDefault(),this.openExternalLink(!0);break;case Ae.INTERNAL:default:t.preventDefault(),this.openInternalLink()}break;case _e.ACTION:t&&t.preventDefault()}},openInternalLink(){this.$router.push(this.link.target)},openExternalLink(t){t?window.open(this.link.target):window.location.href=this.link.target}}};!function(t){t.IS_REDUCED_MOTION="a11y-reduced-motion",t.IS_HIGH_CONTRAST="a11y-high-contrast",t.IS_TEXT_LARGE="a11y-text-large",t.IS_DRAGGING_UNDESIRED="a11y-dragging-undesired"}(ve||(ve={}));var ye=ve;let Ee=0;var be={name:"PrimaryButton",extends:Te,props:{filled:Object(o.bool)().def(!1),expand:Object(o.bool)().def(!1),smallAlternateTheme:Object(o.bool)().def(!1),clickSound:Object(o.string)()},data:()=>({width:1,height:1,isTouch:W,isRetina:Z,A11yOptions:ye}),computed:{clipPathId:()=>"button-mask-"+(Ee+=1,""+Ee),...Object(B.d)({a11yOptions:({a11y:t})=>t.a11yOptions}),isIconOnly(){return this.icon&&!this.label}},mounted(){this.resizeListener=rt(this.$el,this.onResize),this.onResize(),Jt.a.safari&&(this.$el.style.clipPath=`url(#${this.clipPathId})`,this.$el.style.overflow="visible")},beforeDestroy(){this.resizeListener()},methods:{handleAllComponentsReady(){this.transitionController=new ge(this),this.isReady()},onResize(){const{offsetWidth:t,offsetHeight:e}=this.$el;this.width=t,this.height=e}}},Re=i(293);var xe=Object(T.a)(be,(function(){var t,e=this,i=e.$createElement,s=e._self._c||i;return s(e.componentType,{directives:[{name:"sound",rawName:"v-sound:mouseenter",value:e.$hoverSamples,expression:"$hoverSamples",arg:"mouseenter"},{name:"sound",rawName:"v-sound:click",value:e.SampleName.GENERAL_CLICK,expression:"SampleName.GENERAL_CLICK",arg:"click"},{name:"sound",rawName:"v-sound:touchend",value:e.clickSound,expression:"clickSound",arg:"touchend"},{name:"sound",rawName:"v-sound:mouseup",value:e.clickSound,expression:"clickSound",arg:"mouseup"}],ref:"button",tag:"component",class:["button",e.$style.primaryButton,(t={},t[e.$style.isParentHovered]=e.isParentHovered,t[e.$style.isFilled]=e.filled,t[e.$style.isIconOnly]=e.isIconOnly,t[e.$style.isExpanding]=e.expand,t[e.$style.smallAlternateTheme]=e.smallAlternateTheme,t[e.$style.isReducedMotion]=e.a11yOptions[e.A11yOptions.IS_REDUCED_MOTION],t[e.$style.isHighContrast]=e.a11yOptions[e.A11yOptions.IS_HIGH_CONTRAST],t)],attrs:{"aria-label":e.ariaLabel||e.title,href:e.isLink&&e.target,type:!e.isLink&&e.buttonType,to:e.isRouterLink&&e.link.target,disabled:e.disabled},on:{click:e.handleClick}},[s("span",{class:["abs-fill",e.$style.background]}),e._v(" "),s("svg",{ref:"outline",class:e.$style.outline,attrs:{"aria-hidden":"true",viewBox:"0 0 "+e.width+" "+e.height}},[s("rect",{ref:"outlineRect",attrs:{width:Math.max(0,e.width-(e.isRetina()?1.1:1.75)),height:Math.max(0,e.height-(e.isRetina()?1.1:1.75)),"stroke-width":e.isRetina()?1.1:1.75,x:"0.5",y:"0.5",rx:"1em"}}),e._v(" "),s("clipPath",{attrs:{id:e.clipPathId}},[s("rect",{ref:"clipRect",attrs:{width:e.width,height:e.height,rx:"1em"}})])]),e._v(" "),s("span",{ref:"hover",class:[e.$style.hover,e.isTouch()&&e.$style.isHidden]}),e._v(" "),e.icon?s("Icon",{ref:"icon",class:e.$style.icon,attrs:{name:e.icon}}):e._e(),e._v(" "),e.label?s("span",{ref:"label",class:["copy-cta",e.$style.label],attrs:{"aria-label":e.label}},[s("span",{ref:"splitText",attrs:{"aria-hidden":"true"},domProps:{innerHTML:e._s(e.label)}})]):e._e()],1)}),[],!1,(function(t){this.$style=Re.default.locals||Re.default}),null,null).exports;class we extends D.AbstractTransitionController{showContent(){const t=U.default.timeline(),{title:e,description:i,callToAction:s}=this.parentController.$refs;return t.add(fe(e)),t.add(pe(i),">0.7"),s&&t.add(this.getTimeline(s),"<0.1"),t}hideContent(){const t=U.default.timeline(),{title:e,description:i,callToAction:s}=this.parentController.$refs;return t.to([e,i],{autoAlpha:0},0),s&&t.to(s.$el,{autoAlpha:0},0),t}setupTransitionInTimeline(t,e,i){const{callToAction:s,input:a}=e.$refs,{title:n,description:r}=e.$refs;t.add(ie(e.$el,{duration:.01})),t.add(fe(n)),a&&t.add(this.getTimeline(a),"<0.1"),t.add(pe(r),">0.1"),s&&t.add(this.getTimeline(s),"<0.1")}setupTransitionOutTimeline(t,e,i){t.add(se(e.$el,{to:0,autoAlpha:!0,duration:.3}))}setupLoopingAnimationTimeline(t,e,i){}}var Oe=i(26);class Se extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){const{firstLabel:s,secondLabel:a,drag:n,bounds:r}=e.$refs;t.add(ie([s,a],{to:1,duration:.6,stagger:.1}),0),t.fromTo(r,{scaleX:0,transformOrigin:"left"},{scaleX:1,duration:.4,ease:re.JorisInOut},0),t.fromTo(n,{scale:0},{scale:1,ease:re.JorisInOut,duration:.4},.3)}setupTransitionOutTimeline(t,e,i){}setupLoopingAnimationTimeline(t,e,i){}}var Ie={name:"SwitchDragInput",extends:D.AbstractTransitionComponent,props:{first:o.default.shape({label:o.default.string,mobileLabel:o.default.string,value:o.default.any}),second:o.default.shape({label:o.default.string,mobileLabel:o.default.string,value:o.default.any})},data:()=>({currentValue:0,snap:[],isDragging:!1}),computed:{...Object(B.d)({deviceState:t=>t.app.deviceState})},watch:{currentValue(){this.$emit("change",0===this.currentValue?this.first.value:this.second.value)}},beforeDestroy(){this.draggable&&this.draggable.kill(),this.disposables&&this.disposables.dispose()},methods:{handleAllComponentsReady(){this.transitionController=new Se(this),this.isReady()},start(){this.disposables=new N.DisposableManager,this.init(),this.resizeListener=rt(this.$el,P()(this.handleResize,200),!0)},stop(){this.disposables.dispose(),this.draggable&&this.draggable.kill(),this.currentValue=0,U.default.set(this.$refs.drag,{clearProps:"x"})},init(){this.updateSnap(),[this.draggable]=Oe.a.create(this.$refs.drag,{type:"x",throwProps:!0,throwResistance:500,edgeResistance:1,overshootTolerance:0,bounds:this.$refs.bounds,onDragStart:()=>{this.isDragging=!0},onDragEnd:()=>{this.isDragging=!1,this.handleDragComplete()}})},updateSnap(){this.snap=[0,this.$refs.bounds.offsetWidth-this.$refs.drag.offsetWidth]},handleResize(){this.updateSnap(),this.draggable&&(U.default.set(this.$refs.drag,{x:this.snap[this.currentValue]}),this.draggable.vars.snap=this.snap)},handleDragComplete(){const t=U.default.utils.snap(this.snap,this.draggable.x);U.default.to(this.$refs.drag,{x:t,duration:.4,ease:"power3.out"}),this.currentValue=this.snap.findIndex(e=>e===t)},handleClick(t){this.currentValue=t,U.default.to(this.$refs.drag,{x:this.snap[this.currentValue],duration:.8,ease:re.VinnieInOut})}}},Me=i(294);var Ce=Object(T.a)(Ie,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:[t.$style.switchDragInput]},[i("button",{class:["button copy-cta",t.$style.option,0===t.currentValue&&t.$style.active],on:{click:function(){return t.handleClick(0)}}},[i("span",{ref:"firstLabel"},[t._v(t._s(t.first.label))])]),t._v(" "),i("div",{ref:"bounds",class:t.$style.bounds},[i("div",{ref:"drag",class:t.$style.drag},[i("div",{class:[t.$style.hover,t.isDragging&&t.$style.isDragging]})])]),t._v(" "),i("button",{class:["button copy-cta",t.$style.option,1===t.currentValue&&t.$style.active],on:{click:function(){return t.handleClick(1)}}},[i("span",{ref:"secondLabel"},[t._v(t._s(t.second.label))])])])}),[],!1,(function(t){this.$style=Me.default.locals||Me.default}),null,null).exports,Le=i(8);var Pe={state:{a11yOptions:{[ye.IS_REDUCED_MOTION]:!1,[ye.IS_HIGH_CONTRAST]:!1,[ye.IS_TEXT_LARGE]:!1,[ye.IS_DRAGGING_UNDESIRED]:!1},isAccessibilityModalVisible:!1},getters:{"a11y/getIsA11yOptionActive":t=>e=>t.a11yOptions[e],"a11y/getIsReducedMotion":t=>t.a11yOptions[ye.IS_REDUCED_MOTION],"a11y/getIsHighContrast":t=>t.a11yOptions[ye.IS_HIGH_CONTRAST],"a11y/getIsTextLarge":t=>t.a11yOptions[ye.IS_TEXT_LARGE],"a11y/getIsDraggingUndesired":t=>t.a11yOptions[ye.IS_DRAGGING_UNDESIRED]},mutations:{"a11y/setIsAccessibilityModalVisible"(t,e){t.isAccessibilityModalVisible=e},"a11y/setA11yOptions"(t,e){t.a11yOptions={...t.a11yOptions,...e}}},actions:{}},Ne={name:"BullCapital",components:{PrimaryButton:xe,SwitchDragInput:Ce},extends:Ct,props:{data:o.default.shape({bullTitle:o.default.string,bullDescription:o.default.string,lionTitle:o.default.string,lionDescription:o.default.string,lionButton:o.default.string,artDetailConfig:$t()}).isRequired},data:()=>({hasLionSwitch:!0,isClosed:!1,isBullActive:!0,cameraOffsetX:0}),computed:{...Object(B.d)({deviceState:t=>t.app.deviceState}),...Object(B.b)({isReducedMotion:"a11y/getIsReducedMotion"}),isMobile(){return this.deviceState<Le.deviceState.MEDIUM}},watch:{isActive(t){t?this.setIsCloseActive({active:!0,callback:()=>{this.isClosed=!0,this.isActive=!1}}):(this.isBullActive=!0,this.setIsCloseActive({active:!1,callback:()=>{}}))},isBullActive(t){this.$webgl.setApadanaPillarCapBull(t)}},created(){this.disposables=new Ft.a},beforeDestroy(){this.disposables.dispose()},methods:{...Object(B.c)({setIsCloseActive:Vt}),handleAllComponentsReady(){this.transitionController=new we(this),this.disposables.add(Object(it.addEventListener)(this.transitionController,D.TransitionEvent.types.TRANSITION_IN_START,this.onTransitionInStart),Object(it.addEventListener)(this.transitionController,D.TransitionEvent.types.TRANSITION_IN_COMPLETE,this.onTransitionInComplete),Object(it.addEventListener)(this.transitionController,D.TransitionEvent.types.TRANSITION_OUT_START,this.onTransitionOutStart),Object(it.addEventListener)(this.transitionController,D.TransitionEvent.types.TRANSITION_OUT_COMPLETE,this.onTransitionOutComplete)),this.isReady(),this.isActive&&this.transitionIn(!0)},updateIsActive(){const t=Rt(this.totalProgress,this.config.active);this.isClosed?this.isClosed&&!t&&(this.isClosed=!1):this.isActive=t},onClick(){this.data.artDetailConfig&&(this.lockScroll(),this.$artDetailModal.open(this.data.artDetailConfig,{onClose:()=>{this.unlockScroll()}}))},async onChange(t){await this.transitionController.hideContent(),this.isBullActive=null,await this.$nextTick(),this.isBullActive=t,await this.$nextTick(),this.transitionController.showContent(),Wt("hotspot_lion",{hotspot:this.isBullActive?"Head of a Bull":"Head of a Lion",room:Zt(this.$route)})},onTransitionInStart(){this.hasLionSwitch&&this.$refs.input.start(),this.$webgl.setCameraDragRotateAmount(0),U.default.to(this,{cameraOffsetX:.35,duration:1,ease:re.JorisInOut,onUpdate:()=>{this.$webgl.setScreenShift(this.cameraOffsetX,0)}})},onTransitionInComplete(){this.hasLionSwitch&&this.$refs.input.handleResize()},onTransitionOutStart(){U.default.to(this,{cameraOffsetX:0,duration:.5,ease:re.JorisInOut,onUpdate:()=>{this.$webgl.setScreenShift(this.cameraOffsetX,0)}})},onTransitionOutComplete(){this.hasLionSwitch&&this.$refs.input.stop(),this.isReducedMotion||this.$webgl.setCameraDragRotateAmount(1)}}},De=i(295);var Be=Object(T.a)(Ne,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["fill-screen",t.$style.bullCapital,t.hasLionSwitch&&t.$style.hasSwitch]},[i("div",{class:t.$style.container},[t.hasLionSwitch?i("div",{ref:"controls",class:t.$style.controls},[i("SwitchDragInput",{ref:"input",attrs:{first:{label:t.$t(t.data.bullTitle),mobileLabel:"Drag to see Lion capital",value:!0},second:{label:t.$t(t.data.lionTitle),mobileLabel:"Drag to see Bull capital",value:!1}},on:{change:t.onChange}})],1):t._e(),t._v(" "),t.isBullActive?[i("h2",{key:"item-1",ref:"title",class:["heading-03",t.$style.title]},[t._v("\n        "+t._s(t.$t(t.data.bullTitle))+"\n      ")]),t._v(" "),i("div",{ref:"descriptionWrapper",class:t.$style.description},[i("p",{key:"item-2",ref:"description",class:["copy-large serif"]},[t._v("\n          "+t._s(t.$t(t.data.bullDescription))+"\n        ")])])]:t._e(),t._v(" "),t.isBullActive?t._e():[i("h2",{key:"item-3",ref:"title",class:["heading-03",t.$style.title]},[t._v("\n        "+t._s(t.$t(t.data.lionTitle))+"\n      ")]),t._v(" "),i("div",{ref:"descriptionWrapper",class:t.$style.description},[i("p",{key:"item-4",ref:"description",class:["copy-large serif"]},[t._v("\n          "+t._s(t.$t(t.data.lionDescription))+"\n        ")]),t._v(" "),i("PrimaryButton",{key:"item-5",ref:"callToAction",class:t.$style.cta,attrs:{type:t.ButtonType.ACTION,label:t.$t(t.data.lionButton)},on:{click:t.onClick}})],1)]],2)])}),[],!1,(function(t){this.$style=De.default.locals||De.default}),null,null).exports;class Fe extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){t.add(ie(e.$el,{to:1,duration:.3}))}setupTransitionOutTimeline(t,e,i){t.add(se(e.$el,{to:0,autoAlpha:!0,duration:.3}))}setupLoopingAnimationTimeline(t,e,i){}}var $e={name:"ColorOverlay",extends:Ct,props:{data:o.default.shape({opacity:bt()}).isRequired},watch:{progress(){this.isActive&&this.update()}},methods:{handleAllComponentsReady(){this.transitionController=new Fe(this),this.isReady(),this.isActive&&this.transitionIn(!0)},update(){U.default.set(this.$refs.overlay,{alpha:wt(this.progress,this.data.opacity)})}}},Ue=i(296);var ke=Object(T.a)($e,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:["fill-screen",this.$style.colorOverlay]},[e("div",{ref:"overlay",class:[this.$style.overlay]})])}),[],!1,(function(t){this.$style=Ue.default.locals||Ue.default}),null,null).exports,Ve=i(13);const ze={duration:.6,from:.2,to:.4};function He(t,e={}){const{from:i,to:s,duration:a}=Object.assign(Object.assign({},ze),e),n={value:i};return U.default.to(n,{duration:a,value:s,ease:re.JorisInOut,onUpdate:()=>{t&&t.$webgl&&t.$webgl.setOverlayColor(.106,.047,.094,n.value)}})}class Ge extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){const{callToAction:s}=e.$refs;t.add(ie(e.$el,{to:1,duration:.3,autoAlpha:!0})),t.add(this.getTimeline(s),"<0.1"),t.add(He(e,{from:.2,to:.35}),0)}setupTransitionOutTimeline(t,e,i){const{callToAction:s}=e.$refs;t.add(se(e.$el,{to:0,autoAlpha:!0,duration:.3})),t.add(this.getTimeline(s,Ve.TransitionDirection.OUT),"<"),t.add(He(e,{from:.35,to:.2}),0)}setupLoopingAnimationTimeline(t,e,i){}}class Xe extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){const{callToAction:s,playButton:a}=e.$refs,{splitTitle:n,description:r,shadow:o}=e.$refs,{theme:l}=e;t.add(ie(e.$el,{duration:.01})),"small"===l?t.add(me(n,!1,!0,!0)):t.add(fe(n)),r&&t.add(pe(r),">0.7"),a&&t.add(this.getTimeline(a),"<0.1"),s&&t.add(this.getTimeline(s),"<0.1"),t.add(He(e,{from:.2,to:.35}),0)}setupTransitionOutTimeline(t,e,i){const{splitTitle:s}=e.$refs;t.add(se(e.$el)),t.add(se(s,{duration:.01})),t.add(He(e,{from:.35,to:.2}),0)}setupLoopingAnimationTimeline(t,e,i){}}var je=t=>({validator:e=>null===e||("undefined"===typeof e?!t.required:Object(o.validateType)(t,e))});class We extends D.AbstractTransitionController{ripple(){const t=U.default.timeline(),{ripple:e}=this.parentController;return t.set(e.outer,{opacity:1},0),t.fromTo(e.outer,{size:10},{size:14,opacity:0,duration:1.2,ease:"power3.out"},0),t.set(e.inner,{opacity:1},.6),t.fromTo(e.inner,{size:10},{size:14,opacity:0,duration:1.2,ease:"power3.out"},.6),t}setupTransitionInTimeline(t,e,i){const{isMobile:s}=e,{circle:a,icon:n,tag:r,label:o}=e.$refs;s||(t.fromTo(a,{autoAlpha:0,scale:1.2},{autoAlpha:1,scale:1,duration:.6,ease:re.JorisInOut},0),t.fromTo(n.$el,{autoAlpha:0,scale:1.6},{autoAlpha:1,scale:1,duration:.6,ease:re.JorisInOut},0),t.fromTo([r,o],{autoAlpha:0,x:15},{autoAlpha:1,x:0,ease:re.JorisInOut,duration:1,stagger:.1},.2))}setupTransitionOutTimeline(t,e,i){}setupLoopingAnimationTimeline(t,e,i){t.add(this.ripple(),.75)}}var Ye={name:"PlayAudioButton",extends:D.AbstractTransitionComponent,props:{label:o.default.string},data:()=>({ripple:{inner:{size:10,opacity:0},outer:{size:10,opacity:0}}}),created(){this.canAnimate=!1,this.disposables=new N.DisposableManager},computed:{...Object(B.d)({deviceState:t=>t.app.deviceState}),isMobile(){return this.deviceState<Le.deviceState.MEDIUM}},beforeDestroy(){this.disposables.dispose()},methods:{handleAllComponentsReady(){this.transitionController=new We(this),this.disposables.add(Object(it.addEventListener)(this.transitionController,D.TransitionEvent.types.TRANSITION_IN_COMPLETE,this.onTransitionInComplete),Object(it.addEventListener)(this.transitionController,D.TransitionEvent.types.TRANSITION_OUT_START,this.onTransitionOutStart)),this.isReady()},handleClick(t){t&&t.preventDefault(),this.$emit("click")},onTransitionInComplete(){this.startLoopingAnimation()},onTransitionOutStart(){this.stopLoopingAnimation()}}},Ze=i(297);var qe={name:"EditorialCallToAction",components:{PrimaryButton:xe,PlayAudioButton:Object(T.a)(Ye,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{directives:[{name:"sound",rawName:"v-sound:mouseenter",value:t.$hoverSamples,expression:"$hoverSamples",arg:"mouseenter"},{name:"sound",rawName:"v-sound:click",value:t.SampleName.GENERAL_CLICK,expression:"SampleName.GENERAL_CLICK",arg:"click"}],class:["button",t.$style.playAudioButton],on:{click:t.handleClick}},[i("div",{class:t.$style.border}),t._v(" "),i("div",{class:t.$style.inside},[i("div",{class:t.$style.iconWrapper},[i("div",{class:t.$style.ripple,style:"--inner-ring-size: "+t.ripple.inner.size+"rem; --inner-ring-opacity: "+t.ripple.inner.opacity+"; --outer-ring-size: "+t.ripple.outer.size+"rem; --outer-ring-opacity: "+t.ripple.outer.opacity+";"}),t._v(" "),i("div",{ref:"circle",class:t.$style.circle},[i("div",{class:t.$style.hover}),t._v(" "),i("Icon",{ref:"icon",class:t.$style.icon,attrs:{name:"play"}})],1)]),t._v(" "),i("div",{class:t.$style.copy},[i("span",{ref:"tag",class:["copy-cta",t.$style.tag]},[t._v(t._s(t.$t("general.audio")))]),t._v(" "),i("span",{ref:"label",class:t.$style.label},[t._v(t._s(t.label))])])])])}),[],!1,(function(t){this.$style=Ze.default.locals||Ze.default}),null,null).exports},extends:D.AbstractTransitionComponent,props:{title:Object(o.string)(),description:Object(o.string)(),callToAction:je(Object(o.string)()),readMoreImage:je(Object(o.objectOf)({path:Object(o.string)(),alt:Object(o.string)()})),align:o.default.string.def("right"),theme:o.default.string.def("default"),hasAudioCallToAction:Object(o.bool)().def(!1),mobileRemoveTitleBreak:Object(o.bool)().def(!1)},data:()=>({isOpen:!1}),computed:{...Object(B.d)({deviceState:({app:t})=>t.deviceState}),hasDrag(){return this.deviceState<Le.deviceState.MEDIUM}},watch:{hasDrag(t){this.dragger.enabled(t),t||(U.default.set(this.$el,{clearProps:"y"}),this.updateOverscroll(0))}},mounted(){this.createDragger(),this.resizeListener=rt(this.$el,this.onResize,!0)},beforeDestroy(){this.resizeListener(),this.dragger.kill()},methods:{handleAllComponentsReady(){this.transitionController=new Xe(this),this.isReady()},createDragger(){[this.dragger]=Oe.a.create(this.$el,{type:"y",bounds:this.getDragBounds(),edgeResistance:.75,zIndexBoost:!1,onPress:()=>this.$emit("dragStart"),onRelease:()=>this.$emit("dragEnd"),onDrag:this.onDrag,onDragEnd:this.onDragEnd}),this.hasDrag||this.dragger.disable()},getDragBounds(){return{minY:0,maxY:this.$el.offsetHeight-(this.$refs.description?this.$refs.description.offsetTop:0)}},onDrag(){const{y:t}=this.dragger;this.updateOverscroll(t),t<-50&&(this.isOpen=!0,this.$emit("open"),this.dragger.endDrag(),this.updatePosition(this.isOpen,0))},onDragEnd(){const{y:t,minY:e,maxY:i}=this.dragger,s=U.default.utils.snap([e,i],t);this.isOpen=s===e,U.default.to(this.$el,{y:s,duration:.6,ease:"power2.out"}),this.updateOverscroll(s)},onResize(){this.dragger.applyBounds(this.getDragBounds()),!this.isOpen&&this.hasDrag&&(U.default.set(this.$el,{y:this.dragger.maxY}),this.updateOverscroll(this.dragger.maxY))},toggleOpenClose(){this.isOpen=!this.isOpen,this.updatePosition(this.isOpen)},updatePosition(t,e=.6){const{minY:i,maxY:s}=this.dragger;U.default.to(this.$el,{duration:e,y:t?i:s,ease:"power2.out"}),this.updateOverscroll(this.isOpen?i:s)},updateOverscroll(t){if(!this.$refs.imageWrapper||!this.$refs.image)return;const e=Math.min(0,t);U.default.set(this.$refs.imageWrapper,{bottom:e}),U.default.set(this.$refs.image,{scale:U.default.utils.mapRange(0,50,1,1.1,U.default.utils.clamp(0,50,Math.abs(e)))})}}},Ke=i(298);var Qe=Object(T.a)(qe,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:[t.$style.editorialCallToAction],attrs:{"data-align":t.align,"data-theme":t.theme}},[i("Icon",{class:[t.$style.chevron,t.isOpen&&t.$style.isOpen],attrs:{name:"chevron-down"},nativeOn:{click:function(e){return t.toggleOpenClose(e)}}}),t._v(" "),i("h2",{ref:"title",class:["small"===t.theme?"heading-04":"heading-03",t.$style.title,t.mobileRemoveTitleBreak&&t.$style.mobileRemoveTitleBreak],attrs:{"aria-label":t.title}},[i("span",{ref:"splitTitle",attrs:{"aria-hidden":"true"},domProps:{innerHTML:t._s(t.title)}})]),t._v(" "),t.description?i("p",{ref:"description",class:["copy-large serif",t.$style.description]},[i("span",{ref:"shadow",class:t.$style.shadow}),t._v(" "),i("span",{domProps:{innerHTML:t._s(t.description)}})]):t._e(),t._v(" "),i("div",{class:t.$style.buttonWrapper},[t.callToAction?i("PrimaryButton",{ref:"callToAction",class:t.$style.button,attrs:{type:t.ButtonType.ACTION,label:t.callToAction},on:{click:function(e){return t.$emit("open")}}}):t._e()],1),t._v(" "),t.hasAudioCallToAction?[i("PlayAudioButton",{ref:"playButton",class:t.$style.playButton,attrs:{label:t.$t("general.listenToTheTranslation")},on:{click:function(e){return t.$emit("playAudio")}}})]:t._e(),t._v(" "),t.readMoreImage?i("figure",{class:t.$style.readMoreTrigger,on:{click:function(e){return t.$emit("open")}}},[i("span",{ref:"imageWrapper",class:["abs-fill",t.$style.imageWrapper]},[i("img",{ref:"image",attrs:{src:t.formatPath(t.readMoreImage.path,t.$versionRoot),alt:t.readMoreImage.alt}}),t._v(" "),i("span",{staticClass:"copy-cta"},[t._v(t._s(t.$t("scene.continueForDetail")))])])]):t._e()],2)}),[],!1,(function(t){this.$style=Ke.default.locals||Ke.default}),null,null).exports;class Je extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){const{setVisibility:s}=e,{background:a}=e.$refs,{content:n}=e.$refs;t.add(ie([e.$el,n],{duration:.01})),t.add(()=>{e.$el.focus()}),t.add(this.getTimeline(a),"<"),t.add(()=>s(!0),"<0.25")}setupTransitionOutTimeline(t,e,i){const{setVisibility:s}=e,{background:a}=e.$refs,{content:n}=e.$refs;t.add(se(n,{duration:.2})),t.add(this.getTimeline(a,Ve.TransitionDirection.OUT),"<"),t.add(se(e.$el,{duration:.01})),t.add(()=>s(!1))}setupLoopingAnimationTimeline(t,e,i){}}const ti=()=>Object(o.shape)({components:Object(o.arrayOf)(Object(o.shape)({id:Object(o.string)().isRequired,component:Object(o.string)().isRequired,data:Object(o.any)()}))});class ei extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){}setupTransitionOutTimeline(t,e,i){}setupLoopingAnimationTimeline(t,e,i){}}var ii={name:"EditorialCarousel",extends:D.AbstractTransitionComponent,props:{direction:o.default.string,data:o.default.shape({items:o.default.arrayOf(o.default.shape({image:o.default.string,caption:o.default.string,description:o.default.string}))}).isRequired},methods:{handleAllComponentsReady(){this.transitionController=new ei(this),this.isReady(),this.transitionIn()}}},si=i(299);var ai=Object(T.a)(ii,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:[t.$style.editorialCarousel]},t._l(t.data.items,(function(e,s){return i("div",{key:s},[i("img",{attrs:{src:t.formatPath(e.image,t.$versionRoot)}}),t._v(" "),e.caption?i("p",[t._v("\n      "+t._s(e.caption)+"\n    ")]):t._e(),t._v(" "),e.description?i("p",[t._v("\n      "+t._s(e.description)+"\n    ")]):t._e()])})),0)}),[],!1,(function(t){this.$style=si.default.locals||si.default}),null,null).exports;const ni={duration:1,from:1.2,clearProps:!0,stagger:0,ease:"power4.out"};function ri(t,e={}){const{from:i,duration:s,ease:a,clearProps:n}=Object.assign(Object.assign({},ni),e),r=U.gsap.timeline();return r.fromTo(t,{scale:i},{duration:s,ease:a,scale:1,clearProps:n?"scale":""}),r.add(ie(t,{clearProps:n,duration:.6*s}),"<"),r}class oi extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){const{image:s}=e.$refs,{title:a,subtitle:n,text:r}=e.$refs;t.add(ie(e.$el,{duration:.01})),t.add(ri(s),"<");const o=U.default.timeline();a&&o.add(fe(a,!0)),n&&o.add(pe(n),">-0.7"),t.add(o,"<"),r&&t.add(pe(r),"<0.5")}setupTransitionOutTimeline(t,e,i){t.add(se(e.$el))}setupLoopingAnimationTimeline(t,e,i){}}const li=new Map,ci=new IntersectionObserver(t=>{t.forEach(({target:t,isIntersecting:e})=>li.get(t)(e))},{root:null,rootMargin:"0% 2.5% 0% 2.5%",threshold:0}),hi=t=>{li.has(t)&&(ci.unobserve(t),li.delete(t))};var di={name:"AbstractEditorialViewportMixin",data:()=>({isIntersecting:!1,isComponentReady:!0}),mounted(){var t,e;t=this.$el,e=this.onIntersectionChange,li.has(t)||(li.set(t,e),ci.observe(t))},beforeDestroy(){hi(this.$el)},methods:{onIntersectionChange(t){this.isIntersecting=t,t&&this.isComponentReady&&(this.transitionIn(),hi(this.$el))}}},ui={name:"EditorialHero",extends:D.AbstractTransitionComponent,mixins:[di],props:{direction:o.default.string,data:o.default.shape({image:o.default.objectOf({path:o.default.string,alt:o.default.string}),caption:o.default.string,title:o.default.string,subtitle:o.default.string,text:o.default.string,artDetailConfig:$t()}).isRequired},created(){this.isComponentReady=!1},methods:{handleAllComponentsReady(){this.transitionController=new oi(this)},async onImageLoad(){await this.allComponentsReady,this.isReady(),this.isComponentReady=!0,this.isIntersecting&&this.transitionIn()},onClick(){this.data.artDetailConfig&&(this.$sound.play(F.GENERAL_CLICK,h.UI),Wt("editorial_object",{artObject:qt(this.data.artDetailConfig.title),room:Zt(this.$route)}),this.$artDetailModal.open(this.data.artDetailConfig,{onClose:()=>{}}))}}},pi=i(300);var mi=Object(T.a)(ui,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:[t.$style.editorialHero]},[t.data.image?i("figure",{class:t.$style.image},[i("img",{ref:"image",attrs:{src:t.formatImage(t.data.image.path,t.$versionRoot),alt:t.$t(t.data.image.alt),draggable:"false"},on:{load:t.onImageLoad,click:t.onClick}})]):t._e(),t._v(" "),i("div",{class:t.$style.content},[i("header",{class:t.$style.titleWrapper},[t.data.title?i("h1",{ref:"title",class:["heading-02 large",t.$style.title]},[t._v("\n        "+t._s(t.$t(t.data.title))+"\n      ")]):t._e(),t._v(" "),t.data.subtitle?i("h3",{ref:"subtitle",class:["copy-cta",t.$style.subtitle],domProps:{innerHTML:t._s(t.$t(t.data.subtitle))}}):t._e()]),t._v(" "),t.data.text?i("p",{ref:"text",class:["copy-large serif",t.$style.text],domProps:{innerHTML:t._s(t.$t(t.data.text))}}):t._e()])])}),[],!1,(function(t){this.$style=pi.default.locals||pi.default}),null,null).exports,fi=i(25),gi=i.n(fi);class vi extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){const{openDetailButton:s}=e.$refs,{image:a,background:n}=e.$refs;t.add(ie(e.$el,{duration:.01}),.2),n&&t.add(ie(n),"<"),t.add(ri(a),"<0.1"),s&&t.add(this.getTimeline(s,gi.a.IN),"<0.2")}setupTransitionOutTimeline(t,e,i){}setupLoopingAnimationTimeline(t,e,i){}}var _i={name:"EditorialImage",components:{PrimaryButton:xe},extends:D.AbstractTransitionComponent,mixins:[di],props:{direction:o.default.string,data:o.default.shape({image:o.default.objectOf({path:o.default.string,alt:o.default.string}),isPadded:o.default.bool,caption:o.default.string,description:o.default.string,date:o.default.string,artDetailConfig:$t()}).isRequired},data:()=>({isHovered:!1}),computed:{detailAriaLabel(){var t;return this.$t("general.detailAria").replace("[object]",this.$t(null===(t=this.data.artDetailConfig)||void 0===t?void 0:t.title))}},created(){this.isComponentReady=!1},methods:{...Object(B.c)({setIsCloseActive:Vt}),handleAllComponentsReady(){this.transitionController=new vi(this)},async onImageLoad(){await this.allComponentsReady,this.isReady(),this.isComponentReady=!0,this.isIntersecting&&this.transitionIn()},onClick(){this.data.artDetailConfig&&(this.$sound.play(F.GENERAL_CLICK,h.UI),Wt("editorial_object",{artObject:qt(this.data.artDetailConfig.title),room:Zt(this.$route)}),this.$artDetailModal.open(this.data.artDetailConfig,{closeOptions:{active:!0,callback:()=>this.$emit("close")}}))},onMouseEnter(){this.isHovered=!0,this.data.artDetailConfig&&this.$sound.play(c()(this.$hoverSamples),h.UI)},onMouseLeave(){this.isHovered=!1}}},Ai=i(301);var Ti=Object(T.a)(_i,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("figure",{class:[t.$style.editorialImage,t.data.isPadded&&t.$style.isPadded]},[i(t.data.artDetailConfig?"button":"span",{tag:"component",class:[t.data.artDetailConfig&&"button",t.$style.imageWrapper],on:{click:t.onClick,mouseenter:t.onMouseEnter,mouseleave:t.onMouseLeave}},[t.data.isPadded?i("span",{ref:"background",class:["abs-fill",t.$style.background]}):t._e(),t._v(" "),i("img",{ref:"image",class:t.$style.image,attrs:{src:t.formatImage(t.data.image.path,t.$versionRoot),alt:t.$t(t.data.image.alt),draggable:"false"},on:{load:t.onImageLoad}}),t._v(" "),t.data.artDetailConfig?i("PrimaryButton",{ref:"openDetailButton",class:t.$style.openDetailButton,attrs:{type:t.ButtonType.INLINE,"is-parent-hovered":t.isHovered,"small-alternate-theme":!0,icon:"plus","aria-label":t.detailAriaLabel}}):t._e()],1),t._v(" "),i("figcaption",{class:t.$style.imageCaption},[i("p",{class:["copy-cta",t.$style.description]},[t.data.description?i("span",{domProps:{innerHTML:t._s(t.$t(t.data.description))}}):t._e(),t._v(" "),t.data.date?i("em",[t._v(t._s(t.$t(t.data.date)))]):t._e()]),t._v(" "),t.data.caption?i("small",{class:["copy-mini",t.$style.caption],domProps:{innerHTML:t._s(t.$t(t.data.caption))}}):t._e()])],1)}),[],!1,(function(t){this.$style=Ai.default.locals||Ai.default}),null,null).exports;class yi extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){const{intro:s,text:a}=e.$refs;t.add(ie(e.$el,{duration:.01})),s&&t.add(me(s,!0),"<"),a&&t.add(pe(a),s?">-0.6":"<0.2")}setupTransitionOutTimeline(t,e,i){}setupLoopingAnimationTimeline(t,e,i){}}var Ei={name:"EditorialText",extends:D.AbstractTransitionComponent,mixins:[di],props:{direction:o.default.string,data:o.default.shape({intro:o.default.string,text:je(o.default.string),marginRight:o.default.bool.def(!1)}).isRequired},methods:{handleAllComponentsReady(){this.transitionController=new yi(this),this.isReady()}}},bi=i(302);var Ri=Object(T.a)(Ei,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:[t.$style.editorialText,t.data.text&&t.$style.alignBottom]},[t.data.intro?i("p",{ref:"intro",class:["heading-04 min-vh",t.$style.intro],domProps:{innerHTML:t._s(t.$t(t.data.intro))}}):t._e(),t._v(" "),t.data.text?i("p",{ref:"text",class:["copy-large serif",t.$style.text,t.data.marginRight&&t.$style.marginRight],domProps:{innerHTML:t._s(t.$t(t.data.text))}}):t._e()])}),[],!1,(function(t){this.$style=bi.default.locals||bi.default}),null,null).exports;class xi extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){}setupTransitionOutTimeline(t,e,i){}setupLoopingAnimationTimeline(t,e,i){}}var wi={name:"EditorialContent",components:{EditorialText:Ri,EditorialCarousel:ai,EditorialImage:Ti,EditorialHero:mi},extends:D.AbstractTransitionComponent,props:{config:ti(),direction:o.default.string},methods:{handleAllComponentsReady(){this.transitionController=new xi(this),this.isReady()},close(){this.$emit("close")}}},Oi=i(303);var Si,Ii=Object(T.a)(wi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("article",{class:[t.$style.editorialContent,t.$style[t.direction]]},[t._l(t.config.components,(function(e){return[i(e.component,{key:e.id,ref:"component",refInFor:!0,tag:"component",attrs:{data:e.data},on:{close:t.close}})]}))],2)}),[],!1,(function(t){this.$style=Oi.default.locals||Oi.default}),null,null).exports;function Mi(t,e,i,s=!0){const a=100*(e===Si.TOP?0:1),n=100*(e===Si.TOP&&s||e===Si.BOTTOM&&!s?i.x1:1-i.x1),r=100*(e===Si.TOP&&s||e===Si.BOTTOM&&!s?i.x2:1-i.x2);t.setAttribute("d",`M 0, ${a} L 100, ${a} L 100, ${n} Q 50 ${r}, 0 ${n}z`)}!function(t){t[t.TOP=0]="TOP",t[t.BOTTOM=1]="BOTTOM"}(Si||(Si={}));const Ci={direction:Si.TOP,duration:1,ease:re.VinnieInOut,centerEase:"power3.out"},Li=Object.assign(Object.assign({},Ci),{direction:Si.BOTTOM});class Pi extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){const{openDirection:s,darken:a}=e,{backgroundPath:n}=e.$refs;if(t.add(ie(e.$el,{duration:.01})),t.add(function(t,e=Ci){const{direction:i,duration:s,ease:a,centerEase:n}=Object.assign(Object.assign({},Ci),e),r={x1:0,x2:0},o=U.default.timeline({onUpdate:()=>Mi(t,i,r,!0)});return o.fromTo(r,{x1:0},{duration:s,ease:a,x1:1}),o.fromTo(r,{x2:0},{duration:s,x2:1,ease:n},"<"),o}(n,{direction:s}),"<"),a){const{defaultColor:i,darkenedColor:s}=this.getDarkenColors(e.$el);t.fromTo(e.$el,{color:s},{color:i,duration:1,ease:"power2.in",clearProps:"color"},"<")}}setupTransitionOutTimeline(t,e,i){const{closeDirection:s,darken:a}=e,{backgroundPath:n}=e.$refs;if(t.add(function(t,e=Li){const{direction:i,duration:s,ease:a,centerEase:n}=Object.assign(Object.assign({},Li),e),r={x1:0,x2:0},o=U.default.timeline({onUpdate:()=>Mi(t,i,r,!1)});return o.to(r,{duration:s,ease:a,x1:1}),o.to(r,{duration:s,x2:1,ease:n},"<"),o}(n,{direction:s}),"<"),a){const{darkenedColor:i}=this.getDarkenColors(e.$el);t.to(e.$el,{color:i,duration:1,ease:"power3.out"},"<")}t.add(se(e.$el,{duration:.01}))}setupLoopingAnimationTimeline(t,e,i){}getDarkenColors(t){const[e,i,s]=U.default.utils.splitColor(getComputedStyle(t).color,!0);return{defaultColor:`hsl(${e}, ${i}%, ${s}%)`,darkenedColor:`hsl(${e}, ${i}%, ${Math.max(0,s-7.5)}%)`}}}var Ni={name:"SolidBackground",extends:D.AbstractTransitionComponent,props:{openDirection:Object(o.oneOf)(Object.values(Si)).def(Si.TOP),closeDirection:Object(o.oneOf)(Object.values(Si)).def(Si.BOTTOM),darken:Object(o.bool)().def(!1)},methods:{handleAllComponentsReady(){this.transitionController=new Pi(this),this.isReady()}}},Di=i(304);var Bi=Object(T.a)(Ni,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:["abs-fill",this.$style.solidBackground]},[e("svg",{attrs:{viewBox:"0 0 100 100",preserveAspectRatio:"none"}},[e("path",{ref:"backgroundPath",attrs:{d:"M0, 0 L100, 0 L100, 100 L0, 100z"}})])])}),[],!1,(function(t){this.$style=Di.default.locals||Di.default}),null,null).exports,Fi={name:"EditorialOverlay",components:{SolidBackground:Bi,ScrollPage:vt,EditorialContent:Ii},extends:D.AbstractTransitionComponent,props:{config:ti(),isOpen:Object(o.bool)().def(!1)},data:()=>({openDirection:Si.BOTTOM,isVisible:!1}),computed:{...Object(B.d)({deviceState:({app:t})=>t.deviceState}),editorialDirection(){return this.deviceState<Le.deviceState.MEDIUM?this.Direction.VERTICAL:this.Direction.HORIZONTAL}},watch:{isOpen(t){t?this.transitionIn():this.transitionOut()}},methods:{handleAllComponentsReady(){this.transitionController=new Je(this),this.isReady()},setVisibility(t){this.isVisible=t},close(){this.$emit("close")}}},$i=i(305);var Ui={name:"Editorial",components:{EditorialOverlay:Object(T.a)(Fi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["fill-screen",t.$style.editorialOverlay],attrs:{tabindex:"-1"}},[i("SolidBackground",{ref:"background",attrs:{"open-direction":t.openDirection}}),t._v(" "),i("div",{ref:"content",staticClass:"abs-fill"},[t.isVisible?[i("ScrollPage",{class:[t.$style.scrollWrapper],attrs:{direction:t.editorialDirection}},[i("EditorialContent",{attrs:{direction:t.editorialDirection,config:t.config},on:{close:t.close}})],1)]:t._e()],2)],1)}),[],!1,(function(t){this.$style=$i.default.locals||$i.default}),null,null).exports,EditorialCallToAction:Qe},extends:Ct,props:{data:o.default.shape({title:o.default.string,description:o.default.string,buttonLabel:o.default.string,align:o.default.string,theme:o.default.string,mobileRemoveTitleBreak:o.default.bool.def(!1),editorialConfig:o.default.any}).isRequired},data:()=>({isOpen:!1}),computed:{readMoreImage(){var t,e;return this.data.editorialConfig?null===(t=this.data.editorialConfig.components.find(t=>"EditorialHero"===t.component))||void 0===t||null===(e=t.data)||void 0===e?void 0:e.image:null}},watch:{isOpen(t){t?(this.$webgl.pause(),this.lockScroll(),this.setIsCloseActive({active:!0,callback:this.close})):(this.$webgl.play(),this.unlockScroll()),this.setIsSecondaryNavigationVisible(!t)},isActive(t){t||(this.isOpen=!1)}},methods:{...Object(B.c)({setIsCloseActive:Vt,setIsSecondaryNavigationVisible:"app/setIsSecondaryNavigationVisible",setCurrentActiveHotspot:"app/setCurrentActiveHotspot"}),handleAllComponentsReady(){this.transitionController=new Ge(this),this.isReady(),this.isActive&&this.transitionIn(!0)},open(){this.isOpen=!0,this.setCurrentActiveHotspot(this.config.id),Wt("hotspot_editorial",{room:Zt(this.$route),hotspot:this.config.id})},close(){this.isOpen=!1,this.setCurrentActiveHotspot(null)}}},ki=i(306);var Vi,zi=Object(T.a)(Ui,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["fill-screen",t.$style.editorial],attrs:{"data-align":t.data.align||"right","data-theme":t.data.theme||"default"}},[i("EditorialCallToAction",{ref:"callToAction",attrs:{title:t.$t(t.data.title),description:t.data.description&&t.$t(t.data.description),"call-to-action":t.data.editorialConfig&&t.$t(t.data.buttonLabel),"read-more-image":t.readMoreImage,align:t.data.align||"right",theme:t.data.theme||"default","mobile-remove-title-break":t.data.mobileRemoveTitleBreak,inert:t.isOpen},on:{open:t.open,dragStart:t.lockScroll,dragEnd:t.unlockScroll}}),t._v(" "),t.data.editorialConfig?i("EditorialOverlay",{attrs:{config:t.data.editorialConfig,"is-open":t.isOpen},on:{close:t.close}}):t._e()],1)}),[],!1,(function(t){this.$style=ki.default.locals||ki.default}),null,null).exports;!function(t){t[t.SEQUENCE=0]="SEQUENCE",t[t.IMAGE=1]="IMAGE",t[t.FILE=2]="FILE"}(Vi||(Vi={}));var Hi={app:zt,a11y:Pe};s.default.use(B.a);let Gi=null;var Xi=()=>(Gi||(Gi=new B.a.Store({modules:Hi,strict:!1})),Gi);const ji=(t,e=p("configManager").getVariable(S.VERSIONED_STATIC_ROOT),i=null)=>{let s=t;return e&&(s=s.replace("{$versionRoot}",e)),null!==i&&(s=s.replace("{deviceState}/","number"===typeof i&&i<Le.deviceState.MEDIUM?"mobile/":"")),s},Wi=(t,e,i)=>{const s=ji(t,e,i);return Xi().state.app.filesSupported.webp?s.replace(".jpg",".webp").replace(".png",".webp"):s};var Yi={name:"AbstractAudioPlayerMixin",data:()=>({isAudioActive:!1,isAudioPlaying:!1,audioProgress:0,currentSubtitle:""}),beforeDestroy(){this.isAudioActive&&this.stopAudio()},methods:{playAudio(t,e=""){this.isAudioActive?this.isAudioPlaying?this.pauseAudio():this.resumeAudio():(this.$audioPlayer.play(ji(t,this.$versionRoot),{subtitle:ji(e,this.$versionRoot),onProgress:this.onAudioProgress,onPlay:this.onAudioPlay,onPause:this.onAudioPause,onStop:this.onAudioStop,onSubtitleUpdate:this.onSubtitleUpdate}),this.isAudioActive=!0)},pauseAudio(){this.$audioPlayer.pause()},resumeAudio(){this.$audioPlayer.resume()},stopAudio(){this.$audioPlayer.stop()},onAudioProgress(t){this.audioProgress=t},onAudioPlay(){this.isAudioPlaying=!0},onAudioPause(){this.isAudioPlaying=!1},onAudioStop(){this.isAudioActive=!1,this.isAudioPlaying=!1,this.audioProgress=0,this.currentSubtitle=""},onSubtitleUpdate(t){this.currentSubtitle=null===t||void 0===t?void 0:t.trim()}}};class Zi extends D.AbstractTransitionController{showIntro(){const{callToAction:t}=this.parentController.$refs;t.transitionIn()}hideIntro(){const{callToAction:t}=this.parentController.$refs;t.transitionOut()}setupTransitionInTimeline(t,e,i){const{callToAction:s}=e.$refs;t.add(ie(e.$el,{duration:.3})),t.add(this.getTimeline(s),"<0.1")}setupTransitionOutTimeline(t,e,i){t.add(se(e.$el,{duration:.3}))}setupLoopingAnimationTimeline(t,e,i){}}class qi extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){}setupTransitionOutTimeline(t,e,i){}setupLoopingAnimationTimeline(t,e,i){}}var Ki={name:"Subtitles",extends:D.AbstractTransitionComponent,props:{subtitle:je(Object(o.string)())},methods:{handleAllComponentsReady(){this.transitionController=new qi(this),this.isReady()}}},Qi=i(307);var Ji=Object(T.a)(Ki,(function(){var t=this.$createElement;return(this._self._c||t)("p",{class:["heading-04 min-vh",this.$style.subtitles],domProps:{innerHTML:this._s(this.subtitle?this.$t(this.subtitle):"")}})}),[],!1,(function(t){this.$style=Qi.default.locals||Qi.default}),null,null).exports,ts={name:"Inscription",components:{EditorialCallToAction:Qe,Subtitles:Ji},extends:Ct,mixins:[Yi],props:{data:o.default.shape({title:o.default.string,description:o.default.string,audio:o.default.string,subtitle:o.default.string,position:o.default.number,align:o.default.string.def("left")}).isRequired},watch:{isActive(t){!t&&this.isAudioActive&&this.stop()},audioProgress(t){this.$webgl.setInscriptionProgress(t)},isAudioActive(t){t?(this.transitionController.hideIntro(),this.setIsCloseActive({active:!0,callback:this.stop})):this.isActive&&this.transitionController.showIntro(),this.$sound.muteMusic(t)},isAudioPlaying(t){t||this.stop()}},methods:{...Object(B.c)({setIsCloseActive:Vt,setCurrentActiveHotspot:"app/setCurrentActiveHotspot"}),handleAllComponentsReady(){this.transitionController=new Zi(this),this.isReady(),this.isActive&&this.transitionIn(!0)},play(){this.setCurrentActiveHotspot(this.config.id),this.lockScroll(),Wt("hotspot_audio",{room:Zt(this.$route),hotspot:this.config.id}),this.scrollTo(this.getScrollPosition(this.data.position),1e3,()=>{}),this.playAudio(this.data.audio,this.data.subtitle)},stop(){this.setCurrentActiveHotspot(null),this.stopAudio(),this.unlockScroll()}}},es=i(308);var is=Object(T.a)(ts,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["fill-screen",t.$style.inscription],attrs:{"data-align":t.data.align||"left"}},[i("EditorialCallToAction",{ref:"callToAction",attrs:{title:t.$t(t.data.title),description:t.$t(t.data.description),"has-audio-call-to-action":!0,align:t.data.align},on:{dragStart:t.lockScroll,dragEnd:t.unlockScroll,playAudio:t.play}}),t._v(" "),i("Subtitles",{attrs:{subtitle:t.currentSubtitle}})],1)}),[],!1,(function(t){this.$style=es.default.locals||es.default}),null,null).exports,ss={name:"AbstractSceneHotspot",extends:Ct,props:{config:It()}};class as extends D.AbstractTransitionController{toggleOpenContent(t){const{zoomedDescription:e}=this.parentController.$refs;if(!e)return;const i=U.default.timeline();t?i.add(me(e,!1,!1,!0),.3):i.add(se(e,{to:0,duration:.3}))}enterAnimation(){const t=this.parentController,e=U.default.timeline(),{firstRing:i,secondRing:s,thirdRing:a,firstRingMask:n,secondRingMask:r,circle:o}=t.$refs,{overlay:l}=t,c=t.isReducedMotion;return e.to(l,{value:.35,duration:.3,ease:re.JorisInOut},0),e.to(o,{scale:1.1,ease:re.JorisInOut,duration:.3},0),e.to([i,n],{scale:1.1,ease:re.JorisInOut,duration:.3},c?0:.05),e.to([s,r],{scale:1.1,ease:re.JorisInOut,duration:.3},c?0:.1),e.to([a],{scale:1.1,ease:re.JorisInOut,duration:.3},c?0:.15),e}leaveAnimation(){const t=U.default.timeline(),{firstRing:e,secondRing:i,thirdRing:s,firstRingMask:a,secondRingMask:n,circle:r}=this.parentController.$refs,{overlay:o}=this.parentController;return t.to(o,{value:.25,duration:.2,ease:re.JorisInOut},0),t.to([r,e,a,i,n,s],{scale:1,duration:.3,ease:re.JorisInOut},0),t}showRings(){const t=U.default.timeline(),{firstRing:e,secondRing:i,thirdRing:s,firstRingMask:a,secondRingMask:n,circle:r}=this.parentController.$refs;return t.fromTo(r,{scale:0},{scale:1,duration:.8,ease:re.JorisInOut},.1),t.fromTo([e,a],{scale:0,transformOrigin:"50% 50%"},{duration:1,scale:1,ease:re.JorisInOut,transformOrigin:"50% 50%"},0),t.fromTo([i,n],{scale:0,transformOrigin:"50% 50%"},{duration:1.1,scale:1,ease:re.JorisInOut,transformOrigin:"50% 50%"},0),t.fromTo(s,{scale:0,transformOrigin:"50% 50%"},{duration:1.2,scale:1,ease:re.JorisInOut,transformOrigin:"50% 50%"},0),t}hideRings(){const t=U.default.timeline(),{firstRing:e,secondRing:i,thirdRing:s,firstRingMask:a,secondRingMask:n,circle:r}=this.parentController.$refs;return t.to(r,{duration:.4,scale:0,ease:re.JorisInOut},0),t.to([e,a],{duration:.4,scale:0,ease:re.JorisInOut},0),t.to([i,n],{duration:.4,scale:0,ease:re.JorisInOut},.005),t.to([s],{duration:.4,scale:0,ease:re.JorisInOut},.01),t}setupTransitionInTimeline(t,e,i){const{copy:s}=e.$refs;t.add(ie(e.$el,{to:1,duration:.3})),t.add(this.showRings(),.2),s&&t.add(ie(s,{to:1,duration:.6}),.4),t.add(He(e,{from:.2,to:.35}),0)}setupTransitionOutTimeline(t,e,i){const{copy:s}=e.$refs;t.add(this.hideRings(),0),t.add(se(s,{to:0,autoAlpha:!0,duration:.3}),0),t.add(se(e.$el,{to:0,autoAlpha:!0,duration:.3})),t.add(He(e,{from:.35,to:.2}),0)}setupLoopingAnimationTimeline(t,e,i){}}var ns=i(52),rs=i.n(ns);class os extends rs.a{constructor(t,e){super(),this.options={force:.3,threshold:20,maxDistance:40,magneticType:"center",autoPlay:!0},this.currentMousePosition={x:0,y:0},this.isPlaying=!1,this.disposables=new N.DisposableManager,this.rawElements=t,this.elements=this.setElements(t),Object.assign(this.options,e),this.init()}updateBounds(){this.elements.map(t=>{const e=this.options.commonWrapper?this.options.commonWrapper:t.element;return t.bounds=e.getBoundingClientRect(),t})}play(){this.isPlaying||this.tick()}pause(){this.isPlaying&&cancelAnimationFrame(this.requestAnimation)}setElements(t){return t.reduce((t,e)=>{const i={element:e,bounds:(this.options.commonWrapper?this.options.commonWrapper:e).getBoundingClientRect(),currentPosition:{int:{x:0,y:0},lerp:{x:0,y:0}}};return t.push(i),t},[])}init(){this.setEvents(),this.options.autoPlay&&(this.tick(),this.isPlaying=!0)}setEvents(){this.disposables.add(Object(it.addEventListener)(window,"mousemove",this.handleMouseMove.bind(this)),Object(it.addEventListener)(window,"resize",P()(this.updateBounds.bind(this),200)))}handleMouseMove(t){this.currentMousePosition={x:t.pageX,y:t.pageY}}tick(){this.elements.forEach(t=>{const e=t.bounds,i=Number(t.element.dataset.magneticForce)||this.options.force,s=Number(t.element.dataset.magneticMaxDistance)||this.options.maxDistance;("center"===this.options.magneticType?this.isNearCenter(e):this.isNearBounds(e))?(t.currentPosition.int.x=U.default.utils.interpolate(t.currentPosition.int.x,U.default.utils.interpolate(-s,s,(this.currentMousePosition.x-e.left)/e.width),i),t.currentPosition.int.y=U.default.utils.interpolate(t.currentPosition.int.y,U.default.utils.interpolate(-s,s,(this.currentMousePosition.y-e.top)/e.height),i),t.currentPosition.lerp.x=U.default.utils.interpolate(t.currentPosition.lerp.x,t.currentPosition.int.x,i),t.currentPosition.lerp.y=U.default.utils.interpolate(t.currentPosition.lerp.y,t.currentPosition.int.y,i),U.default.set(t.element.children[0],{x:t.currentPosition.lerp.x,y:t.currentPosition.lerp.y})):0===t.currentPosition.lerp.x||0===t.currentPosition.lerp.y?U.default.set(t.element.children[0],{}):(t.currentPosition.int.x=U.default.utils.interpolate(t.currentPosition.int.x,0,i),t.currentPosition.int.y=U.default.utils.interpolate(t.currentPosition.int.y,0,i),t.currentPosition.lerp.x=U.default.utils.interpolate(t.currentPosition.lerp.x,t.currentPosition.int.x,i),t.currentPosition.lerp.y=U.default.utils.interpolate(t.currentPosition.lerp.y,t.currentPosition.int.y,i),U.default.set(t.element.children[0],{x:t.currentPosition.lerp.x,y:t.currentPosition.lerp.y}))}),this.requestAnimation=requestAnimationFrame(this.tick.bind(this))}isNearCenter(t){const e=t.left+t.width/2,i=t.top+t.height/2,s=Math.abs(e-this.currentMousePosition.x),a=Math.abs(i-this.currentMousePosition.y);return Math.sqrt(s*s+a*a)<t.width/2+this.options.threshold}isNearBounds(t){const e=t.top-this.options.threshold,i=t.left+t.width+this.options.threshold,s=t.top+t.height+this.options.threshold,a=t.left-this.options.threshold,n=this.currentMousePosition.x,r=this.currentMousePosition.y;return n>=a&&n<=i&&r>=e&&r<=s}dispose(){this.disposables.dispose(),null!=this.requestAnimation&&cancelAnimationFrame(this.requestAnimation),this.dispose()}}var ls={DEFAULT:"default",CLOSE:"close",SEARCH:"search",PLAY:"play",PAUSE:"pause",DISCOVER:"discover"},cs=i(136),hs=i.n(cs);class ds extends hs.a{constructor(t,e,i,s,a){super(t,i,s,a),this.data=e}clone(){return new ds(this.type,this.data,this.bubbles,this.cancelable)}}ds.ANIMATION_EVENT="WebGLEvent.ANIMATION_EVENT",ds.SCENE_END_REACHED="WebGLEvent.SCENE_END_REACHED",ds.SCENE_START_REACHED="WebGLEvent.SCENE_START_REACHED",ds.OVERVIEW_BUILDING_CLICK="WebGLEvent.HOTSPOT_CLICK",ds.OVERVIEW_BUILDING_HOVER_START="WebGLEvent.HOTSPOT_HOVER_START",ds.OVERVIEW_BUILDING_HOVER_END="WebGLEvent.HOTSPOT_HOVER_END",ds.POST_UPDATE="WebGLEvent.POST_UPDATE";var us={name:"PastPresentHotspot",components:{PrimaryButton:xe},extends:ss,props:{data:o.default.shape({hotspotId:o.default.string,image:o.default.objectOf({normal:o.default.string,small:o.default.string,alt:o.default.string}),zoomedDescription:je(o.default.string),focusPoint:bt(),rotateRestrictionIn:bt(),rotateRestrictionOut:bt(),autoOpen:o.default.number,size:o.default.string.def("normal"),keepRings:o.default.bool.def(!1)}).isRequired},data:()=>({canMouseAnimate:!1,isOpen:!1,imgOpen:!1,hotspotPosition:{x:0,y:0},overlay:{value:.25}}),computed:{...Object(B.b)({isReducedMotion:"a11y/getIsReducedMotion"}),...Object(B.d)({deviceState:({app:t})=>t.deviceState,isNavigationOpen:({app:t})=>t.isNavigationOpen}),isMobile(){return this.deviceState<Le.deviceState.MEDIUM},image(){return Wi(this.deviceState<Le.deviceState.MEDIUM?this.data.image.small:this.data.image.normal,this.$versionRoot)},isLoaded(){return 1===this.loadProgress},id(){return this._uid},circleElementType(){return this.data.autoOpen?"div":"button"}},watch:{overlay:{handler(){this.$webgl.setOverlayColor(.106,.047,.094,this.overlay.value)},deep:!0},isActive(t){t&&(this.$sound.play(F.HOTSPOT_APPEARS,h.UI),this.updateHotspotPosition())},isLoaded(){this.updateHotspotPosition()},totalProgress(){this.updateHotspotPosition(),this.updateDragRotateRestriction();const{autoOpen:t}=this.data;t&&this.totalProgress>t&&!this.isOpen?this.isOpen=!0:t&&this.totalProgress<t&&this.isOpen&&(this.isOpen=!1)},async isOpen(t){this.setIsSecondaryNavigationVisible(!t),t&&!this.data.autoOpen&&this.lockScroll(),t?(this.$webgl.setCameraDragRotateAmount(0),this.$webgl.setCameraHoverRotateAmount(0),this.imgOpen=!0):this.$refs.closeButton&&this.$refs.closeButton.transitionOut(!0),t||this.updateDragRotateRestriction(),this.$sound.play(t?F.HOTSPOT_FULLY_OPENS:F.HOTSPOT_FULLY_CLOSES,h.UI),this.transitionController.toggleOpenContent(t),t&&this.$refs.closeButton&&this.$refs.closeButton.transitionIn(!0),await U.default.to(this,{openProgress:t?1:0,duration:1,ease:re.VinnieInOut}).then(()=>{this.imgOpen=t}),t||this.data.autoOpen||this.unlockScroll()}},created(){this.disposables=new N.DisposableManager,this.ringMagneticForce=[.12,.14,.16,.18]},mounted(){this.openProgress=0},beforeDestroy(){this.disposables.dispose(),this.tickEvent&&this.tickEvent()},methods:{...Object(B.c)({setIsCloseActive:Vt,setIsSecondaryNavigationVisible:"app/setIsSecondaryNavigationVisible",setCurrentActiveHotspot:"app/setCurrentActiveHotspot"}),handleAllComponentsReady(){this.transitionController=new as(this),this.disposables.add(Object(it.addEventListener)(this.transitionController,D.TransitionEvent.types.TRANSITION_IN_START,this.onTransitionInStart),Object(it.addEventListener)(this.transitionController,D.TransitionEvent.types.TRANSITION_IN_COMPLETE,this.onTransitionInComplete),Object(it.addEventListener)(this.transitionController,D.TransitionEvent.types.TRANSITION_OUT_START,this.onTransitionOutStart),Object(it.addEventListener)(this.transitionController,D.TransitionEvent.types.TRANSITION_OUT_COMPLETE,this.onTransitionOutComplete)),this.isReady(),this.isActive&&this.transitionIn(!0),this.magnetics=new os([...this.$el.querySelectorAll(".js-ring")],{force:.01,threshold:1,magneticType:"bounds",commonWrapper:this.$refs.hotspot,autoPlay:!1})},updateHotspotPosition(){this.isActive&&!this.isOpen&&this.updateClipPosition()},updateDragRotateRestriction(){const{rotateRestrictionIn:t,rotateRestrictionOut:e}=this.data,i=Ot(this.totalProgress,t,e,!0);null!==i&&this.setCameraDragRotateAmount(i)},updateImagePosition({x:t,y:e}){if(!this.data.focusPoint||!this.imageSize)return;const[i,s]=this.data.focusPoint,a=window.innerWidth,n=window.innerHeight,r=this.imageSize.width*i,o=this.imageSize.height*s,l=t/r,c=(a-t)/(this.imageSize.width-r),h=e/o,d=(n-e)/(this.imageSize.height-o),u=Math.max(l,c,h,d),p=-r*u+t,m=-o*u+e;U.default.set(this.$refs.imageElement,{width:this.imageSize.width*u,height:this.imageSize.height*u,x:p,y:m})},updateClipPosition(){if(this.isNavigationOpen)return;const t=this.data.hotspotId;this.hotspotPosition=this.getObjectScreenPosition(t),this.updateImagePosition(this.hotspotPosition),U.default.set(this.$refs.container,{x:this.hotspotPosition.x-this.$refs.container.getBoundingClientRect().width/2,y:this.hotspotPosition.y-this.$refs.container.getBoundingClientRect().height/2});const e=this.$refs.circle.getBoundingClientRect(),i=e.width/2,{offsetWidth:s,offsetHeight:a}=this.$el,n=(({x:t,y:e},i,s)=>{const a=Math.max(t,i-t),n=Math.max(e,s-e);return Math.hypot(a,n)})({x:e.left+i,y:e.top+i},s,a),r=U.default.utils.interpolate(i,n,this.openProgress);if(this.data.keepRings){const t=U.default.utils.interpolate(1,i/n*100+2,this.openProgress);t!==i/n*100+2?U.default.set(this.$refs.svgWrapper,{scale:t}):U.default.set(this.$refs.svgWrapper,{clearProps:"scale"})}U.default.set(this.$refs.image,{clipPath:`circle(${r}px at ${e.left+i}px ${e.top+i}px)`})},async open(){this.data.autoOpen||(Wt("hotspot_presentday",{room:Zt(this.$route),hotspot:this.config.id}),this.isOpen=!0,this.$refs.image.dataset.customCursor=ls.CLOSE,this.setCurrentActiveHotspot(this.config.id),await this.$nextTick(),this.$refs.image.focus())},close(){this.data.autoOpen||(this.isOpen=!1,this.$refs.image.dataset.customCursor=ls.DEFAULT,this.setCurrentActiveHotspot(null))},handleCloseClick(){this.close()},tick(){this.updateClipPosition()},handleMouseEnter(){this.canMouseAnimate&&(this.killHoverTimeline(),this.hoverTimeline=this.transitionController.enterAnimation())},handleMouseLeave(){this.canMouseAnimate&&(this.killHoverTimeline(),this.hoverTimeline=this.transitionController.leaveAnimation())},killHoverTimeline(){this.hoverTimeline&&this.hoverTimeline.kill()},onTransitionInStart(){this.tickEvent=Object(it.addEventListener)(this.$webgl,ds.POST_UPDATE,this.tick)},async onTransitionInComplete(){this.canMouseAnimate=!0,await this.$nextTick(),this.magnetics.updateBounds(),this.magnetics.play()},onTransitionOutComplete(){this.tickEvent&&this.tickEvent(),this.magnetics.pause()},onTransitionOutStart(){this.canMouseAnimate=!1},onImageLoad({currentTarget:t}){const{naturalWidth:e,naturalHeight:i}=t;this.imageSize={width:e,height:i}},closeImage(){!this.isOpen||this.isMobile||this.data.autoOpen||this.close()},handleFocus(){this.handleMouseEnter()},handleBlur(){this.handleMouseLeave()}}},ps=i(309);var ms=Object(T.a)(us,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["fill-screen",t.$style.pastPresentHotspot,t.imgOpen&&!t.data.autoOpen&&t.$style.isOpen,t.isReducedMotion&&t.$style.isReducedMotion],attrs:{"data-size":t.data.size}},[i("div",{ref:"container",class:t.$style.container,attrs:{inert:t.isOpen}},[i("div",{ref:"hotspot",class:t.$style.hotspot},[i("svg",{ref:"svgWrapper",attrs:{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 420 420"}},[i("defs",[i("mask",{attrs:{id:"second-ring-mask-"+t.id,width:"420",height:"420"}},[i("rect",{attrs:{fill:"white",width:"420",height:"420"}}),t._v(" "),i("g",{staticClass:"js-ring",attrs:{"data-magnetic-force":t.ringMagneticForce[2],"data-magnetic-max-distance":"15"}},[i("g",{ref:"firstRingMask"},[i("g",{class:t.$style.pathRotation,staticStyle:{"--speed":"60s"}},[i("path",{attrs:{fill:"black",d:"M326.44,210.0214a12.8962,12.8962,0,0,0-2.5362-24.0884,12.2217,12.2217,0,0,0,4.6866-12.6758,12.6938,12.6938,0,0,0-12.2256-10.355,12.1628,12.1628,0,0,0,2.459-12.0234,12.8965,12.8965,0,0,0-12.1133-9.2061,13.5723,13.5723,0,0,0-2.5117.2554,12.0849,12.0849,0,0,0,.53-11.01A13.3575,13.3575,0,0,0,292.8034,122.9a12.9868,12.9868,0,0,0-4.8838,1.0263,11.9994,11.9994,0,0,0-1.043-9.7094,13.6212,13.6212,0,0,0-11.5908-6.8013,12.5031,12.5031,0,0,0-7.0508,2.2549,11.9471,11.9471,0,0,0-2.2285-8.2432,13.7473,13.7473,0,0,0-10.9756-5.5464,12.1331,12.1331,0,0,0-9.0361,3.9727,11.9224,11.9224,0,0,0-3.0039-6.73,13.6252,13.6252,0,0,0-10.0215-4.3462,12.2737,12.2737,0,0,0-10.7764,6.0547,12.638,12.638,0,0,0-12.1748-8.4526l-.1318.0068A12.6189,12.6189,0,0,0,197.82,94.8177a12.1061,12.1061,0,0,0-10.7852-6.0346,13.6132,13.6132,0,0,0-10.001,4.33,11.9532,11.9532,0,0,0-3.02,6.7505,12.1323,12.1323,0,0,0-9.042-3.9761,13.7446,13.7446,0,0,0-10.9678,5.543,11.956,11.956,0,0,0-2.2334,8.2436,12.57,12.57,0,0,0-7.0693-2.2524,13.6136,13.6136,0,0,0-11.5732,6.7827,12.0147,12.0147,0,0,0-1.0469,9.729,12.9954,12.9954,0,0,0-4.8994-1.0278,13.3471,13.3471,0,0,0-11.9073,8.017,12.0862,12.0862,0,0,0,.5293,11.0132,13.6722,13.6722,0,0,0-2.5273-.2568,12.9,12.9,0,0,0-12.1143,9.2163,12.1505,12.1505,0,0,0,2.4649,12.0127,12.687,12.687,0,0,0-12.21,10.3389,12.2356,12.2356,0,0,0,4.6817,12.69,12.8988,12.8988,0,0,0-2.543,24.09,12.8974,12.8974,0,0,0,2.5381,24.0879,12.227,12.227,0,0,0-4.6875,12.6846,12.6942,12.6942,0,0,0,12.2373,10.3525,12.1782,12.1782,0,0,0-2.4112,12.0225,12.891,12.891,0,0,0,12.0967,9.1738,13.48,13.48,0,0,0,2.5157-.2558,12.0982,12.0982,0,0,0-.5264,11.0107,13.3559,13.3559,0,0,0,11.92,8.0195,13.02,13.02,0,0,0,4.8838-1.0283,11.9908,11.9908,0,0,0,1.042,9.7061,13.62,13.62,0,0,0,11.59,6.7988,12.4705,12.4705,0,0,0,7.0567-2.2539,11.9469,11.9469,0,0,0,2.2236,8.2432,13.7524,13.7524,0,0,0,10.9815,5.5459,12.1359,12.1359,0,0,0,9.038-3.9707,11.9211,11.9211,0,0,0,3.002,6.7314,13.6278,13.6278,0,0,0,10.0225,4.3438,12.29,12.29,0,0,0,10.7792-6.0508,12.992,12.992,0,0,0,24.3262.0449,12.0976,12.0976,0,0,0,10.7842,6.0313,13.61,13.61,0,0,0,10.001-4.33,11.9546,11.9546,0,0,0,3.0195-6.7491,12.1315,12.1315,0,0,0,9.041,3.9756,13.7446,13.7446,0,0,0,10.9688-5.541,11.95,11.95,0,0,0,2.2334-8.2422,12.5629,12.5629,0,0,0,7.0625,2.2481,13.6181,13.6181,0,0,0,11.581-6.7891,12.0012,12.0012,0,0,0,1.04-9.7187,13.0554,13.0554,0,0,0,4.8984,1.0312,13.3532,13.3532,0,0,0,11.9131-8.0215,12.0843,12.0843,0,0,0-.5254-11.0068,13.5844,13.5844,0,0,0,2.5176.2549,12.9022,12.9022,0,0,0,12.1142-9.2188,12.1519,12.1519,0,0,0-2.46-12.0107,12.6861,12.6861,0,0,0,12.2041-10.336,12.2421,12.2421,0,0,0-4.6826-12.6992,12.8975,12.8975,0,0,0,2.5449-24.0888Z",transform:"translate(0, 0)"}})])])])]),t._v(" "),i("mask",{attrs:{id:"third-ring-mask-"+t.id,width:"420",height:"420"}},[i("rect",{attrs:{fill:"white",width:"420",height:"420"}}),t._v(" "),i("g",{staticClass:"js-ring",attrs:{"data-magnetic-force":t.ringMagneticForce[1],"data-magnetic-max-distance":"15"}},[i("g",{ref:"secondRingMask"},[i("g",{class:t.$style.pathRotation,staticStyle:{"--speed":"70s"}},[i("path",{attrs:{fill:"black",d:"M340.4645,196.6709a14.4921,14.4921,0,0,0-5.6721-26.6213,13.7339,13.7339,0,0,0,3.7442-14.7179A14.2645,14.2645,0,0,0,323.6539,145.2a13.6678,13.6678,0,0,0,1.3317-13.7265,14.4923,14.4923,0,0,0-14.6218-8.8613,15.2578,15.2578,0,0,0-2.7769.5813,13.5806,13.5806,0,0,0-.7044-12.3665,15.0109,15.0109,0,0,0-14.2724-7.5562,14.5907,14.5907,0,0,0-5.3369,1.7224,13.4846,13.4846,0,0,0-2.3095-10.728A15.3069,15.3069,0,0,0,271.2091,88.03a14.049,14.049,0,0,0-7.6139,3.3506,13.4259,13.4259,0,0,0-3.4616-8.95,15.4487,15.4487,0,0,0-12.9192-4.9054,13.6349,13.6349,0,0,0-9.63,5.5042,13.3972,13.3972,0,0,0-4.15-7.1678,15.3112,15.3112,0,0,0-11.7116-3.6765,13.7927,13.7927,0,0,0-11.33,8.036,14.2017,14.2017,0,0,0-14.6017-8.012l-.1466.0232A14.18,14.18,0,0,0,183.1529,83.077a13.6044,13.6044,0,0,0-12.764-5.4735A15.2978,15.2978,0,0,0,159.7224,83.62a13.4315,13.4315,0,0,0-2.5793,7.9A13.634,13.634,0,0,0,146.57,88.1417a15.4456,15.4456,0,0,0-11.6041,7.4867,13.4358,13.4358,0,0,0-1.5247,9.4758,14.126,14.126,0,0,0-8.1658-1.6844,15.2985,15.2985,0,0,0-12.1346,8.9434,13.5017,13.5017,0,0,0-.0238,10.9961,14.6038,14.6038,0,0,0-5.5965-.5715A14.9987,14.9987,0,0,0,95.1578,133.15a13.5815,13.5815,0,0,0,1.889,12.2454,15.377,15.377,0,0,0-2.8547.0107A14.4967,14.4967,0,0,0,81.74,157.1331a13.6539,13.6539,0,0,0,4.17,13.1345A14.2568,14.2568,0,0,0,73.482,183.26a13.75,13.75,0,0,0,6.7269,13.63,14.4949,14.4949,0,0,0-.0039,27.2212,14.4934,14.4934,0,0,0,5.6741,26.62A13.74,13.74,0,0,0,82.1349,265.46,14.265,14.265,0,0,0,97.03,275.5879a13.6853,13.6853,0,0,0-1.2782,13.72,14.4862,14.4862,0,0,0,14.5994,8.8272,15.1566,15.1566,0,0,0,2.7812-.5823,13.5957,13.5957,0,0,0,.7089,12.3671,15.0089,15.0089,0,0,0,14.2659,7.558,14.6357,14.6357,0,0,0,5.3368-1.7245,13.4746,13.4746,0,0,0,2.3079,10.7242,15.3057,15.3057,0,0,0,13.7532,6.2327,14.0146,14.0146,0,0,0,7.6207-3.35,13.4256,13.4256,0,0,0,3.4561,8.95,15.4543,15.4543,0,0,0,12.9257,4.9041,13.638,13.638,0,0,0,9.6328-5.5022,13.3953,13.3953,0,0,0,4.1478,7.1691,15.314,15.314,0,0,0,11.7124,3.6737,13.8114,13.8114,0,0,0,11.3336-8.032,14.6,14.6,0,0,0,27.1911-2.8156,13.5944,13.5944,0,0,0,12.7624,5.47,15.2941,15.2941,0,0,0,10.6665-6.0172,13.4327,13.4327,0,0,0,2.5794-7.8982,13.6331,13.6331,0,0,0,10.5722,3.3779,15.4454,15.4454,0,0,0,11.6054-7.4846,13.4287,13.4287,0,0,0,1.5249-9.4742,14.1172,14.1172,0,0,0,8.1576,1.68,15.3032,15.3032,0,0,0,12.1427-8.9515,13.4864,13.4864,0,0,0,.0173-10.9837,14.67,14.67,0,0,0,5.5958.5754,15.0057,15.0057,0,0,0,12.3685-10.3679,13.58,13.58,0,0,0-1.8838-12.2388,15.2571,15.2571,0,0,0,2.8435-.0117,14.4988,14.4988,0,0,0,12.4523-11.73,13.6558,13.6558,0,0,0-4.1641-13.1329,14.2556,14.2556,0,0,0,12.4211-12.9887,13.7567,13.7567,0,0,0-6.7291-13.64,14.4936,14.4936,0,0,0,.0063-27.22Z",transform:"translate(0,0)"}})])])])])]),t._v(" "),i("g",{staticClass:"js-ring",attrs:{"data-magnetic-force":t.ringMagneticForce[2],"data-magnetic-max-distance":"15"}},[i("g",{ref:"firstRing",class:t.$style.ring},[i("g",{class:t.$style.pathRotation,staticStyle:{"--speed":"60s",background:"rgba(255, 0, 0, 0.5)"}},[i("path",{attrs:{fill:"#f6cea0",d:"M323.4379,210.9988l-2.976-.6411,2.976-.641a11.1918,11.1918,0,0,0-2.319-22.1519h-3.041l2.764-1.225a10.79,10.79,0,0,0,6.443-12.4511c-.953-4.4879-4.639-9.021-10.709-9.021a12.9126,12.9126,0,0,0-2.68.2881l-2.983.641,2.474-1.782a10.5093,10.5093,0,0,0,4.182-12.3362,11.23,11.23,0,0,0-10.529-8.0338,11.8988,11.8988,0,0,0-4.845,1.0835l-2.784,1.2375,2.043-2.2569a10.5867,10.5867,0,0,0,2.075-11.8294,11.6924,11.6924,0,0,0-10.393-7.008,11.2174,11.2174,0,0,0-6.663,2.2888l-2.461,1.7826,1.527-2.6225a10.54,10.54,0,0,0,.213-11.0022,11.9576,11.9576,0,0,0-10.149-5.8988,10.8858,10.8858,0,0,0-8.189,3.847l-2.036,2.2569.947-2.8854a10.7043,10.7043,0,0,0-1.366-9.9058,12.0558,12.0558,0,0,0-9.613-4.8409,10.6753,10.6753,0,0,0-9.472,5.6871l-1.521,2.6288.322-3.0135a10.7933,10.7933,0,0,0-2.577-8.6236,11.9794,11.9794,0,0,0-8.782-3.7829,10.6876,10.6876,0,0,0-10.503,7.7708l-.941,2.8852-.315-3.0134c-.722-6.9374-6.141-10.0407-11.192-10.0407h-.045c-5.046,0-10.465,3.1032-11.193,10.0406l-.315,3.0134-.935-2.8853a10.7,10.7,0,0,0-10.509-7.7708,11.9792,11.9792,0,0,0-8.782,3.7827,10.7937,10.7937,0,0,0-2.577,8.6238l.322,3.0134-1.521-2.6289a10.6754,10.6754,0,0,0-9.472-5.687,12.056,12.056,0,0,0-9.6131,4.8407,10.7208,10.7208,0,0,0-1.36,9.906l.9407,2.8852-2.0361-2.2569a10.8711,10.8711,0,0,0-8.19-3.847,11.9428,11.9428,0,0,0-10.1289,5.9307,10.57,10.57,0,0,0,.2125,11.0024l1.5271,2.6223-2.4678-1.7825a11.2163,11.2163,0,0,0-6.6624-2.289,11.693,11.693,0,0,0-10.3932,7.008,10.6344,10.6344,0,0,0,2.0812,11.8294l2.0425,2.2569-2.7835-1.2375a11.9245,11.9245,0,0,0-4.8518-1.0835,11.3362,11.3362,0,0,0-10.5285,8.0337,10.617,10.617,0,0,0,4.1881,12.336l2.5,1.782-2.9832-.641a12.9083,12.9083,0,0,0-2.6805-.288c-6.07,0-9.7488,4.533-10.7089,9.0209a10.7356,10.7356,0,0,0,6.4433,12.4511l2.7062,1.199H99.6286a11.192,11.192,0,0,0-2.3455,22.1519l2.9833.641-2.9833.6421a11.1919,11.1919,0,0,0,2.3195,22.1519h3.0091l-2.7578,1.224a10.792,10.792,0,0,0-6.4434,12.4521c.96,4.494,4.6392,9.0269,10.7088,9.0269a12.52,12.52,0,0,0,2.6805-.2949l2.9833-.641-2.4678,1.776a10.5017,10.5017,0,0,0-4.1883,12.336,11.2267,11.2267,0,0,0,10.5284,8.04,11.9148,11.9148,0,0,0,4.8519-1.0831l2.7835-1.237-2.0425,2.25a10.5909,10.5909,0,0,0-2.0813,11.8291A11.6983,11.6983,0,0,0,127.56,295.85a11.2561,11.2561,0,0,0,6.6625-2.289l2.4935-1.7949-1.527,2.6279a10.5421,10.5421,0,0,0-.2127,11.003,11.959,11.959,0,0,0,10.1611,5.924,10.8858,10.8858,0,0,0,8.19-3.8469l2.0361-2.2571-.9407,2.8791a10.732,10.732,0,0,0,1.3595,9.912,12.07,12.07,0,0,0,9.613,4.835,10.676,10.676,0,0,0,9.472-5.687l1.521-2.6291-.322,3.02a10.8066,10.8066,0,0,0,2.577,8.624,11.9767,11.9767,0,0,0,8.782,3.776,10.6993,10.6993,0,0,0,10.509-7.7711l.935-2.8849.315,3.02c.728,6.9311,6.141,10.034,11.192,10.034s10.471-3.1029,11.193-10.034l.315-3.02.941,2.8849a10.6872,10.6872,0,0,0,10.503,7.7711,11.9767,11.9767,0,0,0,8.782-3.776,10.8037,10.8037,0,0,0,2.577-8.624l-.322-3.013,1.521,2.622a10.6743,10.6743,0,0,0,9.472,5.687,12.0654,12.0654,0,0,0,9.613-4.8341,10.7174,10.7174,0,0,0,1.366-9.912l-.947-2.8789,2.036,2.2569a10.8964,10.8964,0,0,0,8.19,3.8471,11.962,11.962,0,0,0,10.135-5.9251,10.5811,10.5811,0,0,0-.213-11.0019l-1.527-2.629,2.462,1.789a11.2566,11.2566,0,0,0,6.662,2.289,11.6987,11.6987,0,0,0,10.393-7.014,10.6346,10.6346,0,0,0-2.075-11.83l-2.042-2.25,2.783,1.237a11.9055,11.9055,0,0,0,4.846,1.0839,11.3428,11.3428,0,0,0,10.528-8.04,10.6213,10.6213,0,0,0-4.181-12.336l-2.475-1.776,2.984.641a12.5754,12.5754,0,0,0,2.68.2949c6.07,0,9.749-4.54,10.709-9.0279a10.79,10.79,0,0,0-6.443-12.4511l-2.713-1.193,2.964-.0319a11.192,11.192,0,0,0,2.345-22.152Zm7.8719,12.0123a9.8884,9.8884,0,0,1-10.2276,9.14l-2.9638.0322-.3916,1.915,2.7363,1.2032a9.7906,9.7906,0,0,1,5.8447,11.3164c-.8769,4.1-4.2266,8.2373-9.7295,8.2373a11.6477,11.6477,0,0,1-2.4726-.2725l-2.9834-.6416-.793,1.79,2.4726,1.7745a9.6609,9.6609,0,0,1,3.8145,11.2158,10.3928,10.3928,0,0,1-9.5664,7.35,10.8543,10.8543,0,0,1-4.45-.9981l-2.7822-1.2373-1.1465,1.586,2.041,2.25a9.6682,9.6682,0,0,1,1.9023,10.75,10.6814,10.6814,0,0,1-9.4667,6.4228,10.3436,10.3436,0,0,1-6.087-2.0976l-2.4619-1.7891-1.4521,1.3106,1.5273,2.63a9.611,9.611,0,0,1,.2129,9.9952,10.9618,10.9618,0,0,1-9.26,5.4287,9.9067,9.9067,0,0,1-7.4589-3.5166l-2.0362-2.2569-1.6924.9824.9581,2.9083a9.7176,9.7176,0,0,1-1.2276,8.9716,11.0695,11.0695,0,0,1-8.8125,4.4326,9.712,9.712,0,0,1-8.6064-5.1894l-1.5215-2.6221-1.8594.6084.3262,3.0449a9.8046,9.8046,0,0,1-2.3164,7.8018,10.88,10.88,0,0,1-3.66,2.5664,11.15,11.15,0,0,1-4.3916.8936,9.7212,9.7212,0,0,1-9.5517-7.0811l-.9414-2.8857-1.9454.207-.3164,3.0205c-.6572,6.3125-5.5947,9.1377-10.1972,9.1377-4.5977,0-9.5342-2.8262-10.1973-9.1377l-.3154-3.0205-1.9453-.2051-.9356,2.8848a9.737,9.737,0,0,1-9.5615,7.08,10.9839,10.9839,0,0,1-8.0254-3.4336,9.7772,9.7772,0,0,1-2.0244-3.6631,9.89,9.89,0,0,1-.3115-4.1973l.3222-3.0195-1.8593-.6074-1.5206,2.6289a9.7126,9.7126,0,0,1-8.6025,5.1884,11.0735,11.0735,0,0,1-8.8047-4.4169,9.7408,9.7408,0,0,1-1.2226-9.02l.9414-2.8789-1.6924-.9805-2.0576,2.28a9.7953,9.7953,0,0,1-3.335,2.5537,9.9292,9.9292,0,0,1-4.0762.94,10.9624,10.9624,0,0,1-9.31-5.4248,9.5762,9.5762,0,0,1,.2109-9.999l1.5274-2.628-1.4483-1.3144-2.5136,1.81a10.3217,10.3217,0,0,1-6.0586,2.085,10.685,10.685,0,0,1-9.48-6.4229,9.624,9.624,0,0,1,1.9082-10.749l2.0429-2.25-1.1464-1.5859-2.795,1.2412a10.8189,10.8189,0,0,1-4.4345.9922,10.2452,10.2452,0,0,1-9.5772-7.3477A9.5383,9.5383,0,0,1,107.9,257.5111l2.4678-1.7754-.794-1.789-2.99.6416a11.4855,11.4855,0,0,1-2.4639.2714c-5.5068,0-8.8554-4.1367-9.7353-8.2558a9.7655,9.7655,0,0,1,.834-6.7168,9.8689,9.8689,0,0,1,5.042-4.5918l2.7578-1.2246-.4063-1.9141H99.6027a10.1915,10.1915,0,0,1-2.1084-20.1738l2.9834-.6426-.0009-1.9551-2.9883-.6421A10.192,10.192,0,0,1,99.6291,188.57h2.9639l.4052-1.9145-2.7089-1.1993A9.7579,9.7579,0,0,1,94.42,174.1293c.8779-4.0967,4.2266-8.2305,9.73-8.2305a11.9644,11.9644,0,0,1,2.4727.2656l2.9834.6411.79-1.7919-2.4951-1.7789a9.6578,9.6578,0,0,1-3.8223-11.2148,10.39,10.39,0,0,1,9.5684-7.3437,10.8615,10.8615,0,0,1,4.4551.997l2.7832,1.2373,1.1474-1.5844-2.043-2.2583a9.6768,9.6768,0,0,1-1.9091-10.7491,10.68,10.68,0,0,1,9.4687-6.416,10.2968,10.2968,0,0,1,6.0879,2.1l2.4678,1.7827,1.45-1.3134-1.5264-2.6231a9.6076,9.6076,0,0,1-.2119-9.9971,10.9466,10.9466,0,0,1,9.2529-5.4326,9.8242,9.8242,0,0,1,4.1026.938,9.9534,9.9534,0,0,1,3.3554,2.5791l2.0362,2.2569,1.6933-.98-.9521-2.917a9.7282,9.7282,0,0,1,1.2217-8.9668,11.0578,11.0578,0,0,1,8.8115-4.438,9.7125,9.7125,0,0,1,8.6064,5.188l1.5215,2.6289,1.8594-.6074-.3262-3.0469a9.7927,9.7927,0,0,1,2.3164-7.8,10.8824,10.8824,0,0,1,3.66-2.5693,11.1845,11.1845,0,0,1,4.3926-.897,9.7366,9.7366,0,0,1,9.5576,7.0791l.9345,2.8848,1.9454-.2041.3154-3.0127A9.8759,9.8759,0,0,1,210.32,89.389h.0449c4.6026,0,9.5411,2.8277,10.1983,9.1446l.3154,3.0136,1.9453.2061.9405-2.8867a9.7242,9.7242,0,0,1,9.5547-7.08,11.7042,11.7042,0,0,1,4.39.897,10.8708,10.8708,0,0,1,3.6377,2.5459,9.79,9.79,0,0,1,2.335,7.8574l-.3223,3.0132,1.8594.6074,1.5224-2.6289a9.7074,9.7074,0,0,1,8.6-5.1875h.002a11.0575,11.0575,0,0,1,8.8047,4.4238,9.7026,9.7026,0,0,1,1.2285,9.0108l-.9473,2.8852,1.6924.9819,2.0576-2.2807a9.78,9.78,0,0,1,3.334-2.5542,9.9553,9.9553,0,0,1,4.0762-.939,10.9557,10.9557,0,0,1,9.2988,5.4,9.5822,9.5822,0,0,1-.2119,9.9976l-1.5273,2.622,1.4511,1.3135,2.48-1.7969a10.2785,10.2785,0,0,1,6.0576-2.0844,10.6813,10.6813,0,0,1,9.48,6.416,9.6253,9.6253,0,0,1-1.9023,10.7505l-2.043,2.2568,1.1475,1.5845,2.7939-1.2422a10.8212,10.8212,0,0,1,4.4287-.9922,10.2454,10.2454,0,0,1,9.5772,7.3423,9.5356,9.5356,0,0,1-3.8155,11.2158l-2.4736,1.7822.7949,1.7891,2.9825-.6411a11.9924,11.9924,0,0,1,2.4707-.2656c5.5146,0,8.8613,4.1328,9.7353,8.2495a9.7664,9.7664,0,0,1-.833,6.7168,9.8826,9.8826,0,0,1-5.042,4.5918l-2.7637,1.2251.4053,1.914h3.041a10.1917,10.1917,0,0,1,2.1075,20.1743l-2.9756.6412v1.955l2.98.6416A9.8361,9.8361,0,0,1,331.31,223.0111Z",transform:"translate(0, 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M326.7736,210.3842a12.8962,12.8962,0,0,0-2.5361-24.0884A12.2218,12.2218,0,0,0,328.924,173.62a12.6936,12.6936,0,0,0-12.2256-10.355,12.1626,12.1626,0,0,0,2.459-12.0234,12.8964,12.8964,0,0,0-12.1133-9.2061,13.574,13.574,0,0,0-2.5117.2554,12.0849,12.0849,0,0,0,.53-11.01,13.3576,13.3576,0,0,0-11.9258-8.0185,12.9872,12.9872,0,0,0-4.8838,1.0263A12,12,0,0,0,287.21,114.58a13.6215,13.6215,0,0,0-11.5909-6.8013,12.502,12.502,0,0,0-7.0507,2.2549A11.9466,11.9466,0,0,0,266.34,101.79a13.7472,13.7472,0,0,0-10.9756-5.5464,12.1333,12.1333,0,0,0-9.0361,3.9727,11.9217,11.9217,0,0,0-3.0039-6.7305A13.625,13.625,0,0,0,233.3029,89.14a12.2737,12.2737,0,0,0-10.7763,6.0547,12.638,12.638,0,0,0-12.1748-8.4526l-.1319.0068a12.619,12.619,0,0,0-12.0664,8.4321,12.1061,12.1061,0,0,0-10.7851-6.0346,13.6128,13.6128,0,0,0-10.001,4.33,11.9526,11.9526,0,0,0-3.02,6.7505,12.1321,12.1321,0,0,0-9.0419-3.9761,13.7445,13.7445,0,0,0-10.9678,5.543,11.956,11.956,0,0,0-2.2334,8.2436,12.5712,12.5712,0,0,0-7.0694-2.2524,13.6138,13.6138,0,0,0-11.5732,6.7827,12.0155,12.0155,0,0,0-1.0469,9.729,12.995,12.995,0,0,0-4.8994-1.0278,13.3469,13.3469,0,0,0-11.9072,8.017,12.0856,12.0856,0,0,0,.5293,11.0132,13.6733,13.6733,0,0,0-2.5274-.2568,12.9,12.9,0,0,0-12.1142,9.2163,12.15,12.15,0,0,0,2.4648,12.0127,12.6869,12.6869,0,0,0-12.21,10.3389,12.2354,12.2354,0,0,0,4.6816,12.69,12.8988,12.8988,0,0,0-2.543,24.09,12.8974,12.8974,0,0,0,2.5381,24.0879A12.2272,12.2272,0,0,0,91.74,247.1615a12.6942,12.6942,0,0,0,12.2373,10.3525,12.1784,12.1784,0,0,0-2.4111,12.0225,12.891,12.891,0,0,0,12.0967,9.1738,13.4789,13.4789,0,0,0,2.5156-.2558,12.0985,12.0985,0,0,0-.5264,11.0107,13.356,13.356,0,0,0,11.92,8.0195,13.02,13.02,0,0,0,4.8837-1.0283,11.9912,11.9912,0,0,0,1.042,9.7061,13.6205,13.6205,0,0,0,11.59,6.7988,12.4694,12.4694,0,0,0,7.0566-2.2539,11.947,11.947,0,0,0,2.2237,8.2432,13.7523,13.7523,0,0,0,10.9814,5.5459,12.1361,12.1361,0,0,0,9.0381-3.9707,11.92,11.92,0,0,0,3.0019,6.7314,13.6278,13.6278,0,0,0,10.0225,4.3438,12.29,12.29,0,0,0,10.7793-6.0508,12.992,12.992,0,0,0,24.3262.0449,12.0975,12.0975,0,0,0,10.7841,6.0313,13.61,13.61,0,0,0,10.001-4.33,11.954,11.954,0,0,0,3.02-6.7491,12.1315,12.1315,0,0,0,9.041,3.9756,13.7444,13.7444,0,0,0,10.9687-5.541,11.95,11.95,0,0,0,2.2334-8.2422,12.564,12.564,0,0,0,7.0625,2.2481,13.6181,13.6181,0,0,0,11.5811-6.7891,12.0011,12.0011,0,0,0,1.04-9.7187,13.0559,13.0559,0,0,0,4.8985,1.0312,13.3532,13.3532,0,0,0,11.913-8.0215,12.084,12.084,0,0,0-.5254-11.0068,13.5853,13.5853,0,0,0,2.5176.2549,12.9023,12.9023,0,0,0,12.1143-9.2188,12.152,12.152,0,0,0-2.46-12.0107,12.6859,12.6859,0,0,0,12.2041-10.336,12.2421,12.2421,0,0,0-4.6826-12.6992,12.8975,12.8975,0,0,0,2.5449-24.0888Zm-5.6747,23.4206c12.146,5.392,7.455,22.7039-4.51,22.7039a13.26,13.26,0,0,1-2.816-.3079c10.033,7.22,3.628,21.5369-6.72,21.5369a12.4694,12.4694,0,0,1-5.11-1.1419c7.655,8.438.348,19.9149-8.795,19.9149a11.95,11.95,0,0,1-7.043-2.411c5.239,8.9961-2.306,17.888-10.477,17.888a11.4916,11.4916,0,0,1-8.666-4.052c2.912,8.9121-4.298,15.5871-11.598,15.5871a11.3535,11.3535,0,0,1-10.032-6.008c.857,8.22-5.587,13.112-12.03,13.112a11.3373,11.3373,0,0,1-11.115-8.2141c-.741,7.0531-6.276,10.5861-11.823,10.5861a11.5117,11.5117,0,0,1-11.83-10.611,11.4036,11.4036,0,0,1-11.122,8.213c-6.437,0-12.906-4.8861-12.029-13.112a11.3549,11.3549,0,0,1-10.033,6.008c-7.3128,0-14.5229-6.675-11.5976-15.5871a11.5182,11.5182,0,0,1-8.6728,4.052c-8.17,0-15.7153-8.9119-10.4768-17.888a11.9333,11.9333,0,0,1-7.0426,2.411c-9.1367-.0009-16.4434-11.4769-8.7887-19.9149a12.516,12.516,0,0,1-5.116,1.141c-10.348,0-16.6947-14.285-6.7654-21.504a13.198,13.198,0,0,1-2.8158.3069c-11.9782,0-16.6689-17.33-4.51-22.703-14.2849,0-16.4369-20.4789-2.4548-23.422-13.9821-2.9359-11.8235-23.422,2.455-23.422-12.1457-5.3849-7.4549-22.6969,4.51-22.6969a13.6648,13.6648,0,0,1,2.8157.302c-10.0322-7.22-3.6274-21.53,6.7206-21.53a12.622,12.622,0,0,1,5.116,1.1349c-7.6547-8.4377-.3479-19.9081,8.7888-19.908a11.8877,11.8877,0,0,1,7.0426,2.4106c-5.232-9.0019,2.3068-17.8947,10.4769-17.8947a11.5248,11.5248,0,0,1,8.6728,4.0522c-2.9124-8.9058,4.2978-15.5867,11.5979-15.5867a11.3543,11.3543,0,0,1,10.032,6.0078c-.856-8.22,5.587-13.1117,12.03-13.1117a11.35,11.35,0,0,1,11.121,8.22c.735-7.0785,6.283-10.6176,11.831-10.6176l.032-.0064a11.528,11.528,0,0,1,11.836,10.6177,11.3876,11.3876,0,0,1,11.115-8.22c6.437,0,12.906,4.8921,12.03,13.1118a11.3667,11.3667,0,0,1,10.032-6.0076c7.307,0,14.517,6.6809,11.598,15.5867a11.5219,11.5219,0,0,1,8.666-4.0521c8.17,0,15.716,8.9185,10.477,17.8949a11.9014,11.9014,0,0,1,7.043-2.4108c9.143,0,16.449,11.4705,8.795,19.9081a12.57,12.57,0,0,1,5.109-1.1348c10.348,0,16.734,14.3107,6.721,21.53a13.7347,13.7347,0,0,1,2.815-.3009c11.979,0,16.669,17.33,4.511,22.6969,14.285,0,16.443,20.479,2.454,23.422C337.5369,213.3268,335.3779,233.8048,321.0989,233.8048Z",transform:"translate(0, 0)"}})])])]),t._v(" "),i("g",{staticClass:"js-ring",attrs:{"data-magnetic-force":t.ringMagneticForce[1],"data-magnetic-max-distance":"15",mask:"url(#second-ring-mask-"+t.id+")"}},[i("g",{ref:"secondRing",class:t.$style.ring},[i("g",{class:t.$style.pathRotation,staticStyle:{"--speed":"70s"}},[i("path",{attrs:{fill:"#f6cea0",d:"M340.1446,223.5671a14.5237,14.5237,0,0,0-.0329-27.2629,13.7629,13.7629,0,0,0,6.7124-13.6448,14.277,14.277,0,0,0-12.46-13.0169,13.7037,13.7037,0,0,0,4.1469-13.174,14.5017,14.5017,0,0,0-12.4682-11.7176,15.2372,15.2372,0,0,0-2.8371-.0067,13.6208,13.6208,0,0,0,1.8733-12.2639,15.0168,15.0168,0,0,0-12.3968-10.3663,14.5711,14.5711,0,0,0-5.5779.58,13.5264,13.5264,0,0,0-.0365-10.9915,15.3088,15.3088,0,0,0-12.1639-8.9644,14.0319,14.0319,0,0,0-8.1429,1.7029,13.4658,13.4658,0,0,0-1.532-9.488,15.4465,15.4465,0,0,0-11.6223-7.4879A13.62,13.62,0,0,0,263.0449,90.86a13.4331,13.4331,0,0,0-2.5746-7.8848,15.3055,15.3055,0,0,0-10.6955-6.0332,13.7827,13.7827,0,0,0-12.7489,5.523,14.2081,14.2081,0,0,0-12.6246-10.8813l-.1481-.0077A14.1752,14.1752,0,0,0,209.7859,79.61a13.6052,13.6052,0,0,0-11.3526-8.0124,15.2812,15.2812,0,0,0-11.6816,3.682,13.4586,13.4586,0,0,0-4.16,7.2055,13.6288,13.6288,0,0,0-9.6437-5.5047,15.4315,15.4315,0,0,0-12.9033,4.9278A13.47,13.47,0,0,0,156.59,90.877a14.1155,14.1155,0,0,0-7.6394-3.3452,15.2881,15.2881,0,0,0-13.7242,6.2451,13.5411,13.5411,0,0,0-2.3017,10.77,14.5866,14.5866,0,0,0-5.3565-1.7215,14.9922,14.9922,0,0,0-14.2411,7.5881,13.6232,13.6232,0,0,0-.6893,12.3912,15.3371,15.3371,0,0,0-2.795-.582A14.4938,14.4938,0,0,0,95.23,131.1291a13.6947,13.6947,0,0,0,1.3577,13.7357,14.2574,14.2574,0,0,0-14.8495,10.1521,13.7868,13.7868,0,0,0,3.7567,14.752,14.525,14.525,0,0,0-5.6441,26.6729,14.525,14.525,0,0,0,.0351,27.2625,13.77,13.77,0,0,0-6.7145,13.6546,14.2776,14.2776,0,0,0,12.4735,13.0155,13.7211,13.7211,0,0,0-4.0933,13.1785,14.4956,14.4956,0,0,0,12.4534,11.6795,15.1309,15.1309,0,0,0,2.8415.0067,13.6361,13.6361,0,0,0-1.869,12.2654,15.0148,15.0148,0,0,0,12.39,10.3667,14.61,14.61,0,0,0,5.5782-.5823,13.5168,13.5168,0,0,0,.0357,10.9876,15.3081,15.3081,0,0,0,12.1631,8.9616,13.9954,13.9954,0,0,0,8.1494-1.7012,13.465,13.465,0,0,0,1.5266,9.4874,15.452,15.452,0,0,0,11.6288,7.4881,13.6235,13.6235,0,0,0,10.5637-3.3923,13.4324,13.4324,0,0,0,2.5723,7.8857,15.308,15.308,0,0,0,10.6968,6.03,13.8014,13.8014,0,0,0,12.7518-5.5182,14.5916,14.5916,0,0,0,27.184,2.8843,13.5953,13.5953,0,0,0,11.3519,8.0084,15.2771,15.2771,0,0,0,11.6816-3.6825,13.459,13.459,0,0,0,4.16-7.2039,13.628,13.628,0,0,0,9.6427,5.5041,15.4317,15.4317,0,0,0,12.9042-4.9255,13.4623,13.4623,0,0,0,3.4549-8.9671,14.107,14.107,0,0,0,7.6323,3.3395,15.2929,15.2929,0,0,0,13.7337-6.2513,13.526,13.526,0,0,0,2.2928-10.7592,14.654,14.654,0,0,0,5.355,1.7252,14.9994,14.9994,0,0,0,14.2482-7.5923,13.6213,13.6213,0,0,0,.6929-12.3836,15.2374,15.2374,0,0,0,2.7843.5786,14.496,14.496,0,0,0,14.6122-8.9093,13.6964,13.6964,0,0,0-1.3525-13.7328,14.2562,14.2562,0,0,0,14.8426-10.1495,13.7942,13.7942,0,0,0-3.7567-14.7626,14.5235,14.5235,0,0,0,5.6462-26.6715Zm-9.0665,25.5587c12.9483,7.4515,5.6916,26.2861-7.6815,24.8922a14.8777,14.8777,0,0,1-3.1117-.6729c10.3741,9.2518,1.55,24.5338-10.0158,23.3283a13.9972,13.9972,0,0,1-5.5786-1.8738c7.5745,10.3383-1.9274,22.3358-12.1465,21.2706a13.42,13.42,0,0,1-7.5914-3.52c4.8093,10.6816-4.658,19.7574-13.7906,18.8055a12.9113,12.9113,0,0,1-9.2147-5.5459c2.2181,10.3164-6.6168,16.9493-14.776,16.0988a12.76,12.76,0,0,1-10.5139-7.8948c.0018,9.3023-7.77,14.0283-14.9709,13.2777a12.7474,12.7474,0,0,1-11.4678-10.4907c-1.6485,7.81-8.2459,11.12-14.4458,10.4739s-11.9881-5.2759-11.9882-13.2574a12.8112,12.8112,0,0,1-13.3861,7.8989c-7.1947-.75-13.8567-6.9735-11.92-16.08a12.7515,12.7515,0,0,1-11.9127,5.5572c-8.1735-.8519-15.4558-9.1646-11.15-18.8011a12.932,12.932,0,0,1-10.1648,3.526c-9.1319-.9519-16.5284-11.808-9.6294-21.2466a13.3926,13.3926,0,0,1-8.1519,1.8787c-10.2119-1.0655-17.0438-14.7643-7.5068-23.3191a14.04,14.04,0,0,1-5.8508.6814c-11.5659-1.2055-16.9981-17.9373-5.06-24.8623a14.8153,14.8153,0,0,1-3.1829.0156c-13.388-1.3955-16.6151-21.3432-2.4005-25.9419-15.9661-1.6642-15.99-24.8415-.0195-26.5074-15.2863-4.9158-10.4909-27.5989,5.4681-25.9354-12.9488-7.4436-5.6924-26.2782,7.6811-24.8843a15.3363,15.3363,0,0,1,3.112.6661c-10.3732-9.2514-1.55-24.5264,10.0158-23.3209a14.1707,14.1707,0,0,1,5.5861,1.8666c-7.5742-10.338,1.9267-22.3281,12.1386-21.2635a13.3479,13.3479,0,0,1,7.5911,3.5192c-4.8007-10.6873,4.66-19.7648,13.7914-18.813a12.9478,12.9478,0,0,1,9.2222,5.5469c-2.2194-10.3094,6.6165-16.9489,14.7758-16.0984a12.7609,12.7609,0,0,1,10.5139,7.8945c-.0007-9.3019,7.77-14.0279,14.9709-13.2773A12.7621,12.7621,0,0,1,209.79,83.2148c1.6448-7.8389,8.2574-11.1547,14.4584-10.5084l.0365-.0034c6.2.6462,11.9862,5.2835,11.9941,13.2657a12.7935,12.7935,0,0,1,13.3792-7.9073c7.1946.75,13.856,6.98,11.9208,16.08a12.7651,12.7651,0,0,1,11.9115-5.5569c8.167.8512,15.4485,9.1706,11.15,18.8008a12.9354,12.9354,0,0,1,10.1573-3.5268c9.1315.9518,16.5284,11.8154,9.6287,21.2542a13.3568,13.3568,0,0,1,8.1524-1.8784c10.2191,1.0652,17.0508,14.7577,7.5146,23.3122a14.104,14.104,0,0,1,5.8423-.6753c11.5659,1.2055,17.039,17.9707,5.0079,24.8864a15.3964,15.3964,0,0,1,3.1813-.009c13.3888,1.3955,16.6152,21.3432,2.402,25.9352,15.9663,1.6642,15.9964,24.8423.0186,26.5073C351.8325,228.1153,347.0376,250.7893,331.0781,249.1258Z",transform:"translate(-0 0)"}}),t._v(" "),i("g",[i("path",{attrs:{fill:"#f6cea0",d:"M210.0845,85.4182l.1792,122.0371,25.2936-119.29.5224.1111L210.7876,207.56,260.413,96.0333l.1631.0728-.1587-.0709.4332-2.0347a12.1646,12.1646,0,0,0-1.8772-9.9545,13.4572,13.4572,0,0,0-9.3757-5.2581,12.0073,12.0073,0,0,0-12.6429,7.476l-.8932,2.009-.4947-.1053-.0011-2.1935c0-7.8507-5.6959-11.9562-11.3413-12.5447l-.05-.0052c-5.64-.5879-12.0576,2.2549-13.6782,9.9367l-.433,2.0573Zm26.5443,4.348,1.353-3.0459a10.9249,10.9249,0,0,1,11.5026-6.8126,13.1351,13.1351,0,0,1,4.8019,1.5155,12.2238,12.2238,0,0,1,3.77,3.274,11.0353,11.0353,0,0,1,1.6959,9.0686l-.6832,3.2066L213.2829,199.87Zm-25.0335-6.1725c1.4758-6.9952,7.3222-9.5857,12.4622-9.05l.05.0053c5.1442.5362,10.3351,4.2771,10.3349,11.4255l.002,3.3612L211.0976,199.4439l-.1655-112.7033Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M336.3449,223.8666l-2.0312-.6649.0559-.5387,2.1244-.2317c7.83-.8089,11.3214-6.8806,11.32-12.5333s-3.515-11.7213-11.3355-12.5365l-1.9957-.208-.0086-.0816.0055.0524-121.9249,12.86,121.8139,12.6878-.055.53-121.803-12.6866,116.5055,37.666-.0041.0125,2.1353.1993c7.8495.8181,12.5264-4.3967,13.6975-9.9272S343.84,226.2807,336.3449,223.8666Zm-3.327-2.1883L220.6935,209.9789l112.32-11.8468,3.3489.3491a11.0941,11.0941,0,0,1,10.328,11.4176c.0012,5.15-3.1868,10.6765-10.319,11.4134Zm10.7281,16.5534a11.1144,11.1144,0,0,1-12.4943,9.0405l-3.2281-.301L220.46,212.1962,332.83,223.9l3.1705,1.0373A11.0734,11.0734,0,0,1,343.746,238.2317Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M318.272,147.8646l-.1665-.29.16.2781L212.32,208.9538l116.4882-37.835.1631.5038L212.49,209.4554l121.9337-12.8608-.0024-.0231,1.89-.6136a12.1452,12.1452,0,0,0,8.6494-13.1886c-.5431-5.1354-4.1358-10.64-10.92-11.3468a14.4871,14.4871,0,0,0-3.0291.01l-2.03.22-.1753-.5412,1.7692-1.0159c5.0232-2.8725,7.2978-7.7359,6.109-13.3234a12.6279,12.6279,0,0,0-10.8338-10.2206,13.3506,13.3506,0,0,0-5.5412.6486Zm12.8605,24.6868a13.4547,13.4547,0,0,1,2.7923-.01c6.1638.6424,9.4237,5.6591,9.9217,10.37a11.019,11.019,0,0,1-7.8817,11.9758l-3.1536,1.0243L220.4544,207.7622l107.27-34.8408,0,0Zm-5.3978-24.88a11.5208,11.5208,0,0,1,9.8505,9.3356c1.0765,5.0582-.9521,9.4722-5.569,12.1118l-2.8607,1.6432L219.7581,205.6445l97.6439-56.3133,0,.0005,3.2672-1.0652A12.1435,12.1435,0,0,1,325.7347,147.6717Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M211.2754,207.7765l71.7758-98.6974.01.0071.8893-1.99a12.0672,12.0672,0,0,0-.3745-11.2489,13.5461,13.5461,0,0,0-10.1814-6.5394,11.9889,11.9889,0,0,0-11.2483,5.2633L260.921,96.26l-.0206-.0092ZM263.0562,95.2324a10.9023,10.9023,0,0,1,10.2151-4.8057l.0022,0A12.4241,12.4241,0,0,1,282.6,96.4053a10.9371,10.9371,0,0,1,.325,10.2308l-1.3673,3.0591L215.31,200.7909,261.05,97.9967Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M330.7243,249.7351l-1.8656-1.0649.0167-.052-.0239.0743-116.5084-37.667,106.1036,60.9439-.2635.4606L212.0579,211.4737,303.0932,293.01l-.3523.3946-91.0293-81.53,72.1756,98.719-.4311.3162-72.1738-98.7166,49.9558,111.379-.1532.0689.1436-.0646,1.291,1.7724a12.2421,12.2421,0,0,0,8.7064,5.261,13.4339,13.4339,0,0,0,12.0171-5.4525,11.9264,11.9264,0,0,0,1.0416-12.3417l-.8488-1.891.4488-.3292,1.5427,1.3887a12.6405,12.6405,0,0,0,7.18,3.3387,13.1409,13.1409,0,0,0,12.432-6.6415,11.9858,11.9858,0,0,0-.9433-13.4857l-1.3316-1.8166.32-.3588,1.9572,1.1276a13.3632,13.3632,0,0,0,5.29,1.7781,12.744,12.744,0,0,0,12.7022-7.7743,11.9683,11.9683,0,0,0-3.2383-14.2976l-1.6086-1.4307.258-.4508,2.0514.67a14.1147,14.1147,0,0,0,2.9612.6424c6.7844.7071,11.4244-3.9468,13.0195-8.8594a12.1535,12.1535,0,0,0-5.7533-14.69ZM283.26,313.2773a10.8319,10.8319,0,0,1-.9245,11.2145,12.31,12.31,0,0,1-10.9811,4.9989,11.1292,11.1292,0,0,1-7.9279-4.806l-1.9818-2.7207L215.3462,219.1846l66.517,90.98ZM303.19,295.86a10.8966,10.8966,0,0,1,.8759,12.2564,11.998,11.998,0,0,1-11.328,6.0876,11.6148,11.6148,0,0,1-6.5593-3.0574l-2.45-2.2055-66.5641-91.0438,84.0787,75.3052Zm15.8583-21.1679a10.886,10.886,0,0,1,2.9588,13.0008,11.6764,11.6764,0,0,1-11.5471,7.1135,12.1836,12.1836,0,0,1-4.8578-1.6358l-2.96-1.7058L218.6549,216.242l97.8962,56.23ZM335.41,264.0768c-1.457,4.4875-5.6821,8.73-11.8326,8.0884a13.068,13.068,0,0,1-2.7321-.5931l-3.2162-1.0516-97.8453-56.2,107.5344,34.7657,2.8754,1.6412a11.0274,11.0274,0,0,1,5.2164,13.35Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M302.8747,126.8023l.0192.0215-90.838,81.67L318.001,147.3932l.0064.0112L319.6,145.973a11.9284,11.9284,0,0,0,3.6951-13.0016,13.1447,13.1447,0,0,0-10.8011-9.0563,12.5883,12.5883,0,0,0-7.7134,1.7862Zm9.5029-1.7677a12.0081,12.0081,0,0,1,9.8489,8.2872,10.8449,10.8449,0,0,1-3.3766,11.8138l-2.4451,2.1979-97.7672,56.3846,83.8652-75.4013,2.8619-1.6543A11.5346,11.5346,0,0,1,312.3776,125.0346Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M283.4844,109.3952l-71.7773,98.6993L302.54,126.4287l-.0008-.0009,1.2951-1.7756a11.88,11.88,0,0,0,1.5177-12.2924,13.4387,13.4387,0,0,0-10.6573-7.7862,12.2212,12.2212,0,0,0-9.6,3.3528l-1.62,1.4614Zm2.3887-.6565a10.9871,10.9871,0,0,1,4.0235-2.4711,11.1693,11.1693,0,0,1,4.665-.5763,12.3128,12.3128,0,0,1,9.7653,7.1291,10.8,10.8,0,0,1-1.4,11.1678l-2.0122,2.7576.0013.0013-83.7916,75.3351,66.2317-91.0734Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M183.9205,331.6948l25.2922-119.283L159.5873,323.9383l-.2743-.1225.35.1561-.4273,2.0086a12.1806,12.1806,0,0,0,1.8773,9.955,13.4535,13.4535,0,0,0,9.3764,5.25,12.0206,12.0206,0,0,0,12.65-7.4756l.8821-1.9941Zm-.6306-1.1037-1.1784,2.6623a10.94,10.94,0,0,1-11.51,6.8124,12.0836,12.0836,0,0,1-4.8-1.5115,12.2184,12.2184,0,0,1-3.77-3.2674,11.0136,11.0136,0,0,1-1.8368-4.3368,11.1543,11.1543,0,0,1,.14-4.7352l.7114-3.3429-.0476-.0213,45.72-102.7492Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M89.3469,170.2514l1.8,1.034-.1442.4475.1464-.4538,116.5083,37.667-106.1038-60.944.0051-.0091-1.9841-.6483a14.494,14.494,0,0,0-2.9625-.6348c-6.7841-.707-11.4235,3.9391-13.0186,8.8517A12.0928,12.0928,0,0,0,89.3469,170.2514ZM84.6613,155.91c1.4576-4.4841,5.6812-8.7218,11.8318-8.0807a13.4185,13.4185,0,0,1,2.7327.5854l3.1119,1.0169,97.879,56.22L92.7475,170.9067l-2.8438-1.6325A10.9914,10.9914,0,0,1,84.6613,155.91Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M100.2472,146.1236l1.5816,1.3977-.1527.2667.1412-.2464,106.1252,60.9562L116.9071,126.962l.1248-.14-.1091.1221L115,125.8362a13.382,13.382,0,0,0-5.2969-1.7782,12.7365,12.7365,0,0,0-12.702,7.7673A11.9631,11.9631,0,0,0,100.2472,146.1236Zm-2.22-13.84a11.6739,11.6739,0,0,1,11.5486-7.1068,12.191,12.191,0,0,1,4.8634,1.6352l2.8778,1.6581,84.0282,75.26L103.574,147.5715l.0032-.0056-2.5818-2.2821A10.8824,10.8824,0,0,1,98.0276,132.2833Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M209.916,334.5534l-.1794-122.0372L184.443,331.806l.0767.0162,0,2.1849c.0076,7.8442,5.6967,11.9487,11.3423,12.5371s12.0642-2.2539,13.6774-9.9292l.4335-2.0617Zm-1.4768,1.83c-1.4687,6.99-7.3161,9.578-12.46,9.0418-5.1387-.5356-10.3276-4.2746-10.3347-11.4178l-.0012-3.4183-.0739-.0156,23.3335-110.0456.1659,112.8694Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M83.7215,196.09l1.969.6434-.0038.0364L207.49,209.4566,90.9842,171.79l.0036-.0111-2.0684-.2156c-7.85-.8182-12.5338,4.397-13.698,9.9271S76.2331,193.6845,83.7215,196.09Zm-7.4009-14.3668a11.1,11.1,0,0,1,12.4831-9.04l3.2349.3372,107.5021,34.7553L87.33,196.0881l0-.0028-3.2653-1.067C77.2445,192.827,75.2607,186.7621,76.3206,181.7232Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M117.1325,293.1769l.1676.187-.1936-.2161,90.8378-81.67-105.945,61.1007-.2643-.46L207.68,211.0177,91.1917,248.8527l-.1631-.5038L207.51,210.5162,85.5763,223.3769l-.0557-.53,121.9241-12.86L85.6318,197.3l.0145-.1393-.0148.1416-2.0594.2243c-7.83.8157-11.3213,6.8806-11.3189,12.5334s3.5141,11.7212,11.335,12.5364l1.9271.2009.0627.5964-1.8513.6023a12.1469,12.1469,0,0,0-8.65,13.19c.55,5.143,4.1353,10.6464,10.9192,11.3535a14.0444,14.0444,0,0,0,3.03-.018l1.988-.2158.18.5573-1.7244.9892c-5.03,2.8718-7.3038,7.7284-6.116,13.3225a12.6241,12.6241,0,0,0,10.8324,10.2275,13.3688,13.3688,0,0,0,5.5489-.6472l1.9917-.649.2734.4757-1.5548,1.3937a11.933,11.933,0,0,0-3.7021,13,13.1514,13.1514,0,0,0,10.8006,9.0641,12.633,12.633,0,0,0,7.7128-1.7864Zm-33.4278-71.7a11.4732,11.4732,0,0,1-.01-22.8307l3.2593-.3555,112.3524,11.7023L87.068,221.8308l-.0005-.0037Zm5.193,25.9259a12.895,12.895,0,0,1-2.7855.0169c-6.155-.6416-9.4165-5.6628-9.9209-10.3768a11.0215,11.0215,0,0,1,7.8829-11.9757l3.0833-1.0036L199.546,212.2094,92.316,247.0373l-.0015-.0048Zm10.4774,24.2852a12.1383,12.1383,0,0,1-5.0719.5942,11.5206,11.5206,0,0,1-9.85-9.3416c-1.074-5.0618.958-9.476,5.5756-12.1123l2.832-1.624,107.3813-34.877-97.6361,56.3088ZM107.66,294.92a12.0124,12.0124,0,0,1-9.8482-8.2948,10.8437,10.8437,0,0,1,3.383-11.8115l2.4772-2.22,97.69-56.34-83.9139,75.4451-2.7742,1.593A11.5828,11.5828,0,0,1,107.66,294.92Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M159.1,323.7207l49.625-111.5255-71.7758,98.6972-.4332-.3161,71.7775-98.6994L117.46,293.5427l.0321.0359-1.2519,1.7195a11.8817,11.8817,0,0,0-1.5175,12.2933,13.44,13.44,0,0,0,10.6681,7.8158,12.22,12.22,0,0,0,9.6007-3.3527l1.5874-1.4319.43.3134-.8648,1.9424a12.0966,12.0966,0,0,0,.3666,11.2551,13.5616,13.5616,0,0,0,10.182,6.5328,11.99,11.99,0,0,0,11.2483-5.2632l1.205-1.6619Zm-24.886-12.4786a11.0048,11.0048,0,0,1-4.0244,2.47,11.14,11.14,0,0,1-4.6653.5768,12.32,12.32,0,0,1-9.7754-7.1578,10.793,10.793,0,0,1,1.3988-11.17l2.0128-2.7641-.0209-.0233,83.736-75.2852L136.4584,309.218Zm22.8187,13.4993a10.9079,10.9079,0,0,1-10.2185,4.8064,12.4425,12.4425,0,0,1-9.3273-5.9707,10.98,10.98,0,0,1-.3174-10.24l1.3871-3.1133-.05-.036L204.69,219.1807l-45.88,103.1079Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M136.5936,109.0265l-.0494.0362,72.1739,98.7165L158.7621,96.4l.0339-.0152-1.28-1.7569a12.2141,12.2141,0,0,0-8.706-5.2609,13.4123,13.4123,0,0,0-12.0108,5.46,11.913,11.913,0,0,0-1.0421,12.3423Zm1.1145-13.5371a12.2927,12.2927,0,0,1,10.9738-5.004,11.025,11.025,0,0,1,4.4763,1.5281,11.1909,11.1909,0,0,1,3.45,3.2783l1.8964,2.6032,46.1493,102.8919-66.4948-90.9491.0236-.0174-1.4008-3.1144A10.8284,10.8284,0,0,1,137.7081,95.4894Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M260.7667,323.7835l-.0151.0068-49.96-111.3875,25.6115,119.255.0093-.002.9058,2.0209a11.9967,11.9967,0,0,0,9.9254,7.47A13.5454,13.5454,0,0,0,258.55,336.855a12.0771,12.0771,0,0,0,2.68-10.9375Zm-.6142,7.6648a11.0083,11.0083,0,0,1-2.4276,4.6437,12.4277,12.4277,0,0,1-10.3652,3.9358,10.9161,10.9161,0,0,1-9.0158-6.8123l-1.3956-3.1128-.0127.0028-23.63-110.03L259.4246,322.9l.7158,3.2911A10.9891,10.9891,0,0,1,260.1525,331.4483Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M117.2552,126.5719l.0042-.0046,91.0293,81.5305-72.1756-98.719.02-.0146L134.6081,108a12.5941,12.5941,0,0,0-7.18-3.3388,13.1346,13.1346,0,0,0-12.4315,6.6348,11.9857,11.9857,0,0,0,.95,13.4857Zm-1.2862-14.7133a11.9971,11.9971,0,0,1,11.3294-6.08,11.5626,11.5626,0,0,1,6.56,3.06l2.3475,2.1012,66.63,91.134-83.9806-75.2174-2.0029-2.7417A10.9058,10.9058,0,0,1,115.969,111.8586Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M159.2681,96.1726l-.1244.056.1052-.0473,49.96,111.3874L183.5934,88.2964l.0188-.004-.894-2.0007a11.9985,11.9985,0,0,0-9.9254-7.47,13.5358,13.5358,0,0,0-11.3075,4.2993,12.0817,12.0817,0,0,0-2.6717,10.9316Zm.6231-7.648a10.9845,10.9845,0,0,1,2.4207-4.6417,12.4153,12.4153,0,0,1,10.3649-3.9418,10.9164,10.9164,0,0,1,9.0159,6.8107l1.3533,3.0275,23.649,110.117L160.616,97.1613l.0125-.0056-.725-3.3766A10.978,10.978,0,0,1,159.8912,88.5246Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M184.1092,88.1853l.0052-.0012,25.6148,119.2707L209.55,85.4315h-.0255l-.44-2.0728a12.0311,12.0311,0,0,0-10.842-9.9239,13.4464,13.4464,0,0,0-10.2555,3.2118,12.1587,12.1587,0,0,0-3.8834,9.3542Zm1.9518-6.8519a10.9313,10.9313,0,0,1,2.6614-3.8364,12.2241,12.2241,0,0,1,4.39-2.45,12.5508,12.5508,0,0,1,5.0139-.4924,10.9479,10.9479,0,0,1,9.8591,9.0387l.7091,3.3384h.0122l.1651,112.4988L185.2362,89.3763l-.01-3.4166A10.9436,10.9436,0,0,1,186.061,81.3334Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M235.9268,331.7787l-.0409.0087L210.2712,212.5168,210.45,334.54l.065,0,.444,2.07a12.0167,12.0167,0,0,0,10.8352,9.9234,13.4421,13.4421,0,0,0,10.2548-3.2042,12.17,12.17,0,0,0,3.8834-9.3545Zm-1.9531,6.8627a10.9576,10.9576,0,0,1-2.66,3.8371,12.22,12.22,0,0,1-4.3895,2.4467,12.5086,12.5086,0,0,1-5.0124.4887,10.9308,10.9308,0,0,1-9.8523-9.04l-.7166-3.34-.0485,0-.1654-112.4925L234.8,330.7623l.01,3.2518A10.9589,10.9589,0,0,1,233.9737,338.6414Z",transform:"translate(-0 0)"}})])])])]),t._v(" "),i("g",{staticClass:"js-ring",attrs:{"data-magnetic-force":t.ringMagneticForce[0],"data-magnetic-max-distance":"15",mask:"url(#third-ring-mask-"+t.id+")"}},[i("g",{ref:"thirdRing",class:t.$style.ring},[i("g",{class:t.$style.pathRotation,staticStyle:{"--speed":"80s"}},[i("path",{attrs:{fill:"#f6cea0",d:"M357.3833,209.4988a16.3231,16.3231,0,0,0-3.3175-30.478,15.47,15.47,0,0,0,5.8754-16.065,16.0671,16.0671,0,0,0-15.52-13.0521,15.3946,15.3946,0,0,0,3.0588-15.2293,16.3233,16.3233,0,0,0-15.3731-11.5983,17.1715,17.1715,0,0,0-3.178.3344,15.2964,15.2964,0,0,0,.622-13.9377A16.9069,16.9069,0,0,0,314.42,99.3767a16.4367,16.4367,0,0,0-6.177,1.3208A15.1877,15.1877,0,0,0,306.88,88.4127a17.2411,17.2411,0,0,0-14.7011-8.5569,15.8235,15.8235,0,0,0-8.9143,2.8855,15.1215,15.1215,0,0,0-2.8575-10.4237A17.4006,17.4006,0,0,0,266.49,65.3464a15.3575,15.3575,0,0,0-11.42,5.0686,15.09,15.09,0,0,0-3.8321-8.5056,17.246,17.246,0,0,0-12.7038-5.4564,15.5352,15.5352,0,0,0-13.613,7.7117A15.9962,15.9962,0,0,0,209.4737,53.52l-.1669.0093a15.9721,15.9721,0,0,0-15.2352,10.7266,15.3229,15.3229,0,0,0-13.6779-7.59,17.23,17.23,0,0,0-12.6392,5.5247,15.1291,15.1291,0,0,0-3.7918,8.5577A15.3567,15.3567,0,0,0,152.5,65.756a17.397,17.397,0,0,0-13.8575,7.0648,15.1332,15.1332,0,0,0-2.79,10.4442,15.9119,15.9119,0,0,0-8.9579-2.82,17.2313,17.2313,0,0,0-14.6183,8.6367,15.2073,15.2073,0,0,0-1.2817,12.3189,16.4511,16.4511,0,0,0-6.2059-1.2791,16.8939,16.8939,0,0,0-15.0356,10.2006,15.2978,15.2978,0,0,0,.7191,13.9373,17.3157,17.3157,0,0,0-3.2-.3138A16.3282,16.3282,0,0,0,71.98,135.6654a15.3788,15.3788,0,0,0,3.1734,15.1938A16.0585,16.0585,0,0,0,59.7451,164a15.4869,15.4869,0,0,0,5.9823,16.0411,16.3265,16.3265,0,0,0-3.1113,30.5025,16.3247,16.3247,0,0,0,3.32,30.4774A15.4763,15.4763,0,0,0,60.06,257.097a16.0676,16.0676,0,0,0,15.5353,13.0489,15.4142,15.4142,0,0,0-2.9983,15.2279,16.3166,16.3166,0,0,0,15.352,11.5576,17.07,17.07,0,0,0,3.183-.3351,15.3135,15.3135,0,0,0-.6171,13.939,16.9052,16.9052,0,0,0,15.1231,10.0973,16.48,16.48,0,0,0,6.1769-1.3233,15.1772,15.1772,0,0,0,1.3622,12.2806,17.24,17.24,0,0,0,14.7,8.5537,15.7831,15.7831,0,0,0,8.9217-2.8843A15.1215,15.1215,0,0,0,139.65,347.683a17.4066,17.4066,0,0,0,13.9242,6.9706,15.3611,15.3611,0,0,0,11.4221-5.0661,15.0889,15.0889,0,0,0,3.83,8.5068,17.2491,17.2491,0,0,0,12.7051,5.4533,15.5564,15.5564,0,0,0,13.6167-7.7067,16.4444,16.4444,0,0,0,30.7905-.0516,15.3124,15.3124,0,0,0,13.6767,7.5858,17.2272,17.2272,0,0,0,12.6392-5.5253,15.1308,15.1308,0,0,0,3.7918-8.5559,15.3555,15.3555,0,0,0,11.4612,4.9917,17.3971,17.3971,0,0,0,13.8587-7.0623,15.125,15.125,0,0,0,2.79-10.4424,15.9,15.9,0,0,0,8.9492,2.814,17.2368,17.2368,0,0,0,14.6282-8.6448,15.1906,15.1906,0,0,0,1.2731-12.3059,16.5248,16.5248,0,0,0,6.2046,1.2834,16.9018,16.9018,0,0,0,15.043-10.2061,15.2958,15.2958,0,0,0-.7141-13.9293,17.1924,17.1924,0,0,0,3.1877.3114,16.3307,16.3307,0,0,0,15.2922-11.7225,15.381,15.381,0,0,0-3.1672-15.1913,16.057,16.057,0,0,0,15.401-13.1369A15.4953,15.4953,0,0,0,354.27,240a16.3248,16.3248,0,0,0,3.1137-30.5012Zm-7.0782,29.6693c15.3976,6.7707,9.5372,28.7038-5.6071,28.7572a16.7875,16.7875,0,0,1-3.5658-.3773c12.7313,9.0939,4.6882,27.2438-8.41,27.29a15.7819,15.7819,0,0,1-6.4729-1.4226c9.7267,10.6461.5292,25.2054-11.0433,25.2461a15.1261,15.1261,0,0,1-8.9252-3.02c6.6712,11.3631-2.8391,22.6516-13.1813,22.688a14.5453,14.5453,0,0,1-10.9868-5.09c3.7255,11.2673-5.3707,19.7481-14.6105,19.7807a14.37,14.37,0,0,1-12.7245-7.56c1.1214,10.4005-7.0132,16.6212-15.1683,16.65a14.35,14.35,0,0,1-14.1051-10.3472c-.9064,8.93-7.8965,13.4271-14.9175,13.4518s-14.06-4.454-15.0209-13.3779a14.4339,14.4339,0,0,1-14.0407,10.445c-8.1475.0287-16.3573-6.1268-15.2839-16.5425a14.3724,14.3724,0,0,1-12.6723,7.6492c-9.256.0326-18.4117-8.384-14.7489-19.6772a14.58,14.58,0,0,1-10.9593,5.1674c-10.3413.0364-19.931-11.21-13.34-22.5946a15.1062,15.1062,0,0,1-8.9033,3.0831c-11.5646.0395-20.864-14.4534-11.2129-25.1678a15.84,15.84,0,0,1-6.47,1.467c-13.0977.0462-21.1946-18.0064-8.659-27.1879a16.7041,16.7041,0,0,1-3.5627.401c-15.1611.0534-21.1755-21.8606-5.81-28.7157-18.0808.0637-20.896-25.8474-3.2116-29.6349-17.7106-3.6537-15.07-29.5931,3.003-29.6568-15.3972-6.7617-9.5371-28.6949,5.6076-28.7482a17.29,17.29,0,0,1,3.5653.37c-12.73-9.0936-4.6873-27.2356,8.41-27.2817a15.9787,15.9787,0,0,1,6.4806,1.4136c-9.7264-10.6457-.5291-25.1966,11.0354-25.2372a15.045,15.045,0,0,1,8.9247,3.02c-6.6624-11.3706,2.84-22.66,13.1812-22.6966a14.5872,14.5872,0,0,1,10.9954,5.09c-3.726-11.2592,5.37-19.7476,14.61-19.78a14.3715,14.3715,0,0,1,12.7245,7.56c-1.12-10.4,7.0132-16.6208,15.1683-16.65A14.3666,14.3666,0,0,1,194.51,68.2858c.8987-8.9627,7.9052-13.467,14.9274-13.4917l.04-.0083c7.021-.0247,14.0591,4.4627,15.0285,13.3864a14.4139,14.4139,0,0,1,14.0319-10.4535c8.1475-.0287,16.3573,6.1345,15.2851,16.5423a14.3872,14.3872,0,0,1,12.6711-7.6487c9.2486-.0326,18.4043,8.3914,14.7493,19.6768a14.5848,14.5848,0,0,1,10.9508-5.1675c10.3409-.0365,19.9319,11.2184,13.3408,22.6033a15.0633,15.0633,0,0,1,8.9038-3.0828c11.5725-.0408,20.871,14.4451,11.2208,25.159a15.9113,15.9113,0,0,1,6.4615-1.4592c13.0978-.0461,21.2445,18.0389,8.603,27.2212a17.3794,17.3794,0,0,1,3.5617-.3934c15.1621-.0535,21.1757,21.8607,5.8109,28.708,18.0809-.0637,20.9037,25.8475,3.21,29.6349C371.02,213.1753,368.3785,239.1045,350.3051,239.1681Z",transform:"translate(0 0)"}}),t._v(" "),i("g",[i("path",{attrs:{fill:"#f6cea0",d:"M195.1049,70.714l14.8858,136.425L223.9626,70.7156l.5984.0612L210.59,207.1925,252.7453,76.5163l.1914.0618-.1863-.06.24-2.3272a13.6618,13.6618,0,0,0-3.3-10.9036,15.1634,15.1634,0,0,0-11.1326-4.7489,13.5275,13.5275,0,0,0-13.2592,9.8826l-.7586,2.3538-.5666-.058-.2652-2.4525c-.9448-8.7776-7.8176-12.6813-14.2107-12.6589l-.0571,0c-6.3867.0225-13.2319,3.9745-14.1224,12.7586l-.2375,2.3525Zm30.25,1.662,1.1486-3.5686a12.3083,12.3083,0,0,1,12.062-9.0035,14.8151,14.8151,0,0,1,5.56,1.1158,13.7607,13.7607,0,0,1,4.6157,3.2061,12.3925,12.3925,0,0,1,2.99,9.935l-.3791,3.6676L212.459,198.2941Zm-28.7779-3.8841c.8111-7.999,7.0468-11.6,12.8675-11.6206l.0567,0c5.8256-.02,12.089,3.5365,12.949,11.529l.4066,3.7578L209.9605,198.0811,196.2133,72.09Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M353.164,210.2916l-2.3547-.4986-.0022-.6091,2.3512-.515c8.6713-1.8482,11.8509-9.0576,11.1691-15.3776s-5.3469-12.6816-14.2032-12.65l-2.26.0079-.0194-.09.0124.058L212.8608,209.69l137.9463-.4961.0022.5991-137.934.4962,135.0071,28.0711-.0031.0145,2.4153-.0346c8.8892-.0313,13.4993-6.4256,14.1453-12.75S361.8482,212.0874,353.164,210.2916Zm-3.9893-2.0457-127.2.4575L346.3368,181.92l3.7924-.0133c8.0764-.0285,12.318,5.7655,12.94,11.521.6211,5.7579-2.2842,12.3212-10.1829,14.0047Zm14.0064,17.2149c-.5891,5.761-4.8034,11.5854-12.9046,11.6139l-3.6513.0525L221.98,211.2106l127.2513-.4577,3.6755.7777C360.8227,213.1677,363.77,219.706,363.1811,225.4608Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M323.7786,127.494l-.2213-.3038.2124.2917L212.4743,208.5665,338.3769,152.224l.2433.5436L212.7248,209.1069,347.731,180.0311l-.0055-.0256,2.0427-.9139a13.6573,13.6573,0,0,0,8.1-15.7883c-1.2262-5.6764-5.912-11.3975-13.5948-11.37a16.3464,16.3464,0,0,0-3.391.3765l-2.247.4911-.2613-.584,1.859-1.349c5.28-3.8172,7.2419-9.529,5.2383-15.6329a14.214,14.214,0,0,0-13.3627-10.1216,15.0591,15.0591,0,0,0-6.1276,1.393Zm17.3732,26.0516a15.185,15.185,0,0,1,3.126-.3472c6.98-.0246,11.2345,5.1915,12.3591,10.3982a12.3614,12.3614,0,0,1-1.0244,8.5054,12.508,12.508,0,0,1-6.3613,5.8344l-3.4085,1.5254L221.44,206.2538,337.38,154.37l0,0Zm-9.0388-27.1668a12.9682,12.9682,0,0,1,12.1549,9.2506c1.8142,5.5257.0736,10.7055-4.7793,14.2132l-3.006,2.182L220.4056,203.97l102.5752-74.7314,0,.0006,3.5308-1.5848A13.6986,13.6986,0,0,1,332.113,126.3788Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M211.1623,207.3761l68.5054-119.002.0117.0067.7564-2.3325a13.55,13.55,0,0,0-1.773-12.532,15.26,15.26,0,0,0-12.1891-6.0843,13.5118,13.5118,0,0,0-11.9636,7.24l-1.1686,2.0362-.0242-.0078ZM255.6091,75.3024a12.2873,12.2873,0,0,1,10.8615-6.6044h.0026a13.9966,13.9966,0,0,1,11.1641,5.56,12.2816,12.2816,0,0,1,1.5951,11.4l-1.1631,3.5851L214.84,199.08,253.6948,78.6348Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M349.9824,239.892l-2.2176-.9658.0125-.06-.0178.086L212.749,210.88l126.1591,55.3513-.24.5467L212.4835,211.4156l111.762,80.1908-.347.4837L212.1439,211.9046l92.7086,101.676-.4447.4055L211.7013,212.3125,281.05,330.8215l-.1633.0955.153-.0895,1.6591,1.826a13.7926,13.7926,0,0,0,10.3834,4.8329,15.1416,15.1416,0,0,0,12.8018-7.5448,13.3933,13.3933,0,0,0-.3186-13.9245l-1.1781-2.0119.463-.4221,1.8948,1.3667a14.2473,14.2473,0,0,0,8.4423,2.8674,14.8076,14.8076,0,0,0,13.1236-8.924,13.4607,13.4607,0,0,0-2.6792-14.9644l-1.71-1.8706.3156-.44,2.3276,1.0249a15.07,15.07,0,0,0,6.1387,1.35c5.9856-.0211,11.3614-4.236,13.29-10.2234s-.0734-11.8167-5.3471-15.5954l-1.9736-1.4057.2347-.5352,2.3781.5021a15.926,15.926,0,0,0,3.3935.3614c7.6829-.0271,12.3193-5.79,13.5144-11.4747a13.6573,13.6573,0,0,0-8.2106-15.7309Zm-45.5088,76.7657a12.1643,12.1643,0,0,1,.314,12.65,13.8748,13.8748,0,0,1-11.6961,6.9126,12.5386,12.5386,0,0,1-9.4568-4.4178l-2.5469-2.8032L217.0939,219.6407l85.44,93.7046Zm20.223-21.8756a12.2375,12.2375,0,0,1,2.4558,13.5981,13.52,13.52,0,0,1-11.9537,8.1717,13.0926,13.0926,0,0,1-7.7138-2.6278l-3.0091-2.1706L218.975,217.9826l103.2216,74.0629Zm15.2125-25.5786c4.8045,3.4428,6.6289,8.7429,4.8781,14.1792-1.7655,5.4833-6.736,9.3264-12.0757,9.3452a13.7407,13.7407,0,0,1-5.6371-1.2434l-3.52-1.55L220.4452,215.9518l116.4,51.07Zm17.0462-13.8411c-1.0917,5.1929-5.313,10.4451-12.2781,10.47a14.7418,14.7418,0,0,1-3.131-.3338l-3.7284-.7881L221.478,213.667l124.6113,25.91,3.4177,1.4884a12.3923,12.3923,0,0,1,7.4483,14.2974Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M304.0007,105.8006l.0241.0216L212.1227,208.0843,323.4184,127l.0085.0118,1.6112-1.7924c3.9489-4.3881,4.8915-9.8451,2.5736-14.9821a14.7994,14.7994,0,0,0-13.1859-8.8238,14.1973,14.1973,0,0,0-8.4233,2.9268Zm10.43-3.1218a13.52,13.52,0,0,1,12.027,8.0786c2.1005,4.6527,1.24,9.6148-2.36,13.6157l-2.4738,2.7521-102.7048,74.826,84.8475-94.4125,3.006-2.1945A13.0089,13.0089,0,0,1,314.43,102.6788Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M280.1908,88.6752,211.684,207.68l91.8969-102.2564-.0011-.001,1.2368-2.1413a13.3415,13.3415,0,0,0,.22-13.9268,15.1348,15.1348,0,0,0-12.872-7.421,13.7781,13.7781,0,0,0-10.3479,4.9057l-1.6386,1.8292Zm2.5961-1.0219a12.38,12.38,0,0,1,4.2086-3.2478,12.6007,12.6007,0,0,1,5.1551-1.2067,13.8671,13.8671,0,0,1,11.7939,6.794,12.1288,12.1288,0,0,1-.2236,12.6551l-1.9217,3.3257.0016.0014-84.773,94.33,63.2138-109.81Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M195.4389,349.2232,209.41,212.8074,167.2547,343.4836l-.3219-.1038.41.1324-.2368,2.2972a13.678,13.678,0,0,0,3.3,10.9041,15.1585,15.1585,0,0,0,11.1324,4.74,13.5426,13.5426,0,0,0,13.2669-9.8829l.7479-2.3359Zm-.8391-1.1581-.9993,3.1187a12.3245,12.3245,0,0,1-12.0708,9.0041,13.9012,13.9012,0,0,1-10.1731-4.31,12.3747,12.3747,0,0,1-2.5788-4.6274,12.5219,12.5219,0,0,1-.413-5.3112l.3944-3.8233-.0559-.0181,38.8376-120.3919Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M70.0988,180.1162l2.14.9391-.1075.5178.1093-.5251L207.2512,209.12l-126.16-55.3514.0047-.0107-2.3-.4858a16.3539,16.3539,0,0,0-3.394-.3526c-7.6826.0271-12.3192,5.7811-13.5144,11.4659A13.5885,13.5885,0,0,0,70.0988,180.1162Zm-6.9731-15.47c1.0927-5.1892,5.3128-10.4364,12.278-10.461a15.1471,15.1471,0,0,1,3.1309.3252l3.6074.7619,116.38,51.0608L73.986,180.439l-3.3812-1.4825A12.3509,12.3509,0,0,1,63.1257,164.6462Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M79.4028,151.8257l1.9394,1.3721-.1389.3166.1284-.2926,126.1848,55.3626L95.7544,128.3935l.123-.1713-.1075.15-2.2868-1.0072a15.0922,15.0922,0,0,0-6.146-1.35,14.3485,14.3485,0,0,0-13.29,10.2154C72.1186,142.2182,74.121,148.0458,79.4028,151.8257Zm-4.1512-15.207c1.7644-5.48,6.7359-9.319,12.0782-9.3379a13.7473,13.7473,0,0,1,5.6433,1.2422l3.4223,1.507,103.16,74.0183L83.3027,153.0436l.0029-.0067-3.166-2.24C75.329,147.3531,73.5007,142.0531,75.2516,136.6187Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M224.8952,349.2861,210.0093,212.861,196.0374,349.2845l.0878.0089.2635,2.4428c.9524,8.7695,7.8175,12.6729,14.2108,12.65s13.2395-3.9742,14.1226-12.75l.2374-2.3574Zm-1.4336,2.224c-.8037,7.9928-7.0408,11.5907-12.8662,11.6112-5.8193.02-12.08-3.5346-12.9478-11.52l-.4127-3.8218-.0846-.0086L210.04,221.9191l13.7676,126.1765Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M66.9081,209.6838l2.2826.482,0,.0412,137.9346-.4961L72.1176,181.64l.0027-.0128-2.3423.0082c-8.8894.0313-13.5076,6.4269-14.1459,12.75S58.2325,207.8967,66.9081,209.6838ZM56.891,194.5126c.5816-5.76,4.7935-11.5835,12.8921-11.612l3.6634-.0129L198.02,208.79l-127.0715.457v-.0031l-3.7853-.7994C59.2619,206.8161,56.3105,200.2742,56.891,194.5126Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M116.0079,314.2071l.21.1889-.2428-.2182,91.9018-102.262L96.5815,293l-.3513-.4822,111.2957-81.0848L81.6231,267.776l-.2433-.5437,125.895-56.3391L72.2689,239.969l-.1261-.5855L207.1384,210.31l-137.9454.4961,0-.1575,0,.16-2.2793.4989c-8.6709,1.8557-11.8508,9.0576-11.1679,15.3776s5.3459,12.6816,14.2026,12.65l2.1824-.0077.142.6593-2.0009.8965a13.66,13.66,0,0,0-8.1,15.79c1.2353,5.6839,5.9123,11.405,13.5946,11.378a15.8461,15.8461,0,0,0,3.3916-.3854l2.2-.4809.2691.6014L79.8156,269.1c-5.2878,3.8172-7.2495,9.5212-5.2462,15.6327a14.21,14.21,0,0,0,13.3619,10.13,15.0812,15.0812,0,0,0,6.1364-1.3924l2.1524-.9657.3634.4989L95.01,294.7489c-3.9565,4.3884-4.8915,9.8534-2.5817,14.9817a14.8072,14.8072,0,0,0,13.1863,8.8326,14.249,14.249,0,0,0,8.4226-2.9269ZM69.9441,238.07c-8.0764.0285-12.3179-5.7662-12.94-11.5216-.6223-5.753,2.283-12.3145,10.1817-14.0035l3.6073-.79,127.2318-.4577L73.7533,238.0605l-.0009-.0041ZM78.88,266.431a14.5372,14.5372,0,0,1-3.1175.3546c-6.97.0246-11.227-5.1964-12.3591-10.4062a12.3615,12.3615,0,0,1,1.0256-8.5054A12.4914,12.4914,0,0,1,70.79,242.04l3.3322-1.4938,124.4377-26.8L82.6637,265.6107l-.0021-.0051Zm14.6559,25.89a13.6909,13.6909,0,0,1-5.6086,1.2756,12.9674,12.9674,0,0,1-12.1548-9.2574c-1.8118-5.53-.0673-10.71,4.7867-14.2144l2.9762-2.1571,116.06-51.9377L97.0275,290.7553ZM105.61,317.2978a13.5246,13.5246,0,0,1-12.0271-8.0873A12.1813,12.1813,0,0,1,95.95,295.5967l2.5071-2.7807,102.624-74.7671-84.8969,94.4674-2.9151,2.1155A13.0649,13.0649,0,0,1,105.61,317.2978Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M166.6827,343.2991l42.155-130.6751L140.3323,331.626l-.5232-.3012L208.3161,212.32l-91.897,102.2564.04.0362-1.1951,2.0735a13.3436,13.3436,0,0,0-.22,13.9278,15.1372,15.1372,0,0,0,12.8877,7.4528,13.7787,13.7787,0,0,0,10.3484-4.9058l1.6055-1.7922.5186.2986-.7347,2.276a13.5839,13.5839,0,0,0,1.7649,12.54,15.2785,15.2785,0,0,0,12.189,6.0769,13.5131,13.5131,0,0,0,11.9636-7.24l1.15-2.0034Zm-29.3715-10.9525a12.3978,12.3978,0,0,1-4.21,3.2471,12.5657,12.5657,0,0,1-5.1553,1.2073,13.8752,13.8752,0,0,1-11.8087-6.8248,12.1207,12.1207,0,0,1,.2224-12.6569l1.9215-3.3331-.0261-.0236,84.7168-94.2671L139.5812,329.813ZM164.49,344.69a12.2937,12.2937,0,0,1-10.8654,6.6055,14.0156,14.0156,0,0,1-11.164-5.5514,12.3286,12.3286,0,0,1-1.5877-11.4109l1.1787-3.648-.06-.0343,63.1677-109.73L166.1865,341.7328Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M115.6432,105.9676l-.051.0464,92.7064,101.6734L138.95,89.1785l.0361-.0211-1.6447-1.81a13.7608,13.7608,0,0,0-10.3829-4.8327,15.116,15.116,0,0,0-12.7939,7.5517,13.3784,13.3784,0,0,0,.3181,13.9252Zm-.3808-15.27A13.855,13.855,0,0,1,126.95,83.78a12.4324,12.4324,0,0,1,5.1969,1.1689,12.5975,12.5975,0,0,1,4.2585,3.2495l2.437,2.682,64.0639,109.4786L117.4943,106.686l.0244-.0224-1.9436-3.3132A12.1607,12.1607,0,0,1,115.2624,90.6977Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M280.547,331.1155l-.0161.01L211.1774,212.607,254.21,342.8561l.01-.0033,1.2576,2.15a13.5107,13.5107,0,0,0,12.0144,7.1559,15.2717,15.2717,0,0,0,12.1458-6.1614,13.5659,13.5659,0,0,0,1.6848-12.552Zm.2345,8.6439a12.3721,12.3721,0,0,1-2.16,5.4847,14.01,14.01,0,0,1-11.1344,5.65,12.2927,12.2927,0,0,1-10.9165-6.53l-1.9375-3.3121-.0139.0046L214.9157,220.8824,278.9377,330.29l1.1977,3.5934A12.3357,12.3357,0,0,1,280.7815,339.7594Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M96.0973,127.9155l.0042-.0057,111.7546,80.1856-92.7086-101.676.0206-.0187-1.872-1.342a14.1966,14.1966,0,0,0-8.443-2.8676,14.8007,14.8007,0,0,0-13.1237,8.9165,13.4606,13.4606,0,0,0,2.687,14.9636ZM92.8864,111.62a13.5188,13.5188,0,0,1,11.9563-8.1631,13.0323,13.0323,0,0,1,7.7148,2.63l2.8819,2.0664,85.5854,93.8638L97.9238,128.0407l-2.573-2.824A12.248,12.248,0,0,1,92.8864,111.62Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M139.49,88.863l-.1326.0776.1121-.0656,69.3534,118.5179L165.7839,77.1249l.02-.0068-1.242-2.1291a13.5124,13.5124,0,0,0-12.0143-7.1561,15.26,15.26,0,0,0-12.1459,6.17,13.57,13.57,0,0,0-1.6767,12.5444Zm-.2226-8.6261a12.3459,12.3459,0,0,1,2.1525-5.4815,13.9972,13.9972,0,0,1,11.1333-5.6566,12.2938,12.2938,0,0,1,10.9165,6.5282l1.88,3.2219,39.7351,120.2687L141.1181,89.806l.0134-.0078L139.9133,86.11A12.3242,12.3242,0,0,1,139.2671,80.2369Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M166.3481,76.9385l.0057-.0019L209.392,207.2029l-14.8843-136.41-.0285.0031-.7427-2.2645A13.5429,13.5429,0,0,0,180.4,58.743,15.162,15.162,0,0,0,169.3017,63.57a13.6619,13.6619,0,0,0-3.2234,10.9268Zm1.3613-7.8962a12.295,12.295,0,0,1,2.5189-4.61,13.7752,13.7752,0,0,1,4.6214-3.2685,14.1582,14.1582,0,0,1,5.5557-1.1549,12.3241,12.3241,0,0,1,12.129,8.9176l1.1958,3.6472.0136-.0015L207.466,198.3343l-39.7124-120.2-.4224-3.8189A12.29,12.29,0,0,1,167.7094,69.0423Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M253.6908,343.0487l-.0446.0147L210.6081,212.7972l14.884,136.41.0728-.008.7463,2.2611a13.5273,13.5273,0,0,0,13.3285,9.7892,15.1581,15.1581,0,0,0,11.0988-4.8186,13.6744,13.6744,0,0,0,3.2233-10.9271Zm-1.3614,7.9084a12.32,12.32,0,0,1-2.5177,4.6108,13.7689,13.7689,0,0,1-4.6213,3.2647,14.1107,14.1107,0,0,1-5.5546,1.1506,12.3045,12.3045,0,0,1-12.1215-8.92l-1.2044-3.6483-.0544.006L212.5339,221.6656l39.7727,120.3825.4023,3.6346A12.3049,12.3049,0,0,1,252.3294,350.9571Z",transform:"translate(0 0)"}})])])])])]),t._v(" "),i("div",{class:["js-ring",t.$style.circleWrapper],attrs:{"data-magnetic-force":t.ringMagneticForce[3],"data-magnetic-max-distance":"15"}},[i(t.circleElementType,{directives:[{name:"sound",rawName:"v-sound:mouseenter",value:t.$hoverSamples,expression:"$hoverSamples",arg:"mouseenter"},{name:"sound",rawName:"v-sound:click",value:t.SampleName.GENERAL_CLICK,expression:"SampleName.GENERAL_CLICK",arg:"click"}],ref:"circle",tag:"component",class:[!t.data.autoOpen&&"button",t.$style.circle,t.data.autoOpen&&t.$style.auto],attrs:{type:"button"},on:{click:t.open,mouseenter:t.handleMouseEnter,mouseleave:t.handleMouseLeave,focus:t.handleFocus,blur:t.handleBlur}})],1)]),t._v(" "),t.data.autoOpen?t._e():i("span",{ref:"copy",class:["copy-cta",t.$style.copy],domProps:{innerHTML:t._s(t.$t("scene.clickToRevealPastAndPresent"))}})]),t._v(" "),i("div",{ref:"image",staticClass:"abs-fill"},[i("img",{ref:"imageElement",class:[t.$style.image,t.imgOpen&&t.$style.imgOpen],attrs:{tabindex:"-1",inert:!t.isOpen,src:t.image,alt:t.$t(t.data.image.alt),draggable:"false"},on:{load:t.onImageLoad,click:t.closeImage}}),t._v(" "),t.data.zoomedDescription?i("p",{ref:"zoomedDescription",class:["copy-large serif",t.$style.zoomedDescription],domProps:{innerHTML:t._s(t.$t(t.data.zoomedDescription))}}):t._e(),t._v(" "),t.data.autoOpen?t._e():i("PrimaryButton",{ref:"closeButton",class:t.$style.close,attrs:{inert:!t.isOpen,type:t.ButtonType.ACTION,"small-alternate-theme":t.isMobile,icon:"close-outlined","aria-label":t.$t("general.close")},on:{click:t.handleCloseClick}})],1)])}),[],!1,(function(t){this.$style=ps.default.locals||ps.default}),null,null).exports;class fs extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){t.add(ie(e.$el,{to:1,duration:.3})),t.add(this.getTimeline("hotspot"))}setupTransitionOutTimeline(t,e,i){t.add(se(e.$el,{to:0,autoAlpha:!0,duration:.3}))}setupLoopingAnimationTimeline(t,e,i){}}class gs extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){t.add(ie(e.$el,{duration:.3}))}setupTransitionOutTimeline(t,e,i){t.add(se(e.$el,{duration:.3}))}setupLoopingAnimationTimeline(t,e,i){}}var vs={name:"SecondaryHotspotButton",extends:D.AbstractTransitionComponent,props:{image:Object(o.string)(),title:Object(o.string)(),isActive:Object(o.bool)()},methods:{handleAllComponentsReady(){this.transitionController=new gs(this),this.isReady()},handleClick(){this.$emit("click")}}},_s=i(310);var As={name:"ReliefHotspot",components:{SecondaryHotspotButton:Object(T.a)(vs,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:[t.$style.secondaryHotspotButton]},[i("button",{directives:[{name:"sound",rawName:"v-sound:mouseenter",value:t.$hoverSamples,expression:"$hoverSamples",arg:"mouseenter"},{name:"sound",rawName:"v-sound:click",value:t.SampleName.GENERAL_CLICK,expression:"SampleName.GENERAL_CLICK",arg:"click"}],ref:"circle",class:["button",t.$style.circle],on:{click:t.handleClick}},[i("span",{class:["abs-fill",t.$style.imageWrapper]},[i("img",{class:t.$style.image,attrs:{src:t.formatImage(t.image,t.$versionRoot),alt:t.title}})]),t._v(" "),i("Icon",{class:[t.$style.ornament,t.isActive&&t.$style.isActive],attrs:{name:"map-outline"}})],1)])}),[],!1,(function(t){this.$style=_s.default.locals||_s.default}),null,null).exports},extends:ss,props:{data:o.default.shape({hotspotId:o.default.string,image:o.default.string,artDetailConfig:$t()}).isRequired},watch:{isActive(t){t?this.tickEvent=Object(it.addEventListener)(this.$webgl,ds.POST_UPDATE,this.updateHotspotPosition):this.tickEvent&&this.tickEvent()}},beforeDestroy(){this.tickEvent&&this.tickEvent()},methods:{...Object(B.c)({setCurrentActiveHotspot:"app/setCurrentActiveHotspot"}),handleAllComponentsReady(){this.transitionController=new fs(this),this.isReady(),this.isActive&&this.transitionIn(!0)},updateHotspotPosition(){const t=this.data.hotspotId,e=this.getObjectScreenPosition(t),i=this.$refs.hotspot.$el.getBoundingClientRect();U.default.set(this.$refs.hotspot.$el,{x:e.x-i.width/2,y:e.y-i.height/2})},onClick(){this.data.artDetailConfig&&(this.lockScroll(),this.setCurrentActiveHotspot(this.data.hotspotId),Wt("hotspot_object",{artObject:qt(this.data.artDetailConfig.title),room:Zt(this.$route),hotspot:this.config.id}),this.$artDetailModal.open(this.data.artDetailConfig,{onClose:()=>{this.unlockScroll(),this.setCurrentActiveHotspot(null)}}))}}},Ts=i(311);var ys=Object(T.a)(As,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:["fill-screen",this.$style.reliefHotspot]},[e("SecondaryHotspotButton",{ref:"hotspot",attrs:{image:this.data.image,title:this.data.artDetailConfig.title,"is-active":this.isActive,theme:"secondary"},on:{click:this.onClick}})],1)}),[],!1,(function(t){this.$style=Ts.default.locals||Ts.default}),null,null).exports;class Es extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){const{intro:s}=e.$refs;t.add(ie(e.$el,{duration:.01})),t.add(this.getTimeline(s)),e.$refs.hotspots.forEach(e=>{t.add(this.getTimeline(e),"<0.2")})}setupTransitionOutTimeline(t,e,i){t.add(se(e.$el,{to:0,autoAlpha:!0,duration:.3}))}setupLoopingAnimationTimeline(t,e,i){}}class bs extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){t.add(ie(e.$el,{duration:.01})),t.add(()=>{e.$el.focus();const{splitTitle:t,description:i,caption:s}=e.$refs,a=U.default.timeline();a.add(fe(t)),a.add(pe(i),">0.7"),a.add(ie(s),"<0.2")})}setupTransitionOutTimeline(t,e,i){t.add(se(e.$el))}setupLoopingAnimationTimeline(t,e,i){}}var Rs={name:"RoyalLifeDetail",extends:D.AbstractTransitionComponent,props:{data:je(o.default.shape({id:o.default.string,image:o.default.objectOf({normal:o.default.string,small:o.default.string,alt:o.default.string}),title:o.default.string,description:o.default.string,caption:o.default.string}))},data:()=>({uniqueId:0}),computed:{...Object(B.d)({deviceState:t=>t.app.deviceState}),isSmallScreen(){return this.deviceState<Le.deviceState.MEDIUM},image(){return ji(this.deviceState<Le.deviceState.MEDIUM?this.data.image.small:this.data.image.normal,this.$versionRoot)}},watch:{async data(t){t&&(this.uniqueId+=1,await this.$nextTick(),this.transitionIn()),this.animateScreenShift()}},mounted(){this.shift=0},methods:{handleAllComponentsReady(){this.transitionController=new bs(this),this.isReady()},animateScreenShift(){this.isSmallScreen||U.default.to(this,{shift:this.data?1:0,duration:.8,ease:re.VinnieInOut,onUpdate:this.updateScreenShift})},updateScreenShift(){this.$webgl.setScreenShift(U.default.utils.mapRange(0,1,0,-.5,this.shift))}}},xs=i(312);var ws=Object(T.a)(Rs,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["abs-fill",t.$style.royalLifeDetail],attrs:{tabindex:"-1"}},[t.data?[i("img",{ref:"image",class:[t.$style.image],attrs:{src:t.formatImage(t.image,t.$versionRoot),alt:t.$t(t.data.image.alt)}}),t._v(" "),i("h2",{key:"title-"+t.uniqueId,ref:"title",class:["heading-03 min-vh",t.$style.title],attrs:{"aria-label":t.$t(t.data.title)}},[i("span",{ref:"splitTitle",attrs:{"aria-hidden":"true"},domProps:{innerHTML:t._s(t.$t(t.data.title))}})]),t._v(" "),i("p",{key:"description-"+t.uniqueId,ref:"description",class:["copy-large serif",t.$style.description]},[t._v("\n      "+t._s(t.$t(t.data.description))+"\n    ")]),t._v(" "),t.data.caption?i("p",{ref:"caption",class:["copy-mini",t.$style.caption],domProps:{innerHTML:t._s(t.$t(t.data.caption))}}):t._e()]:t._e()],2)}),[],!1,(function(t){this.$style=xs.default.locals||xs.default}),null,null).exports;class Os extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){const{bulletRing:s}=e.$refs;t.fromTo(e.$el,{"--dot-scale":0},{"--dot-scale":1,duration:.4,ease:re.JorisInOut},0),t.fromTo(s.$el,{scale:0},{scale:1,duration:.6,ease:"power1.out",clearProps:"scale",onComplete:()=>{s.$el.classList.add(e.$style.effect)}},.05)}setupTransitionOutTimeline(t,e,i){}setupLoopingAnimationTimeline(t,e,i){}}var Ss={name:"PrimaryHotspotButton",extends:D.AbstractTransitionComponent,props:{isActive:o.default.bool.def(!1),ariaLabel:o.default.string,theme:o.default.string.def("primary")},methods:{handleAllComponentsReady(){this.transitionController=new Os(this),this.isReady()},handleClick(){this.$emit("click")}}},Is=i(313);var Ms={name:"RoyalLife",components:{EditorialCallToAction:Qe,RoyalLifeDetail:ws,PrimaryHotspotButton:Object(T.a)(Ss,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{directives:[{name:"sound",rawName:"v-sound:mouseenter",value:t.$hoverSamples,expression:"$hoverSamples",arg:"mouseenter"},{name:"sound",rawName:"v-sound:click",value:t.SampleName.GENERAL_CLICK,expression:"SampleName.GENERAL_CLICK",arg:"click"}],class:["button",t.$style.primaryHotspotButton,t.isActive&&t.$style.isActive],attrs:{"data-theme":t.theme,"aria-label":t.ariaLabel},on:{click:t.handleClick}},[i("Icon",{ref:"bulletRing",class:t.$style.ring,attrs:{name:"bullet-ring"}})],1)}),[],!1,(function(t){this.$style=Is.default.locals||Is.default}),null,null).exports},extends:Ct,props:{data:o.default.shape({hotspots:o.default.arrayOf(o.default.shape({id:o.default.string,image:o.default.objectOf({normal:o.default.string,small:o.default.string,alt:o.default.string}),title:o.default.string,description:o.default.string,caption:o.default.string})),title:o.default.string,description:o.default.string,rotateRestrictionIn:bt(),rotateRestrictionOut:bt()}).isRequired},data:()=>({activeHotspot:null,activeHotspotIndex:null}),watch:{activeHotspot(t){const e=!!t;this.setIsCloseActive({active:e,callback:e?this.closeHotspot:null}),e?this.$refs.intro.transitionOut():this.$refs.intro.transitionIn()},isActive(t){t?this.tickEvent=Object(it.addEventListener)(this.$webgl,ds.POST_UPDATE,this.updateHotspotPositions):this.tickEvent&&this.tickEvent()},totalProgress(){this.updateDragRotateRestriction()}},beforeDestroy(){this.tickEvent&&this.tickEvent()},methods:{...Object(B.c)({setCurrentActiveHotspot:"app/setCurrentActiveHotspot",setIsCloseActive:Vt}),handleAllComponentsReady(){this.transitionController=new Es(this),this.isReady(),this.isActive&&this.transitionIn(!0)},async onHotspotClick(t,e){this.lockScroll(),this.activeHotspotIndex=e,null!==this.activeHotspot&&(await this.$refs.detail.transitionOut(),await this.$nextTick()),Wt("hotspot_jewellery",{hotspot:Kt(t.title),artObject:Kt(t.title),room:Zt(this.$route)}),this.activeHotspot=t,this.setCurrentActiveHotspot(t.id)},async closeHotspot(){await this.$refs.detail.transitionOut(),this.unlockScroll(),this.activeHotspot=null,this.activeHotspotIndex=null,this.setCurrentActiveHotspot(null)},updateHotspotPositions(){this.data.hotspots.forEach((t,e)=>{const{x:i,y:s}=this.getObjectScreenPosition(t.id),a=this.$refs.hotspots[e].$el;a&&U.default.set(a,{x:i,y:s})})},updateDragRotateRestriction(){const{rotateRestrictionIn:t,rotateRestrictionOut:e}=this.data,i=Ot(this.totalProgress,t,e,!0);null!==i&&this.setCameraDragRotateAmount(i)}}},Cs=i(314);var Ls=Object(T.a)(Ms,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["fill-screen",t.$style.royalLife]},[i("EditorialCallToAction",{ref:"intro",attrs:{inert:t.activeHotspot,title:t.$t(t.data.title),description:t.$t(t.data.description)}}),t._v(" "),i("div",{class:["abs-fill",t.$style.hotspotWrapper,t.isActive&&t.$style.activeHotspots],attrs:{inert:t.activeHotspot}},t._l(t.data.hotspots,(function(e,s){return i("PrimaryHotspotButton",{key:e.id,ref:"hotspots",refInFor:!0,attrs:{"is-active":s===t.activeHotspotIndex,"aria-label":t.$t(e.title)},on:{click:function(i){return t.onHotspotClick(e,s)}}})})),1),t._v(" "),i("RoyalLifeDetail",{ref:"detail",attrs:{data:t.activeHotspot}})],1)}),[],!1,(function(t){this.$style=Cs.default.locals||Cs.default}),null,null).exports;class Ps extends D.AbstractTransitionController{showHotspot(){const{hotspot:t,hotspotLabel:e}=this.parentController.$refs,{hotspotCallToAction:i}=this.parentController.$refs,s=U.default.timeline();return s.add(ie(t,{duration:.01})),s.add(this.getTimeline(i)),s.add(ie(e),"<0.3"),s}hideHotspot(){const{hotspot:t}=this.parentController.$refs;se(t)}setupTransitionInTimeline(t,e,i){t.add(ie(e.$el,{duration:.01})),t.add(this.showHotspot())}setupTransitionOutTimeline(t,e,i){t.add(se(e.$el,{duration:.3}))}setupLoopingAnimationTimeline(t,e,i){}}var Ns={name:"SandsOfTimeHotspot",components:{PrimaryButton:xe,Subtitles:Ji},extends:Ct,mixins:[Yi],props:{data:o.default.shape({hotspotId:o.default.string,title:o.default.string,audio:o.default.string,subtitle:o.default.string}).isRequired},watch:{isActive(t){!t&&this.isAudioActive&&this.stop()},isAudioActive(t){t?(this.transitionController.hideHotspot(),this.setIsCloseActive({active:!0,callback:this.stop})):this.isActive&&this.transitionController.showHotspot()},audioProgress(t){this.$webgl.setMandalaVoiceOverProgress(t)}},methods:{...Object(B.c)({setIsCloseActive:Vt}),handleAllComponentsReady(){this.transitionController=new Ps(this),this.isReady(),this.isActive&&this.transitionIn(!0)},play(){this.playAudio(this.data.audio,this.data.subtitle)},stop(){this.stopAudio()}}},Ds=i(315);var Bs=Object(T.a)(Ns,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["fill-screen",t.$style.sandsOfTimeHotspot]},[i("div",{ref:"hotspot",class:[t.$style.hotspot]},[i("PrimaryButton",{ref:"hotspotCallToAction",attrs:{type:t.ButtonType.ACTION,filled:!0,icon:"menu"},on:{click:t.play}}),t._v(" "),i("h3",{ref:"hotspotLabel",class:["heading-05",t.$style.hotspotLabel]},[t._v("\n      "+t._s(t.$t(t.data.title))+"\n    ")])],1),t._v(" "),i("Subtitles",{attrs:{subtitle:t.currentSubtitle}})],1)}),[],!1,(function(t){this.$style=Ds.default.locals||Ds.default}),null,null).exports;class Fs extends D.AbstractTransitionController{getTitleScreenParallaxTimeline(){const{titleText:t}=this.parentController.$refs,e=U.default.timeline({paused:!0});return e.to(t,{scale:1.1,duration:1,ease:"power1.in"}),e.add(se(t,{duration:.6,autoAlpha:!1}),"<0.4"),e}showTitleScreen(){const t=U.default.timeline(),{title:e,description:i}=this.parentController.$refs,{diamond:s}=this.parentController.$refs;return t.add(se(i,{to:0,duration:.25,autoAlpha:!1})),t.add(se(s.$el,{duration:.25}),"<"),t.add(fe(e),">-0.1"),t}hideTitleScreen(){const t=U.default.timeline(),{title:e,description:i,legibleOverlay:s,descriptionSplitText:a}=this.parentController.$refs,{diamond:n}=this.parentController.$refs;return t.add(se(e,{to:0,duration:.25,autoAlpha:!1})),t.set(i,{opacity:1}),t.add(ie(s),">-0.1"),t.add(function(t){const e=U.default.timeline(),{lines:i}=ce(t,["lines"]);return e.add(pe(i,{stagger:.035,from:"1.45em",duration:1,clearProps:!1})),e}(a),"<"),t.add(se(n.$el,{to:1}),"<0.1"),t}setupTransitionInTimeline(t,e,i){const{title:s,description:a}=e.$refs;t.add(ie(e.$el,{duration:.01})),t.add(()=>{const{isTitleScreen:t}=e;t?fe(s):ie(a,{clearProps:!1})}),t.add(this.getTimeline("chapter"),0),t.add(He(e,{from:.2,to:.35}),0)}setupTransitionOutTimeline(t,e,i){t.add(se(e.$el,{duration:.3}),0),t.add(He(e,{from:.35,to:.2}),0)}setupLoopingAnimationTimeline(t,e,i){}}class $s extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){const{label:s,touchIndicator:a,moveUpCircle:n}=e.$refs,{outline:r,arrow:o}=e.$refs;t.add(ie(e.$el,{duration:.01})),r&&t.add(this.getTimeline(r),"<0.25"),o&&(t.fromTo(o.$el,{yPercent:-60},{yPercent:0,duration:1.2,ease:re.VinnieInOut,clearProps:"yPercent"},"<"),t.add(ie(o.$el,{duration:.7}),"<")),a&&(U.default.set(n,{transformOrigin:"50% 50%",scale:1.1}),t.add(ie(a),"<")),t.add(ie(s),"<0.5")}setupTransitionOutTimeline(t,e,i){const{outline:s}=e.$refs,{touchIndicator:a}=e.$refs;t.add(se(e.$el,{duration:.25})),s&&t.add(this.getTimeline(s,Ve.TransitionDirection.OUT),"<"),a&&t.add(se(a,{duration:.25}),"<")}setupLoopingAnimationTimeline(t,e,i){const{outline:s,arrow:a}=e.$refs,{moveUpCircle:n}=e.$refs;if(n)return void t.add(this.getMobileLoopingAnimation());const r=s.transitionController.loopingAnimationTimeline.duration();t.add(()=>{},r),t.to(a.$el,{keyframes:[{yPercent:75,opacity:0},{yPercent:-75,opacity:0,duration:0},{yPercent:0,opacity:1}],ease:re.VinnieInOut,duration:1.4},">-1.6")}clearLoopTransition(){const{moveUpCircle:t,newCircle:e,rippleCircle:i,maskCircle:s,backfill:a}=this.parentController.$refs;U.default.set([t,e,i,s],{transformOrigin:"50% 50%",clearProps:"all"}),U.default.set(a,{transformOrigin:"50% 100%",clearProps:"all"})}getMobileLoopingAnimation(){const{moveUpCircle:t,newCircle:e,rippleCircle:i,maskCircle:s,backfill:a}=this.parentController.$refs;U.default.set([t,e,i,s],{transformOrigin:"50% 50%"}),U.default.set(a,{transformOrigin:"50% 100%"});const n=U.default.timeline(),r=U.default.timeline();return r.add(se(i,{to:1,duration:.01})),r.to(i,{scale:1.8,duration:1,ease:"power4.out"},">"),r.to(i,{opacity:0,duration:.6,ease:"none"},"<0.1"),n.add(ie(t,{duration:.01})),n.add(se(e,{duration:.01}),"<"),n.fromTo(t,{scale:1.1},{scale:1,duration:.3,ease:"power2.out"}),n.add(r,">-0.05"),n.to([t,s],{y:-40.5,duration:1.2,ease:re.JorisInOut},"<0.35"),n.to(a,{scaleY:54/14,duration:1.2,ease:re.JorisInOut},"<"),n.add(se([t,a],{duration:.65}),">-0.65"),n.to(e,{autoAlpha:1,scale:1.1,duration:.5,ease:"power2.out"},"<"),n.add(()=>{},"+=1.5"),n}}class Us extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){const{trigger:s}=e.$refs;t.add(ie(e.$el,{duration:.01})),t.fromTo(s,{transformOrigin:"50% 50%",drawSVG:"0%",rotation:-360},{transformOrigin:"50% 50%",drawSVG:"100%",rotation:-90,ease:re.VinnieInOut,duration:1.4,clearProps:"drawSVG,rotation"})}setupTransitionOutTimeline(t,e,i){t.add(se(e.$el,{duration:.25}))}setupLoopingAnimationTimeline(t,e,i){const{outline:s}=e.$refs;s.forEach((e,i)=>{t.add(se(e,{to:1,duration:.01}),.75+.6*i),t.fromTo(e,{scale:1,transformOrigin:"50% 50%"},{scale:1.4,transformOrigin:"50% 50%",ease:"power3.out",duration:1.2},"<"),t.add(se(e,{duration:.8}),"<0.2")}),t.timeScale(1)}}var ks={name:"IndicatorOutline",extends:D.AbstractTransitionComponent,props:{isFocused:o.default.bool},mounted(){this.disposables=new N.DisposableManager},beforeDestroy(){this.disposables.dispose()},methods:{handleAllComponentsReady(){this.transitionController=new Us(this),this.disposables.add(Object(it.addEventListener)(this.transitionController,D.TransitionEvent.types.TRANSITION_IN_COMPLETE,this.onTransitionInComplete),Object(it.addEventListener)(this.transitionController,D.TransitionEvent.types.TRANSITION_OUT_COMPLETE,this.onTransitionOutComplete)),this.isReady()},onTransitionInComplete(){this.startLoopingAnimation(),this.$emit("startLoop")},onTransitionOutComplete(){this.stopLoopingAnimation(),U.default.set([this.$refs.trigger,...this.$refs.outline],{transformOrigin:"50% 50%",clearProps:"scale,opacity"}),this.$emit("stopLoop")}}},Vs=i(316);var zs=Object(T.a)(ks,(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{class:[this.$style.indicatorOutline,this.isFocused&&this.$style.isFocused],attrs:{viewBox:"0 0 100 100"}},[e("circle",{ref:"trigger",attrs:{cx:"50",cy:"50",r:"49.5"}}),this._v(" "),this._l(Array.from({length:2}),(function(t,i){return e("circle",{key:"outline-"+i,ref:"outline",refInFor:!0,attrs:{cx:"50",cy:"50",r:"49.5","vector-effect":"non-scaling-stroke",opacity:"0"}})}))],2)}),[],!1,(function(t){this.$style=Vs.default.locals||Vs.default}),null,null).exports,Hs={name:"ScrollIndicator",components:{IndicatorOutline:zs},extends:D.AbstractTransitionComponent,props:{isActive:Object(o.bool)().def(!1),isClickable:Object(o.bool)().def(!1),enableAria:Object(o.bool)().def(!0),label:Object(o.string)().def("scene.scrollToExplore"),sceneName:Object(o.string)(),ariaLabel:o.default.string},data:()=>({isTouch:W,isFocused:!1}),computed:{component(){return this.isClickable?"button":"div"}},watch:{isActive(t){t?this.transitionIn():(this.transitionOut(),this.isTouch()&&this.stopLoopingAnimation())}},methods:{handleAllComponentsReady(){this.transitionController=new $s(this),this.isActive&&this.transitionIn(),this.isReady()},handleClick(){this.isClickable&&this.$emit("click")},handleFocus(){this.isFocused=!0},handleBlur(){this.isFocused=!1},async transitionIn(t){this.isTouch()&&this.transitionController.clearLoopTransition(),await this.transitionController.transitionIn(t),this.isTouch()&&this.startLoopingAnimation("default",!0)}}},Gs=i(317);var Xs=Object(T.a)(Hs,(function(){var t,e=this,i=e.$createElement,s=e._self._c||i;return s("div",{class:[e.$style.scrollIndicator,(t={},t[e.$style.isTouch]=e.isTouch(),t)]},[s(e.component,{tag:"component",class:[e.$style.wrapper,e.isClickable&&[e.$style.isClickable,"button"]],attrs:{"aria-label":e.isClickable&&e.ariaLabel},on:{click:e.handleClick,focus:e.handleFocus,blur:e.handleBlur}},[e.isTouch()?s("svg",{ref:"touchIndicator",class:e.$style.touchIndicator,attrs:{viewBox:"0 0 28 68"}},[s("defs",[s("mask",{attrs:{id:"backfill-mask"}},[s("rect",{attrs:{x:"0",y:"0",width:"100%",height:"100%",fill:"#fff",rx:"14"}}),e._v(" "),s("circle",{ref:"maskCircle",attrs:{cx:"14",cy:"54",r:"13.5",fill:"#000"}})])]),e._v(" "),s("g",{attrs:{mask:"url(#backfill-mask)"}},[s("rect",{ref:"backfill",attrs:{x:"0",y:"54",width:"28",height:"14",fill:"rgba(246, 206, 160, 0.5)"}})]),e._v(" "),s("g",{ref:"moveUpCircle"},[s("circle",{attrs:{cx:"14",cy:"54",r:"13.5",fill:"none",stroke:"#f6cea0"}}),e._v(" "),s("circle",{ref:"rippleCircle",staticStyle:{opacity:"0"},attrs:{cx:"14",cy:"54",r:"13.5",fill:"none",stroke:"#f6cea0"}})]),e._v(" "),s("circle",{ref:"newCircle",staticStyle:{opacity:"0"},attrs:{cx:"14",cy:"54",r:"13.5",fill:"none",stroke:"#f6cea0"}})]):[s("IndicatorOutline",{ref:"outline",class:e.$style.outline,attrs:{"aria-hidden":"true","is-focused":e.isFocused},on:{startLoop:e.startLoopingAnimation,stopLoop:e.stopLoopingAnimation}}),e._v(" "),s("Icon",{ref:"arrow",class:e.$style.arrow,attrs:{name:"arrow-down"}})]],2),e._v(" "),s("p",{ref:"label",class:["copy-cta",e.$style.label],attrs:{"aria-label":e.enableAria&&e.$t("scene.ariaNarrative").replace("[scene]",e.$t(e.sceneName))}},[e._v("\n    "+e._s(e.$t(e.label))+"\n  ")])],1)}),[],!1,(function(t){this.$style=Gs.default.locals||Gs.default}),null,null).exports;class js extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){const{number:s,ring:a}=e.$refs;t.fromTo(a.$el,{scale:1.4,autoAlpha:0},{scale:1,autoAlpha:1,duration:.7,ease:re.JorisInOut},0),t.add(ie(s,{to:1,autoAlpha:!0,duration:.5}),.2)}setupTransitionOutTimeline(t,e,i){t.add(()=>{},.01)}setupLoopingAnimationTimeline(t,e,i){}}var Ws={name:"ChapterNumber",extends:D.AbstractTransitionComponent,props:{number:o.default.string,theme:o.default.string.def("primary"),isActive:o.default.bool},methods:{handleAllComponentsReady(){this.transitionController=new js(this),this.isReady()}}},Ys=i(318);var Zs=Object(T.a)(Ws,(function(){var t,e=this,i=e.$createElement,s=e._self._c||i;return s("div",{class:[e.$style.chapterNumber]},[s("Icon",{ref:"ring",class:["abs-fill",e.$style.numberOrnament,(t={},t[e.$style.isActive]=e.isActive,t)],attrs:{"data-theme":e.theme,name:"chapter-number"}}),e._v(" "),s("p",{ref:"number"},[e._v(e._s(e.number))])],1)}),[],!1,(function(t){this.$style=Ys.default.locals||Ys.default}),null,null).exports;var qs={name:"SceneIntro",components:{ChapterNumber:Zs,ScrollIndicator:Xs},extends:Ct,props:{data:o.default.shape({number:o.default.string,title:o.default.string,description:o.default.string,backgroundImage:o.default.string,smallerTitle:o.default.bool.def(!1)}).isRequired},computed:{backgroundImage(){return ji(this.data.backgroundImage,this.$versionRoot)},isLoaded(){return 1===this.loadProgress},isTitleScreen(){return this.progress<.4},isScrollIndicatorActive(){return this.isLoaded&&this.progress<.25},titleScreenProgress(){return U.default.utils.normalize(0,.4,U.default.utils.clamp(0,.4,this.progress))}},watch:{isTitleScreen(t){t?this.transitionController.showTitleScreen():this.transitionController.hideTitleScreen()},titleScreenProgress(t){this.titleScreenParallaxTimeline.progress(t)}},methods:{handleAllComponentsReady(){this.transitionController=new Fs(this),this.titleScreenParallaxTimeline=this.transitionController.getTitleScreenParallaxTimeline(),this.isReady(),this.isActive&&this.transitionIn(!0)}}},Ks=i(319);var Qs=Object(T.a)(qs,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("article",{class:["fill-screen",t.$style.sceneIntro]},[i("span",{ref:"titlePlane",class:["heading-01",t.$style.titlePlane]}),t._v(" "),i("ChapterNumber",{ref:"chapter",class:t.$style.number,attrs:{number:t.data.number,"is-active":t.isActive,"aria-label":t.$t("scene.chapter").replace("[number]",""+t.data.number)}}),t._v(" "),i("div",{class:t.$style.content},[i("h2",{ref:"title",class:["heading-01",t.data.smallerTitle&&"smaller",t.$style.title],attrs:{"data-chapter":t.data.number,"aria-label":t.$t(t.data.title)}},[i("span",{ref:"titleText",attrs:{"aria-hidden":"true"}},[t._v(t._s(t.$t(t.data.title)))])]),t._v(" "),i("p",{ref:"description",class:["copy-xlarge serif",t.$style.description],attrs:{"aria-label":t.$t(t.data.description)}},[i("span",{ref:"legibleOverlay",class:t.$style.legibleOverlay}),t._v(" "),i("span",{ref:"descriptionSplitText"},[t._v(t._s(t.$t(t.data.description)))])])]),t._v(" "),i("div",{class:t.$style.bottom},[i("ScrollIndicator",{attrs:{"is-active":t.isScrollIndicatorActive,"is-clickable":!0,"scene-name":t.data.title,"aria-label":t.$t("scene.scrollToExploreAria")},on:{click:function(e){return t.$emit("introContinueClick")}}}),t._v(" "),i("Icon",{ref:"diamond",class:t.$style.diamond,attrs:{name:"diamond"}})],1)],1)}),[],!1,(function(t){this.$style=Ks.default.locals||Ks.default}),null,null).exports;class Js extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){t.add(ie(e.$el,{to:1,duration:.3})),t.add(this.getTimeline("chapter"),0),t.add(fe(e.$refs.title),0),t.add(this.getTimeline("indicator"),.5),t.fromTo(e.$refs.rhombus.$el,{autoAlpha:0},{autoAlpha:1,duration:.6,ease:re.JorisInOut},.7)}setupTransitionOutTimeline(t,e,i){t.add(se(e.$el,{to:0,autoAlpha:!0,duration:.3}))}setupLoopingAnimationTimeline(t,e,i){}}class ta extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){const{circle:s,arrow:a,label:n}=e.$refs;t.fromTo(s,{autoAlpha:0,scale:1.2},{autoAlpha:1,scale:1,duration:.6,ease:re.JorisInOut},0),t.fromTo(a.$el,{autoAlpha:0,scale:1.6},{autoAlpha:1,scale:1,duration:.6,ease:re.JorisInOut},0),t.fromTo(n,{y:10,autoAlpha:0},{y:0,autoAlpha:1,duration:.5,ease:re.JorisInOut},.1)}setupTransitionOutTimeline(t,e,i){}setupLoopingAnimationTimeline(t,e,i){}}var ea={name:"SecondaryScrollIndicator",extends:D.AbstractTransitionComponent,props:{isClickable:o.default.bool,progress:o.default.number,ariaLabel:o.default.string},computed:{degree(){return U.default.utils.interpolate(0,360,this.progress)},component(){return this.isClickable?"button":"div"}},methods:{handleAllComponentsReady(){this.transitionController=new ta(this),this.isReady()},handleClick(){this.isClickable&&this.$emit("click")},handleFocus(){this.isFocused=!0},handleBlur(){this.isFocused=!1}}},ia=i(320);var sa=Object(T.a)(ea,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(t.component,{tag:"component",class:["button",t.$style.secondaryScrollIndicator],attrs:{"aria-label":t.ariaLabel},on:{click:t.handleClick,focus:t.handleFocus,blur:t.handleBlur}},[i("span",{class:["abs-fill",t.$style.background]}),t._v(" "),i("span",{ref:"circle",class:t.$style.circle,style:"--progress: "+t.degree+"deg"},[i("Icon",{ref:"arrow",class:t.$style.arrow,attrs:{name:"arrow-down"}})],1),t._v(" "),i("p",{ref:"label",class:["copy-cta",t.$style.label]},[t._v("\n    "+t._s(t.$t("scene.scrollToContinue"))+"\n  ")])])}),[],!1,(function(t){this.$style=ia.default.locals||ia.default}),null,null).exports;var aa={name:"SceneOutro",components:{ChapterNumber:Zs,SecondaryScrollIndicator:sa},extends:Ct,props:{data:o.default.shape({number:o.default.string,title:o.default.string,theme:o.default.string.def("primary")}).isRequired},computed:{...Object(B.d)({deviceState:({app:t})=>t.deviceState}),isLoaded(){return 1===this.loadProgress},isScrollIndicatorActive(){return this.isLoaded&&this.progress<.1},isMobile(){return this.deviceState<Le.deviceState.MEDIUM},shouldAutoContinue(){return this.isLoaded&&this.progress>.6},autoContinueProgress(){return U.default.utils.clamp(0,1,U.default.utils.normalize(0,.6,this.progress))}},watch:{shouldAutoContinue(t){t&&(this.lockScroll(),this.scrollTo(this.getScrollPosition(1),2e3,()=>{}),this.$sound.play(F.END_OF_ROOM,h.UI),this.$webgl.transitionOut(()=>{},()=>{}),this.transitionOut())}},methods:{handleAllComponentsReady(){this.transitionController=new Js(this),this.isReady(),this.isActive&&this.transitionIn(!0)}}},na=i(321);var ra=Object(T.a)(aa,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{class:["fill-screen",t.$style.sceneOutro],attrs:{"data-theme":t.data.theme}},[i("ChapterNumber",{ref:"chapter",attrs:{number:t.data.number,"is-active":t.isActive}}),t._v(" "),i("div",{class:t.$style.content},[i("h1",{ref:"title",class:[t.isMobile?"heading-02":"heading-03",t.$style.title]},[t._v("\n      "+t._s(t.$t(t.data.title))+"\n    ")])]),t._v(" "),i("SecondaryScrollIndicator",{ref:"indicator",class:t.$style.scroll,attrs:{"is-clickable":!0,"is-active":t.isScrollIndicatorActive,progress:t.autoContinueProgress,"aria-label":t.$t("scene.scrollToExploreAria")},on:{click:function(e){return t.$emit("outroContinueClick")}}}),t._v(" "),i("Icon",{ref:"rhombus",class:t.$style.rhombus,attrs:{name:"rhombus"}})],1)}),[],!1,(function(t){this.$style=na.default.locals||na.default}),null,null).exports,oa=i(24),la=i.n(oa);function ca(t){return`${p("configManager").getVariable(S.VERSIONED_STATIC_ROOT)}webgl/${t}`}class ha{static getStaticDir(){return p("configManager").getVariable(S.VERSIONED_STATIC_ROOT)}static getFileName(t,e=!1){return ha.useWebp?ca(t+".webp"):ca(e?t+".png":t+".jpg")}static checkImageFormatSupported(t){return new Promise(e=>{const i=new Image;i.onload=()=>e(i.width>0&&i.height>0),i.onerror=()=>e(!1);try{i.src=t}catch(s){e(!1)}})}static checkWebpSupported(){return ha.checkImageFormatSupported("data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA")}static checkAvifSupported(){return ha.checkImageFormatSupported("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABMAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgS0AAAAAABNjb2xybmNseAACAAIAAoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAABttZGF0EgAKBDgABokyCRAAAAAP+I9ngw==")}}ha.useWebp=!1,ha.useAvif=!1;class da{static log(...t){da.ENABLED&&console.log(t)}static error(...t){da.ENABLED&&(console.error(t),console.trace())}static getScreenLogDiv(){return da._screenLogDiv||(da._screenLogDiv=da.createDebugDiv()),da._screenLogDiv}static logToScreen(t){da.ENABLED&&(da._screenLogDiv||(da._screenLogDiv=da.createDebugDiv()),da._screenLogDiv.innerHTML=t)}static logAppendToScreen(t){da.ENABLED&&(da._screenLogDiv||(da._screenLogDiv=da.createDebugDiv()),da._screenLogDiv.innerHTML+=t)}static logArray(t){if(!da.ENABLED)return;const e=t.length;let i="";for(let s=0;s<e;s++)i+=t[s],i+=",";i=i.substring(0,i.length-1),console.log(i)}static log2dArray(t){if(!da.ENABLED)return;const e=t.length;let i="";for(let s=0;s<e;s++)for(let e=0;e<t[s].length;e++)i+=t[s][e],i+=",";i=i.substring(0,i.length-1),console.log(i)}static createDebugDiv(){const t=document.createElement("div");return document.body.appendChild(t),t.style.position="absolute",t.style.left="0px",t.style.top="0px",t.style.color="#fff",t.style.backgroundColor="#000",t.style.display="block",t.style.width="158px",t.style.height="32px",t.style.padding="1px",t.style.font="10px Helvetica,Arial,sans-serif",t.style.lineHeight="14px",t.style.zIndex="1000",t}}da.ENABLED=!0;class ua{constructor(){this.isDestructed=!1}destruct(){this.isDestructed&&da.error("Cannot destruct twice"),this.isDestructed=!0}}class pa extends ua{constructor(t,e,i=null,s=null){super(),this.exposed=!1,this.name=e,this.id=pa._id++,this.parent=t,this._callback=s,this._materials=i||[]}expose(){this.exposed=!0}get value(){return this._value}setUpdateUICallback(t){this._updateUIcallback=t}setChangeCallback(t){this._callback=t}setValue(t,e=!1,i=!0){t!==this._value&&(this._value=t,this.setShaderUniform(t),this._callback&&i&&this._callback(this._value),!e&&this._updateUIcallback&&this._updateUIcallback.call(this,this.value))}setFromUI(t){this.setValue(t,!0)}setShaderUniform(t){}}pa._id=0;class ma extends pa{constructor(t,e,i=null){super(t,e,null,i)}get value(){return this._callback}}class fa extends pa{constructor(t,e,i,s=null,a=null){super(t,e,s,a),this.setValue(i,!1,!1)}setShaderUniform(t){for(let e=0;e<this._materials.length;e++)this._materials[e].setFloat(this.name,!0===t?1:0)}}class ga{constructor(t=0,e=0,i=0){this.x=t,this.y=e,this.z=i}clone(){return new ga(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}setValues(t,e,i){return this.x=t,this.y=e,this.z=i,this}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}lengthSquared(){return this.x*this.x+this.y*this.y+this.z*this.z}toString(){return"("+this.x+", "+this.y+", "+this.z+")"}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}normalize(){let t=this.x*this.x+this.y*this.y+this.z*this.z;return t>0&&(t=1/Math.sqrt(t)),this.x*=t,this.y*=t,this.z*=t,this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}subtract(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}rotateX(t,e){const i=this.y-t.y,s=this.z-t.z;return this.y=i*Math.cos(e)-s*Math.sin(e)+t.y,this.z=i*Math.sin(e)+s*Math.cos(e)+t.z,this}rotateY(t,e){const i=this.x-t.x,s=this.z-t.z;return this.x=s*Math.cos(e)-i*Math.sin(e)+t.x,this.z=s*Math.sin(e)+i*Math.cos(e)+t.z,this}rotateZ(t,e){const i=this.x-t.x,s=this.y-t.y;return this.x=i*Math.cos(e)-s*Math.sin(e)+t.x,this.y=i*Math.sin(e)+s*Math.cos(e)+t.y,this}transform(t){const e=this.x,i=this.y,s=this.z,a=t.m;let n=a[3]*e+a[7]*i+a[11]*s+a[15];return n=n||1,this.x=(a[0]*e+a[4]*i+a[8]*s+a[12])/n,this.y=(a[1]*e+a[5]*i+a[9]*s+a[13])/n,this.z=(a[2]*e+a[6]*i+a[10]*s+a[14])/n,this}transformMat3(t){const e=this.x,i=this.y,s=this.z,a=t.m;return this.x=e*a[0]+i*a[3]+s*a[6],this.y=e*a[1]+i*a[4]+s*a[7],this.z=e*a[2]+i*a[5]+s*a[8],this}transformQuat(t){const e=t.x,i=t.y,s=t.z,a=t.w,n=this.x,r=this.y,o=this.z;let l=i*o-s*r,c=s*n-e*o,h=e*r-i*n,d=i*h-s*c,u=s*l-e*h,p=e*c-i*l;const m=2*a;return l*=m,c*=m,h*=m,d*=2,u*=2,p*=2,this.x=n+l+d,this.y=r+c+u,this.z=o+h+p,this}randomize(){return this.x=2*Math.random()-1,this.y=2*Math.random()-1,this.z=2*Math.random()-1,this}randomize01(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomizeSphere(){do{this.randomize()}while(this.length()>1);return this}static smoothstep1(t){return t*t*(3-2*t)}smoothstep(){return this.x=ga.smoothstep1(this.x),this.y=ga.smoothstep1(this.y),this.z=ga.smoothstep1(this.z),this}static dot(t,e){return t.x*e.x+t.y*e.y+t.z*e.z}static distance(t,e){const i=t.x-e.x,s=t.y-e.y,a=t.z-e.z;return Math.sqrt(i*i+s*s+a*a)}static multiplyScalar(t,e){return new ga(t.x*e,t.y*e,t.z*e)}static cross(t,e){const i=t.x,s=t.y,a=t.z,n=e.x,r=e.y,o=e.z;return new ga(s*o-a*r,a*n-i*o,i*r-s*n)}static add(t,e){return new ga(t.x+e.x,t.y+e.y,t.z+e.z)}static subtract(t,e){return new ga(t.x-e.x,t.y-e.y,t.z-e.z)}static lerp(t,e,i){const s=t.x,a=t.y,n=t.z;return new ga(s+i*(e.x-s),a+i*(e.y-a),n+i*(e.z-n))}static fract(t){return new ga(t.x-Math.floor(t.x),t.y-Math.floor(t.y),t.z-Math.floor(t.z))}static floor(t){return new ga(Math.floor(t.x),Math.floor(t.y),Math.floor(t.z))}static transform(t,e){return t.clone().transform(e)}static transformMat3(t,e){return t.clone().transformMat3(e)}static bezier(t,e,i,s,a){const n=1-a,r=n*n,o=a*a,l=r*n,c=3*a*r,h=3*o*n,d=o*a,u=new ga;return u.x=t.x*l+e.x*c+i.x*h+s.x*d,u.y=t.y*l+e.y*c+i.y*h+s.y*d,u.z=t.z*l+e.z*c+i.z*h+s.z*d,u}static transformQuat(t,e){return t.clone().transformQuat(e)}static angle(t,e){const i=t.x,s=t.y,a=t.z,n=e.x,r=e.y,o=e.z,l=Math.sqrt(i*i+s*s+a*a)*Math.sqrt(n*n+r*r+o*o),c=l&&ga.dot(t,e)/l;return Math.acos(Math.min(Math.max(c,-1),1))}min(t){this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z)}max(t){this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z)}}ga.ZERO=new ga(0,0,0),ga.RIGHT=new ga(1,0,0),ga.UP=new ga(0,1,0),ga.FORWARD=new ga(0,0,1),ga.ONE=new ga(1,1,1);class va extends pa{constructor(t,e,i,s=[],a){super(t,e,s,a),this._uniforms=[],this._color=new ga;for(let n=0;n<this._materials.length;n++)this._uniforms[n]=this._materials[n].addVector3Uniform(e,this._color);this.setValue([255*i.x,255*i.y,255*i.z])}getValueVector3(){return this._color}convertColorToArray(t){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:t}setValue(t,e=!1){t instanceof ga?this._color.copy(t):(t=this.convertColorToArray(t),this._color.setValues(t[0]/255,t[1]/255,t[2]/255)),super.setValue([255*this._color.x,255*this._color.y,255*this._color.z],e)}setShaderUniform(t){for(let e=0;e<this._uniforms.length;e++)this._uniforms[e].set(this._color)}}class _a{static posMod(t,e){return(t%e+e)%e}static fract(t){return t-Math.floor(t)}static lerp(t,e,i){return(1-i)*t+i*e}static map(t,e,i){return _a.clamp01((i-t)/(e-t))}static inverseLerp(t,e,i){return _a.map(t,e,i)}static clamp01(t){return t<0?0:t>1?1:t}static gain01(t,e){return t>.5?1-.5*Math.pow(2-2*t,e):.5*Math.pow(2*t,e)}static smootherStep01(t){return t*t*t*(t*(6*t-15)+10)}static smoothStep01(t){return(t=_a.clamp01(t))*t*(3-2*t)}static invSmoothStep01(t){return t=_a.clamp01(t),.5-Math.sin(Math.asin(1-2*t)/3)}static smoothStep(t,e,i){return(i=_a.clamp((i-t)/(e-t),0,1))*i*(3-2*i)}static smootherStep(t,e,i){return i=_a.clamp((i-t)/(e-t),0,1),_a.smootherStep01(i)}static step(t,e,i){return _a.clamp01((i-t)/(e-t))}static nearestPowerOfTwo(t){return Math.pow(2,Math.round(Math.log(t)/Math.log(2)))}static nextPowerOfTwo(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.log(2)))}static isPowerOfTwo(t){return 0===(t&t-1)}static smallerPowerOfTwo(t){return Math.pow(2,Math.floor(Math.log(t)/Math.log(2)))}static clamp(t,e,i){return Math.min(Math.max(t,e),i)}static degToRad(t){return t*(Math.PI/180)}static radToDeg(t){return t*(180/Math.PI)}static degToRadVec3(t){return new ga(_a.degToRad(t.x),_a.degToRad(t.y),_a.degToRad(t.z))}static radToDegVec3(t){return new ga(_a.radToDeg(t.x),_a.radToDeg(t.y),_a.radToDeg(t.z))}static latLongToCartesian(t,e,i,s){const a=this.degToRad(e),n=this.degToRad(i)+Math.PI;return t.z=s*Math.cos(a)*Math.cos(n),t.x=s*Math.cos(a)*Math.sin(n),t.y=s*Math.sin(a),t}static Approximately(t,e){return Math.abs(t-e)<1e-6}}class Aa extends pa{constructor(t,e,i,s=0,a=1,n=[],r=null){super(t,e,n,r),this._floatUniforms=[];for(let o=0;o<this._materials.length;o++)this._floatUniforms[o]=this._materials[o].addFloatUniform(e,i);this.min=s,this.max=a,this.max<i&&(this.max=2*i),this.min>i&&(this.min=i-1),this.setValue(i,!1,!1)}setValue(t,e=!1,i=!0){t=_a.clamp(t,this.min,this.max),super.setValue(t,e,i)}setShaderUniform(t){for(let e=0;e<this._floatUniforms.length;e++)this._floatUniforms[e].value=t}destruct(){if(this._floatUniforms){for(let t=0;t<this._floatUniforms.length;t++)this._floatUniforms[t].destruct();this._floatUniforms=[]}super.destruct()}}class Ta extends pa{constructor(t,e,i,s=0,a=1,n=null,r=null){super(t,e,n,r),this._floatUniforms=[];for(let o=0;o<this._materials.length;o++)this._floatUniforms[o]=this._materials[o].addFloatUniform(e,i);this.min=s,this.max=a,this.max<i&&(this.max=2*i),this.min>i&&(this.min=i-1),this.setValue(i)}setShaderUniform(t){for(let e=0;e<this._floatUniforms.length;e++)this._floatUniforms[e].value=t}}class ya extends pa{constructor(t,e,i,s=null,a=null){super(t,e,s,a),this.setValue(i,!1,!1)}}class Ea extends ua{constructor(){super(),this.params=[],this.children=[],this.id=0,this.id=Ea._id++}addGroup(t,e=null,i=!1){const s=new Ea;return s.init(t,e,i),this.children.push(s),s}removeGroup(t){let e=null;for(const i of this.children)if(console.log("checking",i.name,t),i.name===t){e=i;break}e&&this.children.splice(this.children.indexOf(e),1)}removeAllGroups(){this.children=[]}pushGroup(t){this.children.push(t)}init(t,e=null,i=!1){Ea._usedGroupNames.indexOf(t)>0&&console.warn("another ParamGroup with this name already exists: consider giving it a unique name",t),this.name=t,Ea._usedGroupNames.push(this.name),this.collapsed=i,this.materials=e?[].concat(e):[]}static exposeParam(t){t.expose()}addParamFloat(t,e,i=0,s=1,a=null){const n=new Aa(this,t,e,i,s,[],a);return this.params.push(n),n}addShaderParamFloat(t,e,i=0,s=1,a=null){this.materials&&0!=this.materials.length||console.warn("Adding shader param to param group that has no materials",t);const n=new Aa(this,t,e,i,s,this.materials,a);return this.params.push(n),n}addParamInt(t,e,i=0,s=1,a=null){const n=new Ta(this,t,e,i,s,null,a);return this.params.push(n),n}addShaderParamInt(t,e,i=0,s=1,a=null){this.materials&&0!=this.materials.length||console.warn("Adding shader param to param group that has no materials");const n=new Ta(this,t,e,i,s,this.materials,a);return this.params.push(n),n}addParamBool(t,e,i=null){const s=new fa(this,t,e,null,i);return this.params.push(s),s}addShaderParamBool(t,e,i=null){this.materials&&0!=this.materials.length||console.warn("Adding shader param to param group that has no materials");const s=new fa(this,t,e,this.materials,i);return this.params.push(s),s}addParamColor(t,e,i){const s=new va(this,t,e,[],i);return this.params.push(s),s}addShaderParamColor(t,e,i){this.materials&&0!=this.materials.length||console.warn("Adding shader param to param group that has no materials");const s=new va(this,t,e,this.materials,i);return this.params.push(s),s}addParamText(t,e,i=null){const s=new ya(this,t,e,null,i);return this.params.push(s),s}addButton(t,e=null){const i=new ma(this,t,e);return this.params.push(i),i}getParameters(){let t=[];for(const e of this.children)t=t.concat(e.getParameters());for(const e of this.params)t.push(e);return t}static destruct(){Ea._usedGroupNames=[],Ea._id=0}destruct(){if(this.params)for(let t=0;t<this.params.length;t++)this.params[t].isDestructed||this.params[t].destruct();if(this.children)for(let t=0;t<this.children.length;t++)this.children[t].isDestructed||this.children[t].destruct(),this.children[t].destruct();super.destruct()}}Ea._id=0,Ea._usedGroupNames=[];var ba=i(491);class Ra extends Ea{constructor(t,e,i,s,a=null,n="unnamed",r){super(),this.init(t,a),this._value=e,this._shaderParam=n,this._x=this.addShaderParamFloat("_X",e.x,i.x,s.x,t=>{this._value.x=t,this.setShaderValue(),r(this._value)}),this._y=this.addShaderParamFloat("_Y",e.y,i.y,s.y,t=>{this._value.y=t,this.setShaderValue(),r(this._value)}),this._z=this.addShaderParamFloat("_Z",e.z,i.z,s.z,t=>{this._value.z=t,this.setShaderValue(),r(this._value)}),this.setShaderValue()}setShaderValue(){if(!this.materials)throw new ReferenceError("Cannot set shader value: ParamGroup not initialized");for(var t=0;t<this.materials.length;t++)this.materials[t].setVector3(this._shaderParam,this._value)}getValue(){return this._value}setValue(t){this._value=t,this._x.setValue(t.x),this._y.setValue(t.y),this._z.setValue(t.z)}}class xa extends ua{constructor(t=null,e=!0,i={}){super(),this._params={},this._uniqueNames=[],this.folderIndex=-2,t&&t.add(this),this._jsonExportEnabled=e,this._params=i}load(t){t.call(this)}init(t){this._rootGroup=t;let e={};return this._gui=new ba.a(this._params),this.readGroup(null,t,e,this._gui),this._jsonExportEnabled&&this._gui.remember(e),this.setVisible(!0),this._gui}getDatGUI(){return this._gui}setPreset(t){if(!this._gui)throw new Error("Cannot set preset: DatGui not initialized");this.folderIndex=-2,this.setPresetRecurse(this._gui.__folders.controls,t.remembered.Default)}setPresetRecurse(t,e){this.folderIndex++;var i=e[this.folderIndex];if("undefined"!==typeof i)for(let a of t.__controllers){var s=i[a.property];"undefined"!==typeof s&&a.setValue(s)}for(let a of Object.keys(t.__folders)){let i=t.__folders[a];this.setPresetRecurse(i,e)}}readGroup(t,e,i,s){if(!e.name)throw new Error("group name not initialized");if(!this._gui)throw new Error("cannot read group: DatGui not initialized");let a=this.uniqueName(s.__folders,e.name),n=s.addFolder(a);e.collapsed||n.open();for(let r of e.params){const t=this.uniqueName(i,r.name);let e;if(this._uniqueNames[r.id]=t,void 0==i[t]?i[t]=r.value:console.log("property "+t+" already exists on param object",i),r instanceof Aa){const s=r;e=n.add(i,t,s.min,s.max)}else if(r instanceof Ta){const s=r;e=n.add(i,t,s.min,s.max).step(1)}else if(r instanceof fa)e=n.add(i,t);else if(r instanceof ma)e=n.add(i,t);else if(r instanceof Ra)e=n.add(i,t);else if(r instanceof va)e=n.addColor(i,t);else if(r instanceof ya)e=n.add(i,t);else if(void 0===e)throw new TypeError("Unknown type of parameter");r instanceof ma||this.addHandlers(e,i,r)}for(let r of e.children){let t={};this._jsonExportEnabled&&this._gui.remember(t),this.readGroup(e,r,t,n)}}uniqueName(t,e){return e in t?this.uniqueName(t,"_"+e):e}addHandlers(t,e,i){i.setUpdateUICallback(t=>{e[this._uniqueNames[i.id]]=t}),t.listen(),t.onChange(t=>{e[this._uniqueNames[i.id]]=t,i.setFromUI(t)}),t.onFinishChange=t=>i.setFromUI(t)}setVisible(t){if(!this._gui)throw new Error("cannot set visible: DatGui not initialized");this._visible=t,this._gui.domElement.parentElement&&(this._gui.domElement.parentElement.style.zIndex=(t?999:0).toString(),this._gui.domElement.parentElement.style.visibility=(t?"visible":"hidden").toString())}destruct(){this._gui&&(this._gui.domElement.parentElement&&this._gui.domElement.parentElement.removeChild(this._gui.domElement),delete this._gui),super.destruct()}}class wa extends ua{constructor(t){super(),this.pixelRatio=1,this._canvasParent=t,t&&t.offsetWidth*t.offsetHeight<1&&console.error("canvasParent has no area",t),this.canvas=this.prepareCanvas(t),window.devicePixelRatio&&(this.pixelRatio=window.devicePixelRatio)}prepareCanvas(t){const e=document.createElement("canvas");return e.setAttribute("id","canvas"),e.style.position="absolute",e.style.left="0px",e.style.top="0px",t&&(e.style.width=t.offsetWidth+"px",e.style.height=t.offsetHeight+"px",t.appendChild(e)),e}get canvasParent(){return this._canvasParent}update(t){if(this.canvasParent){const t=this.canvasParent.getBoundingClientRect();let e=t.width,i=t.height;if(e*i>0)return this.setSize(e,i);console.warn("canvasParent has no area",this._canvasParent)}return!1}setSize(t,e){if(this.canvas.width!==(t*this.pixelRatio|0)||this.canvas.height!==(e*this.pixelRatio|0)){this.canvas.width=t*this.pixelRatio|0,this.canvas.height=e*this.pixelRatio|0,this.canvas.style.width=t+"px",this.canvas.style.height=e+"px";const i=document.createEvent("Event");return i.initEvent("resize",!1,!0),this.canvas.dispatchEvent(i),!0}return!1}destruct(){this.canvas.width=1,this.canvas.height=1,this._canvasParent&&this._canvasParent.removeChild(this.canvas),super.destruct()}}class Oa extends ua{constructor(){super(...arguments),this.loadsRequested=[],this.loadsCompleted=0,this.progress=0,this._loading=!1,this.progressCallBack=void 0,this.callbackPerPreloadable=[]}add(t,e){const i=this.loadsRequested.push(t)-1;return this.callbackPerPreloadable.push(e),this.loading&&this.startLoader(i),t}load(t,e){this.callback=t,this.progressCallBack=e,this.loadAll()}get loading(){return this._loading}loadAll(){if(0!==this.loadsRequested.length){this._loading=!0;for(let t=0;t<this.loadsRequested.length;t++)this.startLoader(t)}else this.loadDoneCallback()}setCallbackForPreloadable(t,e){this.callbackPerPreloadable[this.getIndexOfPreloadable(t)]=e}getIndexOfPreloadable(t){return this.loadsRequested.indexOf(t)}startLoader(t){this.loadsRequested[t].load(()=>{const e=this.callbackPerPreloadable[t];e&&e(),this.loadDoneCallback()})}loadDoneCallback(){this.loadsCompleted++,this.progress+=(1-this.progress)/(1+this.loadsRequested.length-this.loadsCompleted),this.progressCallBack&&(this.loadsRequested.length?this.progressCallBack.call(this,this.progress):this.progressCallBack.call(this,1)),this.loadsCompleted>=this.loadsRequested.length&&(this._loading=!1,this.callback&&(this.callback.call(this),this.callback=null))}destruct(){this.callback=void 0,super.destruct()}}class Sa{constructor(t){this.MAX_VERTEX_ATTRIBS=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.MAX_VARYING_VECTORS=t.getParameter(t.MAX_VARYING_VECTORS),this.MAX_VERTEX_UNIFORM_VECTORS=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),this.MAX_FRAGMENT_UNIFORM_VECTORS=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),this.MAX_TEXTURE_IMAGE_UNITS=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),this.MAX_VERTEX_TEXTURE_IMAGE_UNITS=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),this.MAX_TEXTURE_SIZE=t.getParameter(t.MAX_TEXTURE_SIZE),this.MAX_CUBE_MAP_TEXTURE_SIZE=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),this.MAX_VIEWPORT_DIMS=t.getParameter(t.MAX_VIEWPORT_DIMS),this.MAX_RENDERBUFFER_SIZE=t.getParameter(t.MAX_RENDERBUFFER_SIZE),this.MAX_COMBINED_TEXTURE_IMAGE_UNITS=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);const e=t.getExtension("WEBGL_debug_renderer_info");this.UNMASKED_RENDERER=e&&t.getParameter(e.UNMASKED_RENDERER_WEBGL),this.UNMASKED_VENDOR=e&&t.getParameter(e.UNMASKED_VENDOR_WEBGL);for(const i in this)this.hasOwnProperty(i)&&da.log(i,this[i])}}class Ia{constructor(t=0,e=0,i=0,s=1){this.x=t,this.y=e,this.z=i,this.w=s}clone(){return new Ia(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this}setValues(t,e,i,s){return this.x=t,this.y=e,this.z=i,this.w=s,this}toString(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}normalize(){let t=this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w;return t>0&&(t=1/Math.sqrt(t)),this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this.w/=t.w,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}subtract(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}dot(t){return t.x*t.x+t.y*t.y+t.z*t.z+t.w*t.w}transform(t){const e=this.x,i=this.y,s=this.z,a=this.w,n=t.m;return this.x=n[0]*e+n[4]*i+n[8]*s+n[12]*a,this.y=n[1]*e+n[5]*i+n[9]*s+n[13]*a,this.z=n[2]*e+n[6]*i+n[10]*s+n[14]*a,this.w=n[3]*e+n[7]*i+n[11]*s+n[15]*a,this}static dot(t,e){return t.x*e.x+t.y*e.y+t.z*e.z+t.w*e.w}static distance(t,e){const i=e.x-t.x,s=e.y-t.y,a=e.z-t.z,n=e.w-t.w;return Math.sqrt(i*i+s*s+a*a+n*n)}static add(t,e){const i=new Ia;return i.x=t.x+e.x,i.y=t.y+e.y,i.z=t.z+e.z,i.w=t.w+e.w,i}static subtract(t,e){const i=new Ia;return i.x=t.x-e.x,i.y=t.y-e.y,i.z=t.z-e.z,i.w=t.w-e.w,i}static multiply(t,e){const i=new Ia;return i.x=t.x*e.x,i.y=t.y*e.y,i.z=t.z*e.z,i.w=t.w*e.w,i}static divide(t,e){const i=new Ia;return i.x=t.x/e.x,i.y=t.y/e.y,i.z=t.z/e.z,i.w=t.w/e.w,i}static scale(t,e){const i=new Ia;return i.x=t.x*e,i.y=t.y*e,i.z=t.z*e,i.w=t.w*e,i}static normalize(t){let e=t.x*t.x+t.y*t.y+t.z*t.z+t.w*t.w;return e>0&&(e=1/Math.sqrt(e)),t.clone().multiplyScalar(e)}static cross(t,e,i){const s=e.x*i.y-e.y*i.x,a=e.x*i.z-e.z*i.x,n=e.x*i.w-e.w*i.x,r=e.y*i.z-e.z*i.y,o=e.y*i.w-e.w*i.y,l=e.z*i.w-e.w*i.z,c=t.x,h=t.y,d=t.z,u=t.w,p=new Ia;return p.x=h*l-d*o+u*r,p.y=-c*l+d*n-u*a,p.z=c*o-h*n+u*s,p.w=-c*r+h*a-d*s,p}static lerp(t,e,i){const s=t.x,a=t.y,n=t.z,r=t.w,o=new Ia;return o.x=s+i*(e.x-s),o.y=a+i*(e.y-a),o.z=n+i*(e.z-n),o.w=r+i*(e.w-r),o}static transform(t,e){return t.clone().transform(e)}static transformQuat(t,e){const i=t.x,s=t.y,a=t.z,n=e.x,r=e.y,o=e.z,l=e.w,c=l*i+r*a-o*s,h=l*s+o*i-n*a,d=l*a+n*s-r*i,u=-n*i-r*s-o*a,p=new Ia;return p.x=c*l+u*-n+h*-o-d*-r,p.y=h*l+u*-r+d*-n-c*-o,p.z=d*l+u*-o+c*-r-h*-n,p.w=t.w,p}}Ia.ZERO=new Ia(0,0,0,0);class Ma extends Ia{get r(){return this.x}get g(){return this.y}get b(){return this.z}get a(){return this.w}set r(t){this.x=t}set g(t){this.y=t}set b(t){this.z=t}set a(t){this.w=t}toRGBString(){return"rgb("+Math.round(255*this.r)+","+Math.round(255*this.g)+","+Math.round(255*this.b)+")"}static componentToHex(t){const e=(255*t|0).toString(16);return 1===e.length?"0"+e:e}getHex(){return"#"+Ma.componentToHex(this.r)+Ma.componentToHex(this.g)+Ma.componentToHex(this.b)}setRGBA255(t){return this.r=t[0]/255,this.g=t[1]/255,this.b=t[2]/255,this.a=t[3],this}getRGBA255(){return[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b),this.a]}setFromHex(t){t=t.replace(/[^0-9A-F]/gi,"");const e=parseInt(t,16);return this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this.a=1,this}static fromHex(t){return(new Ma).setFromHex(t)}static fromRGB255(t){const e=new Ma;return e.setRGBA255(t),e}static getRandom(){return new Ma(Math.random(),Math.random(),Math.random())}static colorFromString(t){const e=[],i=[];i[0]=t.substr(0,Math.floor(t.length/3)),i[1]=t.substr(Math.floor(t.length/3),Math.floor(2*t.length/3)),i[2]=t.substr(Math.floor(2*t.length/3),t.length);for(let s=0;s<i.length;s++)for(let t=0;t<i[s].length;t++)s in e||(e[s]=0),e[s]+=i[s].charCodeAt(t);return new Ma(e[0]/128%1,e[1]/128%1,e[2]/128%1,1)}static fromHSV(t,e,i){return(new Ma).setFromHSV(t,e,i)}setFromHSV(t,e,i){let s=0,a=0,n=0;const r=Math.floor(6*t),o=6*t-r,l=i*(1-e),c=i*(1-o*e),h=i*(1-(1-o)*e);switch(r%6){case 0:s=i,a=h,n=l;break;case 1:s=c,a=i,n=l;break;case 2:s=l,a=i,n=h;break;case 3:s=l,a=c,n=i;break;case 4:s=h,a=l,n=i;break;case 5:s=i,a=l,n=c}return this.r=s,this.g=a,this.b=n,this}getRgbaString(){return"rgba("+Math.round(255*this.r)+", "+Math.round(255*this.g)+", "+Math.round(255*this.b)+", "+this.a+")"}toVector3(){return new ga(this.x,this.y,this.z)}}class Ca{}Ca.ACTIVE_ATTRIBUTES=35721,Ca.ACTIVE_ATTRIBUTE_MAX_LENGTH=35722,Ca.ACTIVE_TEXTURE=34016,Ca.ACTIVE_UNIFORMS=35718,Ca.ACTIVE_UNIFORM_MAX_LENGTH=35719,Ca.ALIASED_LINE_WIDTH_RANGE=33902,Ca.ALIASED_POINT_SIZE_RANGE=33901,Ca.ALPHA=6406,Ca.ALPHA_BITS=3413,Ca.ALWAYS=519,Ca.ARRAY_BUFFER=34962,Ca.ARRAY_BUFFER_BINDING=34964,Ca.ATTACHED_SHADERS=35717,Ca.BACK=1029,Ca.BLEND=3042,Ca.BLEND_COLOR=32773,Ca.BLEND_DST_ALPHA=32970,Ca.BLEND_DST_RGB=32968,Ca.BLEND_EQUATION=32777,Ca.BLEND_EQUATION_ALPHA=34877,Ca.BLEND_EQUATION_RGB=32777,Ca.BLEND_SRC_ALPHA=32971,Ca.BLEND_SRC_RGB=32969,Ca.BLUE_BITS=3412,Ca.BOOL=35670,Ca.BOOL_VEC2=35671,Ca.BOOL_VEC3=35672,Ca.BOOL_VEC4=35673,Ca.BROWSER_DEFAULT_WEBGL=37444,Ca.BUFFER_SIZE=34660,Ca.BUFFER_USAGE=34661,Ca.BYTE=5120,Ca.CCW=2305,Ca.CLAMP_TO_EDGE=33071,Ca.COLOR_ATTACHMENT0=36064,Ca.COLOR_BUFFER_BIT=16384,Ca.COLOR_CLEAR_VALUE=3106,Ca.COLOR_WRITEMASK=3107,Ca.COMPILE_STATUS=35713,Ca.COMPRESSED_TEXTURE_FORMATS=34467,Ca.CONSTANT_ALPHA=32771,Ca.CONSTANT_COLOR=32769,Ca.CONTEXT_LOST_WEBGL=37442,Ca.CULL_FACE=2884,Ca.CULL_FACE_MODE=2885,Ca.CURRENT_PROGRAM=35725,Ca.CURRENT_VERTEX_ATTRIB=34342,Ca.CW=2304,Ca.DECR=7683,Ca.DECR_WRAP=34056,Ca.DELETE_STATUS=35712,Ca.DEPTH_ATTACHMENT=36096,Ca.DEPTH_BITS=3414,Ca.DEPTH_BUFFER_BIT=256,Ca.DEPTH_CLEAR_VALUE=2931,Ca.DEPTH_COMPONENT=6402,Ca.DEPTH_COMPONENT16=33189,Ca.DEPTH_FUNC=2932,Ca.DEPTH_RANGE=2928,Ca.DEPTH_STENCIL=34041,Ca.DEPTH_STENCIL_ATTACHMENT=33306,Ca.DEPTH_TEST=2929,Ca.DEPTH_WRITEMASK=2930,Ca.DITHER=3024,Ca.DONT_CARE=4352,Ca.DST_ALPHA=772,Ca.DST_COLOR=774,Ca.DYNAMIC_DRAW=35048,Ca.ELEMENT_ARRAY_BUFFER=34963,Ca.ELEMENT_ARRAY_BUFFER_BINDING=34965,Ca.EQUAL=514,Ca.FASTEST=4353,Ca.FLOAT=5126,Ca.FLOAT_MAT2=35674,Ca.FLOAT_MAT3=35675,Ca.FLOAT_MAT4=35676,Ca.FLOAT_VEC2=35664,Ca.FLOAT_VEC3=35665,Ca.FLOAT_VEC4=35666,Ca.FRAGMENT_SHADER=35632,Ca.FRAMEBUFFER=36160,Ca.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,Ca.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,Ca.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,Ca.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,Ca.FRAMEBUFFER_BINDING=36006,Ca.FRAMEBUFFER_COMPLETE=36053,Ca.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,Ca.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,Ca.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,Ca.FRAMEBUFFER_UNSUPPORTED=36061,Ca.FRONT=1028,Ca.FRONT_AND_BACK=1032,Ca.FRONT_FACE=2886,Ca.FUNC_ADD=32774,Ca.FUNC_REVERSE_SUBTRACT=32779,Ca.FUNC_SUBTRACT=32778,Ca.GENERATE_MIPMAP_HINT=33170,Ca.GEQUAL=518,Ca.GREATER=516,Ca.GREEN_BITS=3411,Ca.HIGH_FLOAT=36338,Ca.HIGH_INT=36341,Ca.INCR=7682,Ca.INCR_WRAP=34055,Ca.INFO_LOG_LENGTH=35716,Ca.INT=5124,Ca.INT_VEC2=35667,Ca.INT_VEC3=35668,Ca.INT_VEC4=35669,Ca.INVALID_ENUM=1280,Ca.INVALID_FRAMEBUFFER_OPERATION=1286,Ca.INVALID_OPERATION=1282,Ca.INVALID_VALUE=1281,Ca.INVERT=5386,Ca.KEEP=7680,Ca.LEQUAL=515,Ca.LESS=513,Ca.LINEAR=9729,Ca.LINEAR_MIPMAP_LINEAR=9987,Ca.LINEAR_MIPMAP_NEAREST=9985,Ca.LINES=1,Ca.LINE_LOOP=2,Ca.LINE_STRIP=3,Ca.LINE_WIDTH=2849,Ca.LINK_STATUS=35714,Ca.LOW_FLOAT=36336,Ca.LOW_INT=36339,Ca.LUMINANCE=6409,Ca.LUMINANCE_ALPHA=6410,Ca.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,Ca.MAX_CUBE_MAP_TEXTURE_SIZE=34076,Ca.MAX_FRAGMENT_UNIFORM_VECTORS=36349,Ca.MAX_RENDERBUFFER_SIZE=34024,Ca.MAX_TEXTURE_IMAGE_UNITS=34930,Ca.MAX_TEXTURE_SIZE=3379,Ca.MAX_VARYING_VECTORS=36348,Ca.MAX_VERTEX_ATTRIBS=34921,Ca.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,Ca.MAX_VERTEX_UNIFORM_VECTORS=36347,Ca.MAX_VIEWPORT_DIMS=3386,Ca.MEDIUM_FLOAT=36337,Ca.MEDIUM_INT=36340,Ca.MIRRORED_REPEAT=33648,Ca.NEAREST=9728,Ca.NEAREST_MIPMAP_LINEAR=9986,Ca.NEAREST_MIPMAP_NEAREST=9984,Ca.NEVER=512,Ca.NICEST=4354,Ca.NONE=0,Ca.NOTEQUAL=517,Ca.NO_ERROR=0,Ca.NUM_COMPRESSED_TEXTURE_FORMATS=34466,Ca.ONE=1,Ca.ONE_MINUS_CONSTANT_ALPHA=32772,Ca.ONE_MINUS_CONSTANT_COLOR=32770,Ca.ONE_MINUS_DST_ALPHA=773,Ca.ONE_MINUS_DST_COLOR=775,Ca.ONE_MINUS_SRC_ALPHA=771,Ca.ONE_MINUS_SRC_COLOR=769,Ca.OUT_OF_MEMORY=1285,Ca.PACK_ALIGNMENT=3333,Ca.POINTS=0,Ca.POLYGON_OFFSET_FACTOR=32824,Ca.POLYGON_OFFSET_FILL=32823,Ca.POLYGON_OFFSET_UNITS=10752,Ca.RED_BITS=3410,Ca.RENDERBUFFER=36161,Ca.RENDERBUFFER_ALPHA_SIZE=36179,Ca.RENDERBUFFER_BINDING=36007,Ca.RENDERBUFFER_BLUE_SIZE=36178,Ca.RENDERBUFFER_DEPTH_SIZE=36180,Ca.RENDERBUFFER_GREEN_SIZE=36177,Ca.RENDERBUFFER_HEIGHT=36163,Ca.RENDERBUFFER_INTERNAL_FORMAT=36164,Ca.RENDERBUFFER_RED_SIZE=36176,Ca.RENDERBUFFER_STENCIL_SIZE=36181,Ca.RENDERBUFFER_WIDTH=36162,Ca.RENDERER=7937,Ca.REPEAT=10497,Ca.REPLACE=7681,Ca.RGB=6407,Ca.RGB5_A1=32855,Ca.RGB565=36194,Ca.RGBA=6408,Ca.RGBA4=32854,Ca.SAMPLER_2D=35678,Ca.SAMPLER_CUBE=35680,Ca.SAMPLES=32937,Ca.SAMPLE_ALPHA_TO_COVERAGE=32926,Ca.SAMPLE_BUFFERS=32936,Ca.SAMPLE_COVERAGE=32928,Ca.SAMPLE_COVERAGE_INVERT=32939,Ca.SAMPLE_COVERAGE_VALUE=32938,Ca.SCISSOR_BOX=3088,Ca.SCISSOR_TEST=3089,Ca.SHADER_COMPILER=36346,Ca.SHADER_SOURCE_LENGTH=35720,Ca.SHADER_TYPE=35663,Ca.SHADING_LANGUAGE_VERSION=35724,Ca.SHORT=5122,Ca.SRC_ALPHA=770,Ca.SRC_ALPHA_SATURATE=776,Ca.SRC_COLOR=768,Ca.STATIC_DRAW=35044,Ca.STENCIL_ATTACHMENT=36128,Ca.STENCIL_BACK_FAIL=34817,Ca.STENCIL_BACK_FUNC=34816,Ca.STENCIL_BACK_PASS_DEPTH_FAIL=34818,Ca.STENCIL_BACK_PASS_DEPTH_PASS=34819,Ca.STENCIL_BACK_REF=36003,Ca.STENCIL_BACK_VALUE_MASK=36004,Ca.STENCIL_BACK_WRITEMASK=36005,Ca.STENCIL_BITS=3415,Ca.STENCIL_BUFFER_BIT=1024,Ca.STENCIL_CLEAR_VALUE=2961,Ca.STENCIL_FAIL=2964,Ca.STENCIL_FUNC=2962,Ca.STENCIL_INDEX=6401,Ca.STENCIL_INDEX8=36168,Ca.STENCIL_PASS_DEPTH_FAIL=2965,Ca.STENCIL_PASS_DEPTH_PASS=2966,Ca.STENCIL_REF=2967,Ca.STENCIL_TEST=2960,Ca.STENCIL_VALUE_MASK=2963,Ca.STENCIL_WRITEMASK=2968,Ca.STREAM_DRAW=35040,Ca.SUBPIXEL_BITS=3408,Ca.TEXTURE=5890,Ca.TEXTURE0=33984,Ca.TEXTURE1=33985,Ca.TEXTURE2=33986,Ca.TEXTURE3=33987,Ca.TEXTURE4=33988,Ca.TEXTURE5=33989,Ca.TEXTURE6=33990,Ca.TEXTURE7=33991,Ca.TEXTURE8=33992,Ca.TEXTURE9=33993,Ca.TEXTURE10=33994,Ca.TEXTURE11=33995,Ca.TEXTURE12=33996,Ca.TEXTURE13=33997,Ca.TEXTURE14=33998,Ca.TEXTURE15=33999,Ca.TEXTURE16=34e3,Ca.TEXTURE17=34001,Ca.TEXTURE18=34002,Ca.TEXTURE19=34003,Ca.TEXTURE20=34004,Ca.TEXTURE21=34005,Ca.TEXTURE22=34006,Ca.TEXTURE23=34007,Ca.TEXTURE24=34008,Ca.TEXTURE25=34009,Ca.TEXTURE26=34010,Ca.TEXTURE27=34011,Ca.TEXTURE28=34012,Ca.TEXTURE29=34013,Ca.TEXTURE30=34014,Ca.TEXTURE31=34015,Ca.TEXTURE_2D=3553,Ca.TEXTURE_BINDING_2D=32873,Ca.TEXTURE_BINDING_CUBE_MAP=34068,Ca.TEXTURE_CUBE_MAP=34067,Ca.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,Ca.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,Ca.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,Ca.TEXTURE_CUBE_MAP_POSITIVE_X=34069,Ca.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,Ca.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,Ca.TEXTURE_MAG_FILTER=10240,Ca.TEXTURE_MIN_FILTER=10241,Ca.TEXTURE_WRAP_S=10242,Ca.TEXTURE_WRAP_T=10243,Ca.TRIANGLES=4,Ca.TRIANGLE_FAN=6,Ca.TRIANGLE_STRIP=5,Ca.UNPACK_ALIGNMENT=3317,Ca.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,Ca.UNPACK_FLIP_Y_WEBGL=37440,Ca.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,Ca.UNSIGNED_BYTE=5121,Ca.UNSIGNED_INT=5125,Ca.UNSIGNED_SHORT=5123,Ca.UNSIGNED_SHORT_4_4_4_4=32819,Ca.UNSIGNED_SHORT_5_5_5_1=32820,Ca.UNSIGNED_SHORT_5_6_5=33635,Ca.VALIDATE_STATUS=35715,Ca.VENDOR=7936,Ca.VERSION=7938,Ca.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,Ca.VERTEX_ATTRIB_ARRAY_ENABLED=34338,Ca.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,Ca.VERTEX_ATTRIB_ARRAY_POINTER=34373,Ca.VERTEX_ATTRIB_ARRAY_SIZE=34339,Ca.VERTEX_ATTRIB_ARRAY_STRIDE=34340,Ca.VERTEX_ATTRIB_ARRAY_TYPE=34341,Ca.VERTEX_SHADER=35633,Ca.VIEWPORT=2978,Ca.ZERO=0;var La=Ca;class Pa{constructor(t=0,e=0){this.x=t,this.y=e}clone(){return new Pa(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}setValues(t,e){return this.x=t,this.y=e,this}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}toString(){return this.x+","+this.y}equals(t){return t.x===this.x&&t.y===this.y}normalize(){let t=this.x*this.x+this.y*this.y;return t>0&&(t=1/Math.sqrt(t)),this.x*=t,this.y*=t,this}negate(){return this.x=-this.x,this.y=-this.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}multiplyMatrix(t){const e=t.m,i=e[0]*this.x+e[2]*this.y,s=e[1]*this.x+e[3]*this.y;return this.setValues(i,s)}multiply(t){return this.x*=t.x,this.y*=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}subtract(t){return this.x-=t.x,this.y-=t.y,this}subtractScalar(t){return this.x-=t,this.y-=t,this}rotate(t,e){const i=Math.sin(e),s=Math.cos(e);this.x-=t.x,this.y-=t.y;const a=this.x*s-this.y*i,n=this.x*i+this.y*s;return this.x=a+t.x,this.y=n+t.y,this}randomize(){return this.x=2*Math.random()-1,this.y=2*Math.random()-1,this}randomize01(){return this.x=Math.random(),this.y=Math.random(),this}randomizeDisc(){do{this.randomize()}while(this.length()>1);return this}static dot(t,e){return t.x*e.x+t.y*e.y}static distance(t,e){const i=t.x-e.x,s=t.y-e.y;return Math.sqrt(i*i+s*s)}static transformMat2(t,e){const i=t.x,s=t.y,a=e.m,n=new Pa;return n.x=a[0]*i+a[2]*s+a[4],n.y=a[1]*i+a[3]*s+a[5],n}static transformMat3(t,e){const i=t.x,s=t.y,a=e.m,n=new Pa;return n.x=a[0]*i+a[3]*s+a[6],n.y=a[1]*i+a[4]*s+a[7],n}static transformMat4(t,e){const i=t.x,s=t.y,a=e.m,n=new Pa;return n.x=a[0]*i+a[4]*s+a[12],n.y=a[1]*i+a[5]*s+a[13],n}static multiplyScalar(t,e){const i=new Pa;return i.x=t.x*e,i.y=t.y*e,i}static add(t,e){return new Pa(t.x+e.x,t.y+e.y)}static subtract(t,e){return new Pa(t.x-e.x,t.y-e.y)}static lerp(t,e,i){const s=t.x,a=t.y;return new Pa(s+i*(e.x-s),a+i*(e.y-a))}static fract(t){return Pa.subtract(t,Pa.floor(t))}static floor(t){return new Pa(Math.floor(t.x),Math.floor(t.y))}}var Na=class extends ua{constructor(t,e,i=0){if(super(),this._loc=t.getUniformLocation(e),this._loc||da.log("FloatUniform: uniform does not exist on shader: ",t.name,e),!t.shader.program)throw new ReferenceError("Cannot construct FloatUniform from material: material shader is not yet initialized.");this._renderer=t.renderer,this._program=t.shader.program,this.value=i}set value(t){t!=this._value&&(this._value=t,this._renderer.renderState.setProgram(this._program),this._renderer.context.uniform1f(this._loc,this._value))}get value(){return this._value}destruct(){super.destruct()}};var Da=class{constructor(t,e,i=new Pa){if(this._value=i,this._loc=t.getUniformLocation(e),this._loc||da.log("FloatUniform: uniform does not exist on shader: ",e),!t.shader.program)throw new ReferenceError("Cannot construct Vector2Uniform from material: material shader is not yet initialized.");this._renderer=t.renderer,this._program=t.shader.program}set(t){t.x==this._value.x&&t.y==this._value.y||(this._value=t,this._renderer.renderState.setProgram(this._program),this._renderer.context.uniform2f(this._loc,this._value.x,this._value.y))}getValue(){return this._value}};var Ba=class{constructor(t,e,i=new ga){if(this._value=new ga,this._loc=t.getUniformLocation(e),this._loc||da.log("FloatUniform: uniform does not exist on shader: ",e),!t.shader.program)throw new ReferenceError("Cannot construct Vector3Uniform from material: material shader is not yet initialized.");this._renderer=t.renderer,this._program=t.shader.program}set(t){t.x==this._value.x&&t.y==this._value.y&&t.z==this._value.z||(this._value.copy(t),this._renderer.renderState.setProgram(this._program),this._renderer.context.uniform3f(this._loc,this._value.x,this._value.y,this._value.z))}getValue(){return this._value}};class Fa extends ua{constructor(t,e,i){super(),this._shaderDefines={},this.drawType=La.TRIANGLES,this.depthTest=!0,this.depthWrite=!0,this.alphaToCoverage=!1,this.blend=!1,this.culling=La.BACK,this.blendFuncSeparate=!1,this.renderer=t,this.name=e,this.shader=i,this.id=Fa.staticId++,this.setDefaultBlending()}setActive(){this.renderer.renderState.setProgram(this.shader.program),this.shader.getTextureUniforms().forEach(t=>t.bind()),this.renderer.renderState.material=this,this.renderer.renderState.setAlphaToCoverage(this.alphaToCoverage),this.renderer.renderState.setDepthTest(this.depthTest),this.renderer.renderState.setDepthMask(this.depthWrite),this.depthFunc&&this.renderer.renderState.setDepthFunc(this.depthFunc),this.renderer.renderState.setCulling(this.culling),this.renderer.renderState.setBlendEnabled(this.blend),this.blend&&(this.renderer.renderState.setBlendEquation(this.blendEquation),this.renderer.renderState.setBlendFunc(this.sourceBlend,this.destinationBlend))}setDefaultBlending(){this.depthTest=!0,this.depthWrite=!0,this.blend=!1,this.blendEquation=La.FUNC_ADD,this.sourceBlend=La.ZERO,this.destinationBlend=La.ONE}setAlphaBlending(){this.depthWrite=!1,this.depthTest=!0,this.blend=!0,this.blendEquation=La.FUNC_ADD,this.setBlendUnified(La.SRC_ALPHA,La.ONE_MINUS_SRC_ALPHA)}setPreMultipliedAlphaBlending(){this.depthWrite=!1,this.depthTest=!0,this.blend=!0,this.blendEquation=La.FUNC_ADD,this.setBlendUnified(La.ONE,La.ONE_MINUS_SRC_ALPHA)}setMaxBlending(){this.depthWrite=!1,this.depthTest=!1,this.blend=!0,this.blendEquation=32776,this.sourceBlend=La.ONE,this.destinationBlend=La.ONE,this.setBlendUnified(La.ONE,La.ONE)}setAdditiveBlending(){this.depthWrite=!1,this.depthTest=!0,this.blend=!0,this.blendEquation=La.FUNC_ADD,this.setBlendUnified(La.ONE,La.ONE)}setMultiplyBlending(){this.depthWrite=!1,this.depthTest=!0,this.blend=!0,this.blendEquation=La.FUNC_ADD,this.setBlendUnified(La.ZERO,La.SRC_COLOR)}setSubtractiveBlending(){this.depthWrite=!1,this.depthTest=!1,this.blend=!0,this.blendEquation=La.FUNC_SUBTRACT,this.setBlendUnified(La.ONE,La.ONE_MINUS_SRC_ALPHA)}setBlendUnified(t,e){this.blendFuncSeparate=!1,this.sourceBlend=t,this.destinationBlend=e}setBlendSeparate(t,e,i,s){this.blendFuncSeparate=!0,this.sourceBlendRGB=t,this.sourceBlendAlpha=i,this.destinationBlendRGB=e,this.destinationBlendAlpha=s}setCullingBackFace(){this.culling=La.BACK}setCullingFrontFace(){this.culling=La.FRONT}setCullingDisabled(){this.culling=La.NONE}setDrawTypePoints(){this.drawType=La.POINTS}setDrawTypeLines(){this.drawType=La.LINES}setDrawTypeLineStrip(){this.drawType=La.LINE_STRIP}setDrawTypeTriangles(){this.drawType=La.TRIANGLES}setDrawTypeTriangleFan(){this.drawType=La.TRIANGLE_FAN}setDrawTypeTriangleStrip(){this.drawType=La.TRIANGLE_STRIP}setFloat(t,e){const i=this.getUniformLocation(t);i&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniform1f(i,e))}setInt(t,e){const i=this.getUniformLocation(t);i&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniform1i(i,e))}setFloats(t,e=0,i=0,s=0,a=0){const n=this.getUniformLocation(t);n&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniform4f(n,e,i,s,a))}setMatrix(t,e){const i=this.getUniformLocation(t);i&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniformMatrix4fv(i,!1,e.m))}setMatrix3x3(t,e){const i=this.getUniformLocation(t);i&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniformMatrix3fv(i,!1,e.m))}setMatrix2x2(t,e){const i=this.getUniformLocation(t);i&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniformMatrix2fv(i,!1,e.m))}setMatrixArray(t,e){for(let i=0;i<e.length;i++){const s=t+"["+i+"]";this.setMatrix(s,e[i])}}setMatrixArray2(t,e){const i=this.getUniformLocation(t);i&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniformMatrix4fv(i,!1,e.m))}setMatrixFloatArray(t,e){const i=this.getUniformLocation(t);i&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniformMatrix4fv(i,!1,e))}setTexture(t,e){const i=this.shader.getTextureUniformByName(t);i&&i.set(e)}unSetTexture(t){const e=this.shader.getTextureUniformByName(t);e&&e.unSet()}setFloat32Array(t,e){const i=this.getUniformLocation(t);i&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniform1fv(i,e))}setInt32Array(t,e){const i=this.getUniformLocation(t);i&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniform1iv(i,e))}setColor(t,e){const i=this.getUniformLocation(t);i&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniform4f(i,e.r,e.g,e.b,e.a))}setVector3(t,e){const i=this.getUniformLocation(t);i&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniform3f(i,e.x,e.y,e.z))}setVector3Array(t,e){const i=this.getUniformLocation(t);i&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniform3fv(i,e))}setVector2(t,e){const i=this.getUniformLocation(t);i&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniform2f(i,e.x,e.y))}setVector2Array(t,e){const i=this.getUniformLocation(t);i&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniform2fv(i,e))}setVector4(t,e){const i=this.getUniformLocation(t);i&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniform4f(i,e.x,e.y,e.z,e.w))}setVector4Array(t,e){const i=this.getUniformLocation(t);i&&(this.renderer.renderState.setProgram(this.shader.program),this.renderer.context.uniform4fv(i,e))}getUniformLocation(t){return this.shader.getUniformLocation(t)}hasUniform(t){return!!this.getUniformLocation(t)}addFloatUniform(t,e=0){return new Na(this,t,e)}addVector2Uniform(t,e=new Pa){return new Da(this,t,e)}addVector3Uniform(t,e=new ga){return new Ba(this,t,e)}addShaderDefines(...t){for(let e=0;e<t.length;e++){const i=t[e]instanceof Array?t[e][0]:t[e],s=t[e]instanceof Array?t[e][1]:1;void 0==this._shaderDefines[i]&&(this._shaderDefines[i]=s)}}getShaderDefines(){return this._shaderDefines}clearShaderDefines(){this._shaderDefines=[]}destruct(){this.isDestructed||this.shader.destruct(),super.destruct()}}Fa.staticId=0;class $a{constructor(t,e,i){this.name=t,this.stride=e,this.loc=i}}class Ua{constructor(t,e,i,s){if(this.texture=void 0,this.name=e,this.samplerIndex=s,!t.program)throw new ReferenceError("Cannot construct TextureUniform from shader: shader is not yet initialized.");t.renderer.renderState.setProgram(t.program),t.renderer.context.uniform1i(i,s)}set(t){this.texture=t}unSet(){this.texture&&this.texture.renderer.renderState.unBindTextureFromSlot(this.texture.textureGL,this.samplerIndex)}bind(){this.texture&&this.texture.bindToSlot(this.samplerIndex)}}class ka{}ka.READ_BUFFER=3074,ka.UNPACK_ROW_LENGTH=3314,ka.UNPACK_SKIP_ROWS=3315,ka.UNPACK_SKIP_PIXELS=3316,ka.PACK_ROW_LENGTH=3330,ka.PACK_SKIP_ROWS=3331,ka.PACK_SKIP_PIXELS=3332,ka.COLOR=6144,ka.DEPTH=6145,ka.STENCIL=6146,ka.RED=6403,ka.RGB8=32849,ka.RGBA8=32856,ka.RGB10_A2=32857,ka.TEXTURE_BINDING_3D=32874,ka.UNPACK_SKIP_IMAGES=32877,ka.UNPACK_IMAGE_HEIGHT=32878,ka.TEXTURE_3D=32879,ka.TEXTURE_WRAP_R=32882,ka.MAX_3D_TEXTURE_SIZE=32883,ka.UNSIGNED_INT_2_10_10_10_REV=33640,ka.MAX_ELEMENTS_VERTICES=33e3,ka.MAX_ELEMENTS_INDICES=33001,ka.TEXTURE_MIN_LOD=33082,ka.TEXTURE_MAX_LOD=33083,ka.TEXTURE_BASE_LEVEL=33084,ka.TEXTURE_MAX_LEVEL=33085,ka.MIN=32775,ka.MAX=32776,ka.DEPTH_COMPONENT24=33190,ka.MAX_TEXTURE_LOD_BIAS=34045,ka.TEXTURE_COMPARE_MODE=34892,ka.TEXTURE_COMPARE_FUNC=34893,ka.CURRENT_QUERY=34917,ka.QUERY_RESULT=34918,ka.QUERY_RESULT_AVAILABLE=34919,ka.STREAM_READ=35041,ka.STREAM_COPY=35042,ka.STATIC_READ=35045,ka.STATIC_COPY=35046,ka.DYNAMIC_READ=35049,ka.DYNAMIC_COPY=35050,ka.MAX_DRAW_BUFFERS=34852,ka.DRAW_BUFFER0=34853,ka.DRAW_BUFFER1=34854,ka.DRAW_BUFFER2=34855,ka.DRAW_BUFFER3=34856,ka.DRAW_BUFFER4=34857,ka.DRAW_BUFFER5=34858,ka.DRAW_BUFFER6=34859,ka.DRAW_BUFFER7=34860,ka.DRAW_BUFFER8=34861,ka.DRAW_BUFFER9=34862,ka.DRAW_BUFFER10=34863,ka.DRAW_BUFFER11=34864,ka.DRAW_BUFFER12=34865,ka.DRAW_BUFFER13=34866,ka.DRAW_BUFFER14=34867,ka.DRAW_BUFFER15=34868,ka.MAX_FRAGMENT_UNIFORM_COMPONENTS=35657,ka.MAX_VERTEX_UNIFORM_COMPONENTS=35658,ka.SAMPLER_3D=35679,ka.SAMPLER_2D_SHADOW=35682,ka.FRAGMENT_SHADER_DERIVATIVE_HINT=35723,ka.PIXEL_PACK_BUFFER=35051,ka.PIXEL_UNPACK_BUFFER=35052,ka.PIXEL_PACK_BUFFER_BINDING=35053,ka.PIXEL_UNPACK_BUFFER_BINDING=35055,ka.FLOAT_MAT2x3=35685,ka.FLOAT_MAT2x4=35686,ka.FLOAT_MAT3x2=35687,ka.FLOAT_MAT3x4=35688,ka.FLOAT_MAT4x2=35689,ka.FLOAT_MAT4x3=35690,ka.SRGB=35904,ka.SRGB8=35905,ka.SRGB8_ALPHA8=35907,ka.COMPARE_REF_TO_TEXTURE=34894,ka.RGBA32F=34836,ka.RGB32F=34837,ka.RGBA16F=34842,ka.RGB16F=34843,ka.VERTEX_ATTRIB_ARRAY_INTEGER=35069,ka.MAX_ARRAY_TEXTURE_LAYERS=35071,ka.MIN_PROGRAM_TEXEL_OFFSET=35076,ka.MAX_PROGRAM_TEXEL_OFFSET=35077,ka.MAX_VARYING_COMPONENTS=35659,ka.TEXTURE_2D_ARRAY=35866,ka.TEXTURE_BINDING_2D_ARRAY=35869,ka.R11F_G11F_B10F=35898,ka.UNSIGNED_INT_10F_11F_11F_REV=35899,ka.RGB9_E5=35901,ka.UNSIGNED_INT_5_9_9_9_REV=35902,ka.TRANSFORM_FEEDBACK_BUFFER_MODE=35967,ka.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=35968,ka.TRANSFORM_FEEDBACK_VARYINGS=35971,ka.TRANSFORM_FEEDBACK_BUFFER_START=35972,ka.TRANSFORM_FEEDBACK_BUFFER_SIZE=35973,ka.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976,ka.RASTERIZER_DISCARD=35977,ka.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=35978,ka.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=35979,ka.INTERLEAVED_ATTRIBS=35980,ka.SEPARATE_ATTRIBS=35981,ka.TRANSFORM_FEEDBACK_BUFFER=35982,ka.TRANSFORM_FEEDBACK_BUFFER_BINDING=35983,ka.RGBA32UI=36208,ka.RGB32UI=36209,ka.RGBA16UI=36214,ka.RGB16UI=36215,ka.RGBA8UI=36220,ka.RGB8UI=36221,ka.RGBA32I=36226,ka.RGB32I=36227,ka.RGBA16I=36232,ka.RGB16I=36233,ka.RGBA8I=36238,ka.RGB8I=36239,ka.RED_INTEGER=36244,ka.RGB_INTEGER=36248,ka.RGBA_INTEGER=36249,ka.SAMPLER_2D_ARRAY=36289,ka.SAMPLER_2D_ARRAY_SHADOW=36292,ka.SAMPLER_CUBE_SHADOW=36293,ka.UNSIGNED_INT_VEC2=36294,ka.UNSIGNED_INT_VEC3=36295,ka.UNSIGNED_INT_VEC4=36296,ka.INT_SAMPLER_2D=36298,ka.INT_SAMPLER_3D=36299,ka.INT_SAMPLER_CUBE=36300,ka.INT_SAMPLER_2D_ARRAY=36303,ka.UNSIGNED_INT_SAMPLER_2D=36306,ka.UNSIGNED_INT_SAMPLER_3D=36307,ka.UNSIGNED_INT_SAMPLER_CUBE=36308,ka.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311,ka.DEPTH_COMPONENT32F=36012,ka.DEPTH32F_STENCIL8=36013,ka.FLOAT_32_UNSIGNED_INT_24_8_REV=36269,ka.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=33296,ka.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=33297,ka.FRAMEBUFFER_ATTACHMENT_RED_SIZE=33298,ka.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=33299,ka.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=33300,ka.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=33301,ka.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=33302,ka.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=33303,ka.FRAMEBUFFER_DEFAULT=33304,ka.DEPTH_STENCIL_ATTACHMENT=33306,ka.DEPTH_STENCIL=34041,ka.UNSIGNED_INT_24_8=34042,ka.DEPTH24_STENCIL8=35056,ka.UNSIGNED_NORMALIZED=35863,ka.DRAW_FRAMEBUFFER_BINDING=36006,ka.READ_FRAMEBUFFER=36008,ka.DRAW_FRAMEBUFFER=36009,ka.READ_FRAMEBUFFER_BINDING=36010,ka.RENDERBUFFER_SAMPLES=36011,ka.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=36052,ka.MAX_COLOR_ATTACHMENTS=36063,ka.COLOR_ATTACHMENT1=36065,ka.COLOR_ATTACHMENT2=36066,ka.COLOR_ATTACHMENT3=36067,ka.COLOR_ATTACHMENT4=36068,ka.COLOR_ATTACHMENT5=36069,ka.COLOR_ATTACHMENT6=36070,ka.COLOR_ATTACHMENT7=36071,ka.COLOR_ATTACHMENT8=36072,ka.COLOR_ATTACHMENT9=36073,ka.COLOR_ATTACHMENT10=36074,ka.COLOR_ATTACHMENT11=36075,ka.COLOR_ATTACHMENT12=36076,ka.COLOR_ATTACHMENT13=36077,ka.COLOR_ATTACHMENT14=36078,ka.COLOR_ATTACHMENT15=36079,ka.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=36182,ka.MAX_SAMPLES=36183,ka.HALF_FLOAT=5131,ka.RG=33319,ka.RG_INTEGER=33320,ka.R8=33321,ka.RG8=33323,ka.R16F=33325,ka.R32F=33326,ka.RG16F=33327,ka.RG32F=33328,ka.R8I=33329,ka.R8UI=33330,ka.R16I=33331,ka.R16UI=33332,ka.R32I=33333,ka.R32UI=33334,ka.RG8I=33335,ka.RG8UI=33336,ka.RG16I=33337,ka.RG16UI=33338,ka.RG32I=33339,ka.RG32UI=33340,ka.VERTEX_ARRAY_BINDING=34229,ka.R8_SNORM=36756,ka.RG8_SNORM=36757,ka.RGB8_SNORM=36758,ka.RGBA8_SNORM=36759,ka.SIGNED_NORMALIZED=36764,ka.COPY_READ_BUFFER=36662,ka.COPY_WRITE_BUFFER=36663,ka.COPY_READ_BUFFER_BINDING=36662,ka.COPY_WRITE_BUFFER_BINDING=36663,ka.UNIFORM_BUFFER=35345,ka.UNIFORM_BUFFER_BINDING=35368,ka.UNIFORM_BUFFER_START=35369,ka.UNIFORM_BUFFER_SIZE=35370,ka.MAX_VERTEX_UNIFORM_BLOCKS=35371,ka.MAX_FRAGMENT_UNIFORM_BLOCKS=35373,ka.MAX_COMBINED_UNIFORM_BLOCKS=35374,ka.MAX_UNIFORM_BUFFER_BINDINGS=35375,ka.MAX_UNIFORM_BLOCK_SIZE=35376,ka.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=35377,ka.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=35379,ka.UNIFORM_BUFFER_OFFSET_ALIGNMENT=35380,ka.ACTIVE_UNIFORM_BLOCKS=35382,ka.UNIFORM_TYPE=35383,ka.UNIFORM_SIZE=35384,ka.UNIFORM_BLOCK_INDEX=35386,ka.UNIFORM_OFFSET=35387,ka.UNIFORM_ARRAY_STRIDE=35388,ka.UNIFORM_MATRIX_STRIDE=35389,ka.UNIFORM_IS_ROW_MAJOR=35390,ka.UNIFORM_BLOCK_BINDING=35391,ka.UNIFORM_BLOCK_DATA_SIZE=35392,ka.UNIFORM_BLOCK_ACTIVE_UNIFORMS=35394,ka.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=35395,ka.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=35396,ka.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=35398,ka.INVALID_INDEX=4294967295,ka.MAX_VERTEX_OUTPUT_COMPONENTS=37154,ka.MAX_FRAGMENT_INPUT_COMPONENTS=37157,ka.MAX_SERVER_WAIT_TIMEOUT=37137,ka.OBJECT_TYPE=37138,ka.SYNC_CONDITION=37139,ka.SYNC_STATUS=37140,ka.SYNC_FLAGS=37141,ka.SYNC_FENCE=37142,ka.SYNC_GPU_COMMANDS_COMPLETE=37143,ka.UNSIGNALED=37144,ka.SIGNALED=37145,ka.ALREADY_SIGNALED=37146,ka.TIMEOUT_EXPIRED=37147,ka.CONDITION_SATISFIED=37148,ka.WAIT_FAILED=37149,ka.SYNC_FLUSH_COMMANDS_BIT=1,ka.VERTEX_ATTRIB_ARRAY_DIVISOR=35070,ka.ANY_SAMPLES_PASSED=35887,ka.ANY_SAMPLES_PASSED_CONSERVATIVE=36202,ka.SAMPLER_BINDING=35097,ka.RGB10_A2UI=36975,ka.INT_2_10_10_10_REV=36255,ka.TRANSFORM_FEEDBACK=36386,ka.TRANSFORM_FEEDBACK_PAUSED=36387,ka.TRANSFORM_FEEDBACK_ACTIVE=36388,ka.TRANSFORM_FEEDBACK_BINDING=36389,ka.TEXTURE_IMMUTABLE_FORMAT=37167,ka.MAX_ELEMENT_INDEX=36203,ka.TEXTURE_IMMUTABLE_LEVELS=33503;var Va=ka;class za extends ua{constructor(t,e={}){super(),this.textureUniforms=void 0,this.uniformLocationsByName=void 0,this.vShaderSource="",this.fShaderSource="",this.compileStatusChecked=!1,this.id=za.staticId++,this.renderer=t,this.shaderDefines=e}load(t,e,i){Promise.all([e.loadAssetByName(t+".vs.glsl"),e.loadAssetByName(t+".fs.glsl")]).then(s=>{this.loadIncludes(s,e,e=>{this.init(t,e[0],e[1],i)})})}loadIncludes(t,e,i){const s=/^#include\s+(\S+)/,a=[];for(let n=0;n<t.length;n++){const e=t[n].split("\n");for(let t=0;t<e.length;t++){let i,n=e[t];n=n.trim(),null!==(i=s.exec(n))&&a.push([i[1],i])}}if(a.length){const s=[];for(let t=0;t<a.length;t++)s[t]=a[t][0];Promise.all(s.map(t=>e.loadAssetByPath(t))).then(n=>{for(let e=0;e<t.length;e++)for(let i=0;i<a.length;i++)t[e]=t[e].replace(a[i][1][0],"\n\n///// Start "+s[i]+"\n\n"+n[i]+"\n\n///// End "+s[i]+"\n\n");this.loadIncludes(t,e,i)})}else i.call(this,t)}static stripUniformDuplicates(t){let e="";const i={},s=/^uniform\s+(\S*)\s+(\S*);/,a=t.split("\n");for(let n=0;n<a.length;n++){let t,r=a[n];if(r=r.trim(),null!==(t=s.exec(r))){const e=t[2];i[e]&&(r="// "+r),i[e]=!0}e+=r+"\n"}return e}init(t,e,i,s=null){if(this.name=t,this.shaderDefines){let t="",s=0;for(let e in this.shaderDefines)t+="#define "+e+" "+this.shaderDefines[e]+"\n",s++;s>0&&(e=t+e,i=t+i)}e=za.stripUniformDuplicates(e),i=za.stripUniformDuplicates(i),this.vShaderSource=this.renderer.preprocessShaderString(e),this.fShaderSource=this.renderer.preprocessShaderString(i);const a=this.renderer.context;return this.vShader=za.compileShader(a,this.vShaderSource,a.VERTEX_SHADER),this.fShader=za.compileShader(a,this.fShaderSource,a.FRAGMENT_SHADER),this.program=za.LinkProgram(a,this.vShader,this.fShader),s&&s.call(this),this}static compileShader(t,e,i){const s=t.createShader(i);return t.shaderSource(s,e),t.compileShader(s),s}static LinkProgram(t,e,i){const s=t.createProgram();return t.attachShader(s,e),t.attachShader(s,i),t.linkProgram(s),s}checkCompileStatus(){if(!this.compileStatusChecked){this.compileStatusChecked=!0;const t=this.renderer.context;if(t.getProgramParameter(this.program,t.LINK_STATUS))return;throw this.showErrorLog(t.getShaderInfoLog(this.vShader),this.vShaderSource),this.showErrorLog(t.getShaderInfoLog(this.fShader),this.fShaderSource),this.showErrorLog(t.getProgramInfoLog(this.program),this.fShaderSource),new Error("unable to compile shader")}}showErrorLog(t,e){if(t){da.error("compileShader: error: "+this.name+" \n"+t),console.log("%c compileShader: "+this.name,"background: #fff0f0; color: red"),console.log(t);const i=/ERROR: (\d+):(\d+):/;let s=t.split("\n");const a=[];for(let t=0;t<s.length;t++){const e=s[t];let n;null!==(n=i.exec(e))&&(a[parseInt(n[2],10)-1]=e)}s=e.split("\n");const n=[];n[0]="";for(let t=0;t<s.length;t++)n[0]+="%c"+s[t]+"\n",n[t+1]=a[t]?"background: #fff0f0; color: red":"background: white; color: black",a[t]&&(n[0]+=" --\x3e "+a[t]+"\n");console.log.apply(console,n),console.log("%c compileShader: "+this.name,"background: #fff0f0; color: red")}}getUniformLocation(t){this.uniformLocationsByName||this.getTextureUniforms();let e=this.uniformLocationsByName[t];if(void 0===e){let e=this.renderer.context.getUniformLocation(this.program,t)||!1;this.uniformLocationsByName[t]=e}return e}getTextureUniforms(){if(!this.textureUniforms){this.checkCompileStatus();const t=this.renderer.context,e=t.getProgramParameter(this.program,t.ACTIVE_UNIFORMS);this.textureUniforms=[],this.uniformLocationsByName={};let i=0;for(let s=0;s<e;s++){const e=t.getActiveUniform(this.program,s),a=t.getUniformLocation(this.program,e.name);this.uniformLocationsByName[e.name]=a,e.type!==La.SAMPLER_2D&&e.type!==La.SAMPLER_CUBE&&e.type!==Va.SAMPLER_3D||(this.textureUniforms.push(new Ua(this,e.name,a,i)),i++)}}return this.textureUniforms}getAttributes(){if(!this.attributes){this.checkCompileStatus();const t=this.renderer.context,e=t.getProgramParameter(this.program,t.ACTIVE_ATTRIBUTES);this.attributes=[];for(let i=0;i<e;i++){const e=t.getActiveAttrib(this.program,i),s=t.getAttribLocation(this.program,e.name),a=za.getStride(e.type);this.attributes.push(new $a(e.name,a,s))}}return this.attributes}getAttributeByName(t){return(this.attributes||this.getAttributes()).find(e=>e.name===t)}getTextureUniformByName(t){return(this.textureUniforms||this.getTextureUniforms()).find(e=>e.name===t)}static getStride(t){switch(t){case La.FLOAT:return 1;case La.FLOAT_VEC2:return 2;case La.FLOAT_VEC3:return 3;case La.FLOAT_VEC4:return 4;case La.FLOAT_MAT4:return 16;default:return da.error("attribute type not handled: "+t),-1}}destruct(){const t=this.renderer.context;t.deleteShader(this.vShader),t.deleteShader(this.fShader),t.deleteProgram(this.program),super.destruct()}}za.staticId=0;class Ha extends Fa{constructor(t,e,i){super(t,i,new za(t)),this.shaderIndex=t.shaderIndex,this.shaderName=i,e.add(this)}load(t){this.shader.shaderDefines=this.getShaderDefines(),this.shader.load(this.shaderName,this.shaderIndex,()=>{t.call(this)})}}class Ga extends ua{constructor(t){super(),this.depthMask=!0,this.depthTest=!0,this.alphaToCoverage=!0,this.depthFunc=-1,this.culling=-1,this.cullingEnabled=!0,this.blendEquation=-1,this.blendEnabled=!0,this.sourceBlend=-1,this.destinationBlend=-1,this.renderer=t,this.setBlendEnabled(!this.blendEnabled),this.setCullingEnabled(!this.cullingEnabled),this.setDepthMask(!this.depthMask),this.setDepthTest(!this.depthTest),this.enabledAttribArrays=[],this.textureSlots=[]}bindTextureToSlot(t,e=0){this.textureSlots[e]!=t.textureGL&&(this.renderer.context.activeTexture(La.TEXTURE0+e),this.renderer.context.bindTexture(t.target,t.textureGL),this.textureSlots[e]=t.textureGL)}activateSlot(t=0){this.renderer.context.activeTexture(La.TEXTURE0+t)}unBindTextureFromSlot(t,e=0){this.textureSlots[e]==t&&(this.renderer.context.activeTexture(La.TEXTURE0+e),this.renderer.context.bindTexture(La.TEXTURE_2D,null),this.textureSlots[e]=void 0)}setProgram(t){return t!=this.program&&(this.program=t,this.renderer.context.useProgram(this.program),!0)}setDepthMask(t){t!=this.depthMask&&(this.renderer.context.depthMask(t),this.depthMask=t)}getDepthMask(){return this.depthMask}setAlphaToCoverage(t){t!=this.alphaToCoverage&&(t?this.renderer.context.enable(La.SAMPLE_ALPHA_TO_COVERAGE):this.renderer.context.disable(La.SAMPLE_ALPHA_TO_COVERAGE),this.alphaToCoverage=t)}setDepthTest(t){t!=this.depthTest&&(t?this.renderer.context.enable(La.DEPTH_TEST):this.renderer.context.disable(La.DEPTH_TEST),this.depthTest=t)}setDepthFunc(t){t!=this.depthFunc&&(t?this.renderer.context.depthFunc(t):this.renderer.context.depthFunc(this.renderer.context.LESS),this.depthFunc=t)}setCullingEnabled(t){t!=this.cullingEnabled&&(t?this.renderer.context.enable(La.CULL_FACE):this.renderer.context.disable(La.CULL_FACE),this.cullingEnabled=t)}setCulling(t){t!=this.culling&&(t==La.NONE?this.setCullingEnabled(!1):(this.setCullingEnabled(!0),this.renderer.context.cullFace(t)),this.culling=t)}setBlendEquation(t){t!=this.blendEquation&&(this.renderer.context.blendEquation(t),this.blendEquation=t)}setBlendEnabled(t){t!=this.blendEnabled&&(t?this.renderer.context.enable(La.BLEND):this.renderer.context.disable(La.BLEND),this.blendEnabled=t)}setBlendFunc(t,e){t==this.sourceBlend&&e==this.destinationBlend||(this.renderer.context.blendFunc(t,e),this.sourceBlend=t,this.destinationBlend=e)}setBlendFuncSeparate(t,e,i,s){this.renderer.context.blendFuncSeparate(t,e,i,s),this.sourceBlend=-1}}class Xa{constructor(){this.maxAnisotropy=0}enableExtensions(t){da.ENABLED&&(this.color_buffer_float=Xa.enableExtension(t,"WEBGL_color_buffer_float")||Xa.enableExtension(t,"EXT_color_buffer_float"),this.color_buffer_half_float=Xa.enableExtension(t,"EXT_color_buffer_half_float"),this.texture_float=Xa.enableExtension(t,"OES_texture_float"),this.texture_float_linear=Xa.enableExtension(t,"OES_texture_float_linear"),this.texture_half_float=Xa.enableExtension(t,"OES_texture_half_float"),this.texture_half_float_linear=Xa.enableExtension(t,"OES_texture_half_float_linear")),this.shader_texture_lod=Xa.enableExtension(t,"EXT_shader_texture_lod"),this.standard_derivatives=Xa.enableExtension(t,"OES_standard_derivatives"),this.vertex_array_object=Xa.enableExtension(t,"OES_vertex_array_object"),this.filter_anisotropic=Xa.enableExtension(t,"EXT_texture_filter_anisotropic"),this.filter_anisotropic||(this.filter_anisotropic=Xa.enableExtension(t,"texture_filter_anisotropic")),this.filter_anisotropic||(this.filter_anisotropic=Xa.enableExtension(t,"MOZ_EXT_texture_filter_anisotropic")),this.filter_anisotropic||(this.filter_anisotropic=Xa.enableExtension(t,"WEBKIT_EXT_texture_filter_anisotropic")),this.filter_anisotropic&&(this.maxAnisotropy=t.getParameter(this.filter_anisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT),da.log("MAX_TEXTURE_MAX_ANISOTROPY_EXT: ",this.maxAnisotropy)),this.element_index_uint=Xa.enableExtension(t,"OES_element_index_uint")}static enableExtension(t,e){const i=t.getExtension(e);return i?da.log("enabled extension "+e):da.log("extension "+e+" is not supported"),i}enableTextureCompression(t){const e=Xa.enableExtension(t,"WEBGL_compressed_texture_s3tc");if(e){const i=t.getParameter(t.COMPRESSED_TEXTURE_FORMATS);if(i.length>0)for(const t in i)i[t]===e.COMPRESSED_RGB_S3TC_DXT1_EXT&&da.log("support found for texture compression: RGB_S3TC_DXT1"),i[t]===e.COMPRESSED_RGBA_S3TC_DXT1_EXT&&da.log("support found for texture compression: RGBA_S3TC_DXT1"),i[t]===e.COMPRESSED_RGBA_S3TC_DXT3_EXT&&da.log("support found for texture compression: RGBA_S3TC_DXT3"),i[t]===e.COMPRESSED_RGBA_S3TC_DXT5_EXT&&da.log("support found for texture compression: RGBA_S3TC_DXT5");else da.log("no support found for texture compression ")}}getMinMaxSupported(){return null!==this.blend_minmax}}class ja{static cacheIsPathRequested(t){return ja.clientCache[t]}static cacheRegisterRequested(t,e){ja.clientCache[t]=e}static cacheRegisterCallback(t,e){ja.clientCacheCallbacks[t]||(ja.clientCacheCallbacks[t]=[]),ja.clientCacheCallbacks[t].push(e)}static cacheRequestDone(t,e){const i=ja.clientCacheCallbacks[t];if(i)for(let s=0;s<i.length;s++)i[s](e);ja.clientCacheCallbacks[t]=null,ja.clientCache[t]=!1}static cacheRequestError(t){const e=ja.clientCacheCallbacks[t];if(e)for(let i=0;i<e.length;i++)e[i](null);ja.clientCacheCallbacks[t]=null,ja.clientCache[t]=!1}static loadText(t,e){if(ja.cacheRegisterCallback(t,e),ja.cacheIsPathRequested(t))return;const i=new XMLHttpRequest;ja.cacheRegisterRequested(t,i),i.onreadystatechange=e=>{4===i.readyState&&(200===i.status?ja.cacheRequestDone(t,i.responseText):ja.cacheRequestError(t))},i.open("GET",t,!0),i.send()}static loadArrayBuffer(t,e){if(ja.cacheRegisterCallback(t,e),ja.cacheIsPathRequested(t))return;const i=new XMLHttpRequest;ja.cacheRegisterRequested(t,i),i.open("GET",t,!0),i.responseType="arraybuffer",i.send(),i.onreadystatechange=e=>{4===i.readyState&&ja.cacheRequestDone(t,i.response)}}static loadImage(t,e){if("string"!==typeof t&&(t=t.default),ja.cacheRegisterCallback(t,e),ja.cacheIsPathRequested(t))return ja.cacheIsPathRequested(t);const i=new Image;return ja.cacheRegisterRequested(t,i),i.crossOrigin="Anonymous",i.onload=()=>{ja.cacheRequestDone(t,i)},i.onerror=()=>{console.log("TextureLoader: could not load image",t),ja.cacheRequestDone(t,i)},i.src=t,i}static loadMultipleImages(t,e){let i=t.length;const s=[],a=t=>a=>{i--,s[t]=a,0===i&&e.call(this,s)};for(let n=0;n<t.length;++n)ja.loadImage(t[n],a(n))}static loadSingleFromRequireContext(t,e){return new Promise((i,s)=>{let a;try{a=t("./"+e.replace(/^\.\//,""))}catch(n){s(n)}"function"===typeof a?a(i):i(a.default)})}static loadFromRequireContext(t,e,i){Promise.all(e.map(e=>ja.loadSingleFromRequireContext(t,e))).then(t=>i(t))}static loadMultipleTexts(t,e){let i=t.length;const s=[],a=t=>a=>{i--,s[t]=a,0===i&&e.apply(this,s)};for(let n=0;n<t.length;++n)ja.loadText(t[n],a(n))}}ja.clientCache={},ja.clientCacheCallbacks={};var Wa=class{constructor(){this.webpackContexts=[],this.assetNameMap={},this.assetPathMap={}}loadAssetByPath(t){const e=this.getAssetByPath(t);return ja.loadSingleFromRequireContext(e.webpackContext,e.path)}getAssetByPath(t){const e="./"+t.replace(/^\.\//,"");if("undefined"===typeof this.assetPathMap[e])throw new ReferenceError(`Could not find asset with path ${t}. Available paths: \n${Object.keys(this.assetPathMap).join("\n")}`);return{webpackContext:this.webpackContexts[this.assetPathMap[e]],path:e}}loadAssetByName(t){const e=this.getAssetByName(t);return ja.loadSingleFromRequireContext(e.webpackContext,e.path)}getAssetByName(t){if("undefined"===typeof this.assetNameMap[t])throw new ReferenceError(`Could not find asset with name "${t}". Available assets: \n${Object.keys(this.assetNameMap.vs).join(", ")}`);return{webpackContext:this.webpackContexts[this.assetNameMap[t].contextIndex],path:this.assetNameMap[t].path}}addContext(t){if(this.webpackContexts.indexOf(t)>=0)return;const e=this.webpackContexts.length;this.webpackContexts.push(t),t.keys().forEach(t=>{const i=t.match(/([^\\\/]+)$/);if(i){if(this.assetNameMap[i[1]]){const e=this.webpackContexts[this.assetNameMap[i[1]].contextIndex].resolve(this.assetNameMap[i[1]].path);console.warn(`WARNING: found asset "${t}" but another asset with the name "${i[1]}" was already found at "${e}"`)}this.assetNameMap[i[1]]={contextIndex:e,path:t}}this.assetPathMap[t]=e})}};class Ya extends ua{constructor(t,e,i,s,a,n){super(),this.data=null,this.vertexCount=-1,this._renderer=t,this.stride=s,this.name=e,this.storeData=a,this.vertexCount=i.length/s,n?(this.buffer=this._renderer.context.createBuffer(),this.setData(i,a)):this.data=i}clone(){let t;return this.data?(t=new Float32Array(this.data.length),t.set(this.data)):t=new Float32Array(0),new Ya(this._renderer,this.name,t,this.stride,!1,!1)}setData(t,e){if(e||!this.buffer?this.data=t:this.data=null,0!==t.length){if(this.buffer){const e=this._renderer.context;e.bindBuffer(La.ARRAY_BUFFER,this.buffer),e.bufferData(La.ARRAY_BUFFER,t.byteLength,La.STATIC_DRAW),e.bufferSubData(La.ARRAY_BUFFER,0,t)}}else console.warn("VertexAttribute: no data: probably a mesh file could not be loaded: "+this.name)}getBufferLength(){if(this.data)return this.data.length;{if(!this.buffer)throw new ReferenceError("Cannot get buffer length: no buffer set on VertextAttribute");const t=this._renderer.context;return t.bindBuffer(La.ARRAY_BUFFER,this.buffer),t.getBufferParameter(La.ARRAY_BUFFER,La.BUFFER_SIZE)/4}}destruct(){if(!this.isDestructed){const t=this._renderer.context;this.buffer&&t.deleteBuffer(this.buffer),this.data=null,super.destruct()}}static serialize(t){return null===t.data?(console.error("Trying to serialize vertex attribute "+t.name+" without saved data"),{}):{name:t.name,data:t.data,stride:t.stride,storeData:t.storeData}}static deserialize(t){return{name:t.name,data:t.data,stride:t.stride,storeData:t.storeData}}}class Za{constructor(t,e){this.name=t,this.stride=e}}Za.POSITION=new Za("aPos",3),Za.TEXCOORD0=new Za("aUV0",2),Za.TEXCOORD1=new Za("aUV1",2),Za.NORMAL=new Za("aNormal",3),Za.COLOR0=new Za("aColor0",3),Za.COLOR1=new Za("aColor1",3),Za.TANGENT=new Za("aTangent",4);class qa extends ua{constructor(t,e=!0,i=!1){super(),this.indexType=La.UNSIGNED_SHORT,this._vertexCount=0,this._isInterleavedBufferDirty=!0,this._attributeNames={},this.renderer=t,this.attributes=[],this._vertexCount=0,this.id=qa.staticId++,this.interleaved=e,this.isDynamic=i}setJSONData(t,e=!1){this.isDynamic=t.isDynamic||!1,t.indices&&t.indices.length>0&&(t.use32BitIndices?this.setIndices32(new Uint32Array(t.indices)):this.setIndices(new Uint16Array(t.indices)));for(let i=0;i<t.attributes.length;i++){const s=t.attributes[i];this.setAttribute(s.name,s.stride,new Float32Array(s.data),e)}}clone(){const t=new qa(this.renderer,this.interleaved,this.isDynamic);for(const e of this.attributes)t.attributes.push(e.clone());return t._vertexCount=this._vertexCount,t.indices=this.indices,t.indexType=this.indexType,this.indices instanceof Uint32Array?t.setIndices32(this.indices):t.setIndices(this.indices),t}interleaveData(){if(!this._isInterleavedBufferDirty||!this.interleaved)return;this.interleavedStrideSum=0;for(let s=0;s<this.attributes.length;s++)this.interleavedStrideSum+=this.attributes[s].stride;const t=new Float32Array(this.interleavedStrideSum*this._vertexCount);let e=0;for(let s=0;s<this._vertexCount;s++)for(let i=0;i<this.attributes.length;i++){const a=this.attributes[i];for(let i=0;i<a.stride;i++)t[e++]=a.data[s*a.stride+i]}for(let s=0;s<this.attributes.length;s++)this.attributes[s].storeData||(this.attributes[s].data=null);this.interleavedBuffer=this.renderer.context.createBuffer();const i=this.renderer.context;i.bindBuffer(La.ARRAY_BUFFER,this.interleavedBuffer),i.bufferData(La.ARRAY_BUFFER,t,i.STATIC_DRAW),this._isInterleavedBufferDirty=!1}isInterleaved(){return this.interleaved}hasIndices(){return!!this.indices}setAttribute(t,e,i,s=!1){this.setData(i,t,e,s)}setPositions(t,e=!1){const i=Za.POSITION;this.setData(t,i.name,i.stride,e)}getPositions(){return this.getData(Za.POSITION.name)}setNormals(t,e=!1){const i=Za.NORMAL;this.setData(t,i.name,i.stride,e)}getNormals(){return this.getData(Za.NORMAL.name)}setColors(t){const e=Za.COLOR0;this.setData(t,e.name,e.stride)}getColors(){return this.getData(Za.COLOR0.name)}setColors1(t){const e=Za.COLOR1;this.setData(t,e.name,e.stride)}getColors1(){return this.getData(Za.COLOR1.name)}setUV0(t,e=!1){const i=Za.TEXCOORD0;this.setData(t,i.name,i.stride,e)}getUV0(){return this.getData(Za.TEXCOORD0.name)}setUV1(t,e=!1){const i=Za.TEXCOORD1;this.setData(t,i.name,i.stride,e)}getUV1(){return this.getData(Za.TEXCOORD1.name)}setTangents(t,e=!1){const i=Za.TANGENT;this.setData(t,i.name,i.stride,e)}getTangents(){return this.getData(Za.TANGENT.name)}setData(t,e,i,s=!1){this._attributeNames={};const a=this.getAttributeIndex(e),n=t.length/i;a<0?this.attributes.push(new Ya(this.renderer,e,t,i,s,!this.interleaved)):this.attributes[a].vertexCount==n?this.attributes[a].setData(t,s):(this.attributes[a].destruct(),this.attributes[a]=new Ya(this.renderer,e,t,i,s,!this.interleaved)),this._vertexCount=n,this.interleaved&&(this._isInterleavedBufferDirty=!0)}deleteAttribute(t){const e=this.getAttributeIndex(t);e>=0&&this.attributes.splice(e,1),this._isInterleavedBufferDirty=!0,this._attributeNames={}}hasAttribute(t){const e=this._attributeNames[t];if(!0===e||!1===e)return e;const i=this.getAttributeIndex(t);return this._attributeNames[t]=i>=0,this._attributeNames[t]}getAttribute(t){const e=this.getAttributeIndex(t);return e>=0?this.attributes[e]:null}getAttributeIndex(t){for(let e=0;e<this.attributes.length;e++)if(this.attributes[e].name===t)return e;return-1}getData(t){const e=this.getAttribute(t);return e&&e.data?e.data:(da.log("Mesh: getData",t,"no data"),null)}setIndices(t){if(!(t instanceof Uint16Array))throw"Indices need to be of type Uint16Array";this.indexType=La.UNSIGNED_SHORT,this.indices=t;const e=this.renderer.context;this.indexBuffer||(this.indexBuffer=e.createBuffer()),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW)}setIndices32(t){if(!(t instanceof Uint32Array))throw"Indices need to be of type Uint32Array";if(this.renderer.extensionManager.element_index_uint||this.renderer.context instanceof WebGL2RenderingContext){this.indexType=La.UNSIGNED_INT,this.indices=t;const e=this.renderer.context;this.indexBuffer||(this.indexBuffer=e.createBuffer()),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)}else da.log("mesh: setIndices32: extension not supported: element_index_uint: using 16 bits indices"),this.setIndices(new Uint16Array(t))}getNumVertices(){return this._vertexCount}isSkinned(){return this.hasAttribute("aSkinIndex")}destruct(){if(this.isDestructed)return;this.renderer.destructVAO(this);const t=this.renderer.context;if(this.interleavedBuffer&&t.deleteBuffer(this.interleavedBuffer),this.indexBuffer&&t.deleteBuffer(this.indexBuffer),this.attributes)for(let e=0;e<this.attributes.length;e++)this.attributes[e].destruct();super.destruct()}}qa.staticId=0;class Ka{constructor(){this.averageFps=60,this.manualUpdate=!1,Ka._instance&&alert("do not create additional instances of the time class"),this.fps=60,this.deltaTime=1/this.fps,this.time=0}static get instance(){return Ka._instance||(Ka._instance=new Ka),Ka._instance}updateManual(){this.manualUpdate=!0,this.updateDeltaTime()}updateDeltaTime(){const t=performance.now();this.deltaTime=.001*t-this.time,this.deltaTime>.05&&(this.deltaTime=.05),0===this.deltaTime&&(this.deltaTime=1/60),this.time=.001*t,this.fps=1/this.deltaTime,this.averageFps>0?this.averageFps=_a.lerp(this.fps,this.averageFps,.95):this.averageFps=1/60}testPerformance(t){console.time("timer0"),t(),console.timeEnd("timer0")}}class Qa{constructor(){this.down=!1,this.downThisFrame=!1,this.upThisFrame=!1,this.downByTouch=!1,this.clickCanceled=!1,this.downTime=0,this.upTime=0}}class Ja extends ua{constructor(t,e){super(),this._mousePos=new Pa,this._previousMousePos=new Pa,this._mouseVelocity=new Pa,this._normalized=new Pa,this._screen=new Pa,this._screenLerped=new Pa,this._wheelCallbacks=[],this._mouseClickCallbacks=[],this._mouseDownCallbacks=[],this._buttons=[],this._manualUpdate=!1,this._resetSpeed=!1,this._preventDefault=!1,this._touchStartListener=t=>{this._preventDefault&&t.preventDefault(),this._resetSpeed=!0,this.handleMouseDown(0),this._buttons[0].downByTouch=!0,this.setMousePosition(t.targetTouches[0]);for(let e=0;e<this._mouseDownCallbacks.length;e++)this._mouseDownCallbacks[e].call(this)},this._touchMoveListener=t=>{this.setMousePosition(t.targetTouches[0]),this._preventDefault&&t.preventDefault()},this._endListener=()=>{for(const t of this._buttons)t.down=!1,t.downThisFrame=!1,t.downByTouch=!1,t.upThisFrame=!0,t.upTime=0,console.log()},this._mouseDownListener=t=>{this._preventDefault&&t.preventDefault(),this.handleMouseDown(t.which-1),this.setMousePosition(t);for(let e=0;e<this._mouseDownCallbacks.length;e++)this._mouseDownCallbacks[e].call(this)},this._mouseMoveListener=t=>{this.setMousePosition(t),this._preventDefault&&t.preventDefault();for(const e of this._buttons)e.downTime>.25&&(e.clickCanceled=!0)},this._mouseWheelListener=t=>{for(let e=0;e<this._wheelCallbacks.length;e++)this._wheelCallbacks[e].call(this,Math.sign(-t.deltaY))},this._upListener=()=>{if(this._resetSpeed=!0,!this._buttons[0].clickCanceled)for(let t=0;t<this._mouseClickCallbacks.length;t++)this._mouseClickCallbacks[t].call(this);for(const t of this._buttons)t.down=!1,t.downThisFrame=!1,t.upThisFrame=!0,t.upTime=0,t.downByTouch=!1},this._element=t,this._canvas=e;for(let i=0;i<3;i++)this._buttons.push(new Qa);this._element.addEventListener("touchstart",this._touchStartListener,!1),this._element.addEventListener("touchmove",this._touchMoveListener,{passive:!1}),this._element.addEventListener("touchend",this._upListener,!1),this._element.addEventListener("touchcancel",this._endListener,!1),this._element.addEventListener("mousedown",this._mouseDownListener,!1),this._element.addEventListener("mousemove",this._mouseMoveListener,!1),this._element.addEventListener("mouseup",this._upListener,!1),this._element.addEventListener("mousecancel",this._endListener,!1),this._element.addEventListener("mouseout",this._endListener,!1),this._element.addEventListener("wheel",this._mouseWheelListener,!1)}get normalizedPos(){return this._normalized.clone()}get screenPos(){return this._screen.clone()}get screenPosLerped(){return this._screenLerped.clone()}get normalizedVelocity(){return this._mouseVelocity.clone()}get mouseDown(){return this._buttons[0].down}get mouseDownThisFrame(){return this._buttons[0].downThisFrame}get mouseUpThisFrame(){return this._buttons[0].upThisFrame}get mouseDownRight(){return this._buttons[2].down}get mouseDownThisFrameRight(){return this._buttons[2].downThisFrame}getButton(t){return this._buttons[t]}setPreventDefault(t){this._preventDefault=t}handleMouseDown(t){this._resetSpeed=!0,this._buttons[t].down=!0,this._buttons[t].downThisFrame=!0,this._buttons[t].clickCanceled=!1,this._buttons[t].downByTouch=!1,this._buttons[t].downTime=0}addWheelEvent(t){this._wheelCallbacks.push(t)}addMouseClickEvent(t){this._mouseClickCallbacks.push(t)}addMouseDownEvent(t){this._mouseDownCallbacks.push(t)}setMousePosition(t){const e=t.pageY/this._canvas.clientHeight;this._mousePos.x=t.pageX/this._canvas.clientWidth*2-1,this._mousePos.y=1-2*e}updateManual(){this._manualUpdate=!0,this.update()}update(){this._normalized.x=.5*this._mousePos.x+.5,this._normalized.y=.5*-this._mousePos.y+.5,this._screen.x=this._mousePos.x,this._screen.y=this._mousePos.y;const t=Math.pow(.9,60),e=1-Math.pow(t,Ka.instance.deltaTime);this._screenLerped=Pa.lerp(this._screenLerped,this._screen,e),this._resetSpeed?(this._resetSpeed=!1,this._mouseVelocity.setValues(0,0)):(this._mouseVelocity.x=this._normalized.x-this._previousMousePos.x,this._mouseVelocity.y=this._normalized.y-this._previousMousePos.y),this._previousMousePos.copy(this._normalized);for(const i of this._buttons)i.downTime>0&&(i.downThisFrame=!1),i.upTime>0&&(i.upThisFrame=!1),i.down?i.downTime+=Ka.instance.deltaTime:i.upTime+=Ka.instance.deltaTime}cancelClick(){for(const t of this._buttons)t.clickCanceled=!0}destruct(){this._canvas&&(this._canvas.removeEventListener("touchstart",this._touchStartListener,!1),this._canvas.removeEventListener("touchmove",this._touchMoveListener,!1),this._canvas.removeEventListener("touchend",this._upListener,!1),this._canvas.removeEventListener("touchcancel",this._endListener,!1),this._canvas.removeEventListener("mousedown",this._mouseDownListener,!1),this._canvas.removeEventListener("mousemove",this._mouseMoveListener,!1),this._canvas.removeEventListener("mouseend",this._endListener,!1),this._canvas.removeEventListener("mousecancel",this._endListener,!1),this._canvas.removeEventListener("mouseout",this._endListener,!1),this._canvas.removeEventListener("wheel",this._mouseWheelListener,!1),this._canvas.removeEventListener("mouseup",this._upListener,!1)),super.destruct()}}const tn=i(774);class en extends ua{constructor(t,e,i,s,a,n=!1,r=!0,o=!1,l=!0,c=!1){super(),this.textureCount=0,this.isWebgl2=!1,this._clearColor=new Ma(0,0,0,1),this._size=new Pa,this.id=en.staticId++,this.antialias=a,this.transparent=n,this.autoClear=r,this.stencil=o,this.premultipliedAlpha=l,s?"function"===typeof s?(this.shaderIndex=new Wa,this.shaderIndex.addContext(s)):this.shaderIndex=s:this.shaderIndex=new Wa,this.shaderIndex.addContext(tn),this.canvas=e,this.canvas.addEventListener("resize",()=>this.handleCanvasResize()),i===en.webgl2ContextNames?this.isWebgl2=!0:n||this.getAlphaIsCorrect()||(n=!0);const h={alpha:n,stencil:o,powerPreference:"high-performance",preserveDrawingBuffer:!r,premultipliedAlpha:l,antialias:a,xrCompatible:c};if(i.forEach(t=>{this.context=this.context||this.canvas.getContext(t,h)}),!this.context)throw new Error("could not get a 3d context: aborting");this.maxParams=new Sa(this.context),this.renderState=new Ga(this),en.staticExtensionManager=this.extensionManager=new Xa,this.extensionManager.enableExtensions(this.context),this.copyTextureMaterial=new Ha(this,t,"default"),this.copyTextureMaterial.depthTest=!1,this.copyTextureMaterial.depthWrite=!1,this.copyTextureMaterial.setAlphaBlending(),this.blitMesh=this.createTriangle()}getAlphaIsCorrect(){const t=document.createElement("canvas");t.width=1,t.height=1;const e=t.getContext("experimental-webgl",{alpha:!1,preserveDrawingBuffer:!1});e.clearColor(1,0,0,1),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);const i=document.createElement("canvas").getContext("2d");i.drawImage(t,0,0);const s=255===i.getImageData(0,0,1,1).data[3];return s||da.log("alpha bug detected"),s}init(){da.log("renderer: textureCount",this.textureCount),this.unsetRenderTarget(),this.handleCanvasResize()}preprocessShaderString(t){return t}draw(t,e,i=0,s=-1){}startBatch(t,e){}drawElements(t,e,i=0,s=-1){}endBatch(){}createTriangle(){const t=new qa(this),e=new Float32Array([-1,-1,0,-1,3,0,3,-1,0]);t.setPositions(e);const i=new Float32Array([0,0,0,2,2,0]);t.setUV0(i);const s=new Uint16Array([0,2,1]);return t.setIndices(s),t}get mouseListener(){return this._mouseListener||(this._mouseListener=new Ja(document.body,this.canvas)),this._mouseListener}get width(){return this._size.x}get height(){return this._size.y}get size(){return this._size}handleCanvasResize(){this.setSize(this.canvas.width,this.canvas.height)}enablePointSprites(){this.context.enable(34370)}blit(t,e,i,s=!1,a=!0){const n=null!=i?i:this.copyTextureMaterial;if(e&&(this.renderTarget=e),t&&n.setTexture("uTexture",t),s&&this.clear(),this.draw(this.blitMesh,n),e&&a)this.unsetRenderTarget();else{const t=this.context;t.bindRenderbuffer(t.RENDERBUFFER,null)}t&&a&&n.unSetTexture("uTexture")}set renderTarget(t){t?(t.scaleToCanvas&&t.setSize(Math.round(this.canvas.width*t.sizeMultiplier),Math.round(this.canvas.height*t.sizeMultiplier)),t.setAsTarget(),this.setSize(t.width,t.height),this._renderTarget=t):this.unsetRenderTarget()}unsetRenderTarget(t=!1){if(this._renderTarget||t){const t=this.context;t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindRenderbuffer(t.RENDERBUFFER,null),this.setSize(this.canvas.width,this.canvas.height)}this._renderTarget=void 0}get renderTarget(){return this._renderTarget}clearWithColor(t=0,e=0,i=0,s=0){this.context.clearColor(t,e,i,s),this.context.depthMask(!0),this.context.clear(La.COLOR_BUFFER_BIT|La.DEPTH_BUFFER_BIT|La.STENCIL_BUFFER_BIT),this.context.depthMask(this.renderState.getDepthMask()),this.context.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearColor.a)}clearRenderTexture(t,e=0,i=0,s=0,a=0){this.renderTarget=t,this.clearWithColor(e,i,s,a),this.unsetRenderTarget()}get aspectRatio(){return this.width/this.height}clearDepth(){this.renderState.setDepthMask(!0),this.context.clear(La.DEPTH_BUFFER_BIT)}set clearColor(t){this._clearColor.copy(t),this.context.clearColor(t.r,t.g,t.b,t.a)}get clearColor(){return this._clearColor}clear(){this.context.depthMask(!0),this.context.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearColor.a),this.context.clear(La.COLOR_BUFFER_BIT|La.DEPTH_BUFFER_BIT|La.STENCIL_BUFFER_BIT),this.context.depthMask(this.renderState.getDepthMask())}setSize(t,e){t|=0,e|=0,this.width===t&&this.height===e||(this._size.setValues(t,e),this.context.viewport(0,0,this.width,this.height))}setScissor(t,e,i,s,a=!1){t=_a.clamp01(t),e=_a.clamp01(e);const n=(i=_a.clamp01(i))-t,r=(s=_a.clamp01(s))-e,o=this.width,l=this.height;this.context.enable(La.SCISSOR_TEST),this.context.scissor(t*o|0,e*l|0,n*o|0,r*l|0),a&&this.context.viewport(t*o|0,e*l|0,n*o|0,r*l|0)}setScissorPixels(t,e,i,s){this.context.enable(La.SCISSOR_TEST),this.context.scissor(t,e,i-t,s-e)}unsetScissor(){this.context.disable(La.SCISSOR_TEST)}setViewPort(t,e,i,s){this._size.setValues(i,s),this.context.viewport(t,e,this.width,this.height)}unsetViewPort(){this._size.setValues(this.canvas.width,this.canvas.height),this.context.viewport(0,0,this.canvas.width,this.canvas.height)}setChannelMask(t=!1,e=!1,i=!1,s=!1){this.context.colorMask(t,e,i,s)}clearChannelMask(){this.context.colorMask(!0,!0,!0,!0)}setStencilEnabled(t){t?this.context.enable(La.STENCIL_TEST):this.context.disable(La.STENCIL_TEST)}startDrawToStencil(){const t=this.context;this.setStencilEnabled(!0),t.stencilFunc(La.ALWAYS,1,255),t.stencilOp(La.KEEP,La.KEEP,La.REPLACE),t.stencilMask(255)}setStencilFuncEqual(t){this.context.stencilFunc(t?La.EQUAL:La.NOTEQUAL,1,255)}destructVAO(t){}destructVAOs(){}destruct(){if(this.isDestructed)return;da.log("Renderer: destruct");const t=this.context,e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);for(let s=0;s<e;++s)t.activeTexture(t.TEXTURE0+s),t.bindTexture(t.TEXTURE_2D,null),t.bindTexture(t.TEXTURE_CUBE_MAP,null);t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.useProgram(null);const i=t.getExtension("WEBGL_lose_context");i&&i.loseContext(),this.blitMesh&&this.blitMesh.destruct(),this.copyTextureMaterial&&this.copyTextureMaterial.destruct(),this.canvas.removeEventListener("resize",this.handleCanvasResize),this._mouseListener&&this._mouseListener.destruct(),super.destruct()}}en.staticId=0,en.webgl2ContextNames=["webgl2"],en.webgl1ContextNames=["webgl","experimental-webgl"];class sn extends en{constructor(t,e,i,s,a=!1,n=!0,r=!1,o=!0,l=!1){super(t,e,en.webgl1ContextNames,i,s,a,n,r,o,l),this.vertexArrayObjects={}}preprocessShaderString(t){return"#define WEBGL1\n"+t}initVAO(t,e){const i=this.extensionManager.vertex_array_object,s=i.createVertexArrayOES();return i.bindVertexArrayOES(s),this.setStates(t,e),i.bindVertexArrayOES(null),s}setStates(t,e){const i=this.context;if(t.isInterleaved()){t.interleaveData(),i.bindBuffer(i.ARRAY_BUFFER,t.interleavedBuffer);let s=0;t.attributes.forEach(a=>{const n=e.shader.getAttributeByName(a.name);n&&(i.enableVertexAttribArray(n.loc),i.vertexAttribPointer(n.loc,n.stride,i.FLOAT,!1,4*t.interleavedStrideSum,s)),s+=4*a.stride})}else t.attributes.forEach(t=>{const s=e.shader.getAttributeByName(t.name);if(s){if(void 0===t.buffer)throw new ReferenceError("Expected buffer to be defined on VertexAttribute when setting states.");i.bindBuffer(i.ARRAY_BUFFER,t.buffer),i.enableVertexAttribArray(s.loc),i.vertexAttribPointer(s.loc,s.stride,i.FLOAT,!1,4*s.stride,0)}});t.indexBuffer&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t.indexBuffer)}destructVAO(t){const e=this.extensionManager.vertex_array_object;if(e){const i=this.vertexArrayObjects[t.id];for(const t in i){const s=i[t];e.deleteVertexArrayOES(s)}this.vertexArrayObjects[t.id]=[]}}getVAO(t,e){let i,s=this.vertexArrayObjects[t.id];return s?(i=s[e.id],i||(i=this.initVAO(t,e),s[e.id]=i)):(s={},i=this.initVAO(t,e),s[e.id]=i,this.vertexArrayObjects[t.id]=s),i}bindVAO(t){const e=this.extensionManager.vertex_array_object;t!=this.currentVAO&&(e.bindVertexArrayOES(t),this.currentVAO=t)}drawVAO(t,e,i,s=0,a=-1){i.setActive(),this.bindVAO(t),this.drawElements(e,i,s,a),this.bindVAO(null)}draw(t,e,i=0,s=-1){e.setActive();if(!this.extensionManager.vertex_array_object||t.isDynamic)this.setStates(t,e),this.drawElements(t,e,i,s);else{const a=this.getVAO(t,e);this.bindVAO(a),this.drawElements(t,e,i,s),this.bindVAO(null)}}startBatch(t,e){e.setActive();this.extensionManager.vertex_array_object?this.extensionManager.vertex_array_object.bindVertexArrayOES(this.getVAO(t,e)):this.setStates(t,e)}drawElements(t,e,i=0,s=-1){if(t.indices)s>0?this.context.drawElements(e.drawType,Math.min(s,t.indices.length),t.indexType,i*(t.indexType==La.UNSIGNED_SHORT?2:4)):this.context.drawElements(e.drawType,t.indices.length,t.indexType,0);else{const a=t.getNumVertices()-i;s>0?this.context.drawArrays(e.drawType,i,Math.min(a,s)):this.context.drawArrays(e.drawType,i,a)}}endBatch(){this.extensionManager.vertex_array_object&&this.extensionManager.vertex_array_object.bindVertexArrayOES(null)}destructVAOs(){const t=this.extensionManager.vertex_array_object;if(t)for(let e=0;e<this.vertexArrayObjects.length;e++)t.deleteVertexArrayOES(this.vertexArrayObjects[e]);this.vertexArrayObjects={}}destruct(){this.isDestructed||(this.destructVAOs(),super.destruct())}}class an extends ua{constructor(t,e=La.TEXTURE_2D,i=!1,s=!0,a=!0){super(),this.name="",this.unpackAlignment=4,this.flipY=!1,this.autoGenerateMips=!0,this.dirty=!0,this.mipsDirty=!1,this._format=-1,this._type=-1,this._formatType="",this._internalFormat=-1,this._useMips=!1,this._minFilterLinear=!0,this._magFilterLinear=!0,this._clampS=!0,this._clampT=!0,this._clampR=void 0,this._anisotropy=-1,this.renderer=t,this.renderer.textureCount++,this.target=e,this.textureGL=this.renderer.context.createTexture(),this.useMips=i,this.filterLinear=s,this.clampToEdge=a}bindToSlot(t=0){this.renderer.renderState.bindTextureToSlot(this,t),(this.dirty||this.mipsDirty)&&(this.renderer.renderState.activateSlot(t),this.useMips&&this.mipsDirty&&this.autoGenerateMips&&this.generateMips(),this.dirty&&this.updateTexParameters(),this.mipsDirty=!1,this.dirty=!1)}bind(){this.renderer.context.activeTexture(La.TEXTURE0+this.renderer.maxParams.MAX_TEXTURE_IMAGE_UNITS-1),this.renderer.context.bindTexture(this.target,this.textureGL),this.dirty&&(this.updateTexParameters(),this.dirty=!1)}setSize(t,e,i){}get format(){return this._format}get type(){return this._type}get formatType(){return this._formatType}get internalFormat(){return this._internalFormat}get useMips(){return this._useMips}set useMips(t){this._useMips=t,this.dirty=!0}set filterNearest(t){this.filterLinear=!t}set filterLinear(t){this._minFilterLinear=t,this._magFilterLinear=t,this.dirty=!0}set minFilterLinear(t){this._minFilterLinear=t,this.dirty=!0}set magFilterLinear(t){this._magFilterLinear=t,this.dirty=!0}set anisotropy(t){this.filterLinear=!0,this._anisotropy=t,this.dirty=!0}set clampToEdge(t){this._clampS=t,this._clampT=t,this.target===Va.TEXTURE_3D&&(this._clampR=t),this.dirty=!0}set clampS(t){this._clampS=t,this.dirty=!0}set clampT(t){this._clampT=t,this.dirty=!0}set clampR(t){this._clampR=t,this.dirty=!0}updateTexParameters(){const t=this.renderer.context;t.texParameteri(this.target,La.TEXTURE_MAG_FILTER,this._magFilterLinear?La.LINEAR:La.NEAREST),t.texParameteri(this.target,La.TEXTURE_MIN_FILTER,this.useMips&&!this.mipsDirty?this._minFilterLinear?La.LINEAR_MIPMAP_LINEAR:La.NEAREST_MIPMAP_LINEAR:this._minFilterLinear?La.LINEAR:La.NEAREST),t.texParameteri(this.target,La.TEXTURE_WRAP_S,this._clampS?La.CLAMP_TO_EDGE:La.REPEAT),t.texParameteri(this.target,La.TEXTURE_WRAP_T,this._clampT?La.CLAMP_TO_EDGE:La.REPEAT),void 0!==this._clampR&&t.texParameteri(this.target,La.TEXTURE_WRAP_T,this._clampR?La.CLAMP_TO_EDGE:La.REPEAT),this._anisotropy>1&&this.renderer.extensionManager.filter_anisotropic&&(this._anisotropy=Math.min(this.renderer.extensionManager.maxAnisotropy,this._anisotropy),t.texParameterf(this.target,this.renderer.extensionManager.filter_anisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._anisotropy))}generateMipsIfNeeded(){this.useMips&&this.autoGenerateMips&&this.mipsDirty&&this.generateMips()}generateMips(){this.renderer.context.generateMipmap(this.target),this.mipsDirty=!1}destruct(){this.isDestructed||this.textureGL&&this.renderer.context.deleteTexture(this.textureGL),super.destruct()}}class nn{static checkFloatCompatibility(t,e){if(t.isWebgl2)return e;if(!t.extensionManager.texture_float)if(t.extensionManager.texture_half_float){if(e===nn.RGB_FLOAT)return nn.RGB_HALF_FLOAT;if(e===nn.RGBA_FLOAT)return nn.RGBA_HALF_FLOAT}else console.log("Texture: setFormatType: not supported: ",e);return e}static checkHalfFloatCompatibility(t,e){if(t.isWebgl2)return e;if(!t.extensionManager.texture_half_float)if(t.extensionManager.texture_float){if(e===nn.RGB_HALF_FLOAT)return nn.RGB_FLOAT;if(e===nn.RGBA_HALF_FLOAT)return nn.RGBA_FLOAT}else console.log("Texture: setFormatType: not supported: ",e);return e}static validateFormatType(t,e){switch(e){case nn.RGB_FLOAT:e=this.checkFloatCompatibility(t,e);case nn.RGBA_FLOAT:e=this.checkFloatCompatibility(t,e);case nn.RGBA_HALF_FLOAT:e=this.checkHalfFloatCompatibility(t,e);case nn.RGB_HALF_FLOAT:e=this.checkHalfFloatCompatibility(t,e)}return e}static getFormat(t,e){switch(e){case nn.RGBA_UNSIGNED_BYTE:return La.RGBA;case nn.RGB_UNSIGNED_BYTE:case nn.RGB_FLOAT:return La.RGB;case nn.RGBA_FLOAT:case nn.RGBA_HALF_FLOAT:return La.RGBA;case nn.RGB_HALF_FLOAT:return La.RGB;case nn.RG_HALF_FLOAT:return Va.RG;case nn.LUMINANCE_UNSIGNED_BYTE:case nn.LUMINANCE_FLOAT:case nn.LUMINANCE_HALF_fLOAT:return t.isWebgl2?Va.RED:La.LUMINANCE;case nn.DEPTH_UINTSHORT:case nn.DEPTH_FLOAT:return La.DEPTH_COMPONENT;default:return da.error("can not yet get format for formatType: ",e),-1}}static getType(t,e){switch(e){case nn.RGBA_UNSIGNED_BYTE:case nn.RGB_UNSIGNED_BYTE:return La.UNSIGNED_BYTE;case nn.RGBA_FLOAT:case nn.RGB_FLOAT:return La.FLOAT;case nn.RGBA_HALF_FLOAT:case nn.RGB_HALF_FLOAT:case nn.RG_HALF_FLOAT:return nn.getHalfFloatType(t);case nn.LUMINANCE_UNSIGNED_BYTE:return La.UNSIGNED_BYTE;case nn.LUMINANCE_FLOAT:return La.FLOAT;case nn.LUMINANCE_HALF_fLOAT:return nn.getHalfFloatType(t);case nn.DEPTH_UINTSHORT:return La.UNSIGNED_SHORT;case nn.DEPTH_FLOAT:return La.FLOAT;default:return da.error("can not yet get type for formatType: ",e),-1}}static getHalfFloatType(t){if(t.isWebgl2)return Va.HALF_FLOAT;{const e=t.extensionManager.texture_half_float;return e?e.HALF_FLOAT_OES:-1}}static getInternalFormat(t){switch(t){case nn.RGBA_UNSIGNED_BYTE:return Va.RGBA8;case nn.RGB_UNSIGNED_BYTE:return Va.RGB8;case nn.RGBA_FLOAT:return Va.RGBA32F;case nn.RGB_FLOAT:return Va.RGB32F;case nn.RGBA_HALF_FLOAT:return Va.RGBA16F;case nn.RGB_HALF_FLOAT:return Va.RGB16F;case nn.RG_HALF_FLOAT:return Va.RG16F;case nn.LUMINANCE_UNSIGNED_BYTE:return Va.R8;case nn.LUMINANCE_FLOAT:return Va.R32F;case nn.LUMINANCE_HALF_fLOAT:return Va.R16F;case nn.DEPTH_UINTSHORT:return Va.DEPTH_COMPONENT24;case nn.DEPTH_FLOAT:return Va.DEPTH_COMPONENT32F;default:return da.error("can not yet get type for formatType: ",t),-1}}static getBytesPerPixel(t){switch(t){case nn.RGBA_UNSIGNED_BYTE:return 4;case nn.RGB_UNSIGNED_BYTE:return 3;case nn.RGB_FLOAT:return 12;case nn.RGBA_FLOAT:return 16;case nn.RGBA_HALF_FLOAT:return 8;case nn.RGB_HALF_FLOAT:return 6;case nn.RG_HALF_FLOAT:return 4;case nn.LUMINANCE_UNSIGNED_BYTE:return 1;case nn.LUMINANCE_FLOAT:return 4;case nn.LUMINANCE_HALF_fLOAT:case nn.DEPTH_UINTSHORT:return 2;case nn.DEPTH_FLOAT:default:return 4}}}nn.ALPHA_UNSIGNED_BYTE="ALPHA UNSIGNED_BYTE",nn.ALPHA_FLOAT="ALPHA FLOAT",nn.RGBA_UNSIGNED_BYTE="RGBA UNSIGNED_BYTE",nn.RGBA_FLOAT="RGBA FLOAT",nn.RGBA_HALF_FLOAT="RGBA HALF_FLOAT",nn.RGB_HALF_FLOAT="RGB HALF_FLOAT",nn.RGB_UNSIGNED_BYTE="RGB UNSIGNED_BYTE",nn.RGB_FLOAT="RGB_FLOAT",nn.LUMINANCE_UNSIGNED_BYTE="LUMINANCE UNSIGNED_BYTE",nn.LUMINANCE_FLOAT="LUMINANCE FLOAT",nn.LUMINANCE_HALF_fLOAT="LUMINANCE HALF_FLOAT",nn.DEPTH_UINTSHORT="DEPTH_UINTSHORT",nn.DEPTH_FLOAT="DEPTH_FLOAT",nn.RG_HALF_FLOAT="RG HALF_FLOAT";class rn{static getTempCanvas(t,e){const i=document.createElement("canvas");return i.width=t,i.height=e,i}static flipX(t){const e=rn.getTempCanvas(t.width,t.height),i=e.getContext("2d");return i.transform(-1,0,0,1,e.width,0),i.drawImage(t,0,0),e}static flipY(t){const e=rn.getTempCanvas(t.width,t.height),i=e.getContext("2d");return i.transform(1,0,0,-1,0,e.height),i.drawImage(t,0,0),e}static resizeImage(t,e,i){if(e===t.width&&i===t.height)return t;const s=rn.getTempCanvas(e,i);return s.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,e,i),s}static createDummyImage(t,e,i=""){const s=rn.getTempCanvas(t,e),a=s.getContext("2d");a.fillStyle="#eb7d24",a.fillRect(0,0,t,e),a.beginPath();for(let n=0;n<t;n+=64)a.moveTo(n,0),a.lineTo(n,e);for(let n=0;n<e;n+=64)a.moveTo(0,n),a.lineTo(t,n);return a.strokeStyle="#ffffff",a.stroke(),a.font="30px Arial",a.fillStyle="#ffffff",a.fillText(t+"x"+e,8,32),i.length&&a.fillText(i,Math.max(0,t/2-8*i.length),e/2+16),s}static checkImageFormatSupported(t,e){const i=new Image;i.onload=()=>{e(i.width>0&&i.height>0)},i.onerror=()=>{e(!1)};try{i.src=t}catch(s){e(!1)}}static checkWebpSupported(t){rn.checkImageFormatSupported("data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t)}static checkAvifSupported(t){rn.checkImageFormatSupported("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABMAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgS0AAAAAABNjb2xybmNseAACAAIAAoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAABttZGF0EgAKBDgABokyCRAAAAAP+I9ngw==",t)}}class on extends an{constructor(t,e=nn.RGBA_UNSIGNED_BYTE,i=!1,s=!0,a=!0){super(t,La.TEXTURE_2D,i,s,a),this._size=new Pa(-1,-1),this._formatType=t.isWebgl2?e:nn.validateFormatType(t,e),this._format=nn.getFormat(this.renderer,this.formatType),this._type=nn.getType(this.renderer,this.formatType),this._internalFormat=t.isWebgl2?nn.getInternalFormat(e):this._format}get width(){return this._size.x}get height(){return this._size.y}get size(){return this._size.clone()}get aspectRatio(){return this.width/this.height}setSize(t,e){t===this.width&&e===this.height||(this._size.setValues(t,e),this.bind(),this.renderer.isWebgl2?this.renderer.context.texImage2D(La.TEXTURE_2D,0,this._internalFormat,this.width,this.height,0,this.format,this.type,null):this.renderer.context.texImage2D(La.TEXTURE_2D,0,this.format,this.width,this.height,0,this.format,this.type,null),da.log("expensive operation: resize: ",t,e,"format: ",this.format),this.mipsDirty=!0)}generateMipsIfNeeded(){this.useMips&&(this.renderer.isWebgl2||_a.isPowerOfTwo(this.width)&&_a.isPowerOfTwo(this.height)?super.generateMipsIfNeeded():(da.error("can't generate mips: npot: ",this.width,this.height),this.useMips=!1))}setData(t,e,i,s=this.flipY){this.flipY=s;const a=this.renderer.context;this.bind(),a.pixelStorei(La.UNPACK_ALIGNMENT,this.unpackAlignment),a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,s?1:0),a.pixelStorei(La.UNPACK_COLORSPACE_CONVERSION_WEBGL,La.NONE),this.renderer.isWebgl2?a.texImage2D(La.TEXTURE_2D,0,this._internalFormat,e,i,0,this.format,this.type,t):a.texImage2D(La.TEXTURE_2D,0,this.format,e,i,0,this.format,this.type,t),a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,0),this._size.setValues(e,i),this.mipsDirty=!0,this.generateMipsIfNeeded()}getData(t){const e=this.renderer.context;let i;switch(t||(t=on.getFramebuffer(this.renderer)),e.bindFramebuffer(La.FRAMEBUFFER,t),e.framebufferTexture2D(La.FRAMEBUFFER,La.COLOR_ATTACHMENT0,La.TEXTURE_2D,this.textureGL,0),this.formatType){case nn.RGBA_FLOAT:i=new Float32Array(this.width*this.height*4);break;case nn.RGB_FLOAT:i=new Float32Array(this.width*this.height*3);break;case nn.RGBA_UNSIGNED_BYTE:i=new Uint8Array(this.width*this.height*4);break;case nn.RGB_UNSIGNED_BYTE:i=new Uint8Array(this.width*this.height*3);break;case nn.LUMINANCE_UNSIGNED_BYTE:i=new Uint8Array(this.width*this.height);break;default:throw new Error("can not yet get data for format type: "+this.formatType)}return e.readPixels(0,0,this.width,this.height,this.format,this.type,i),e.bindFramebuffer(e.FRAMEBUFFER,null),i}getPixel(t,e){const i=this.renderer.context,s=on.getFramebuffer(this.renderer);i.bindFramebuffer(La.FRAMEBUFFER,s),i.framebufferTexture2D(La.FRAMEBUFFER,La.COLOR_ATTACHMENT0,La.TEXTURE_2D,this.textureGL,0);const a=new Uint8Array(4);return i.readPixels(t,e,1,1,La.RGBA,La.UNSIGNED_BYTE,a),i.bindFramebuffer(i.FRAMEBUFFER,null),a}static getFramebuffer(t){return on._framebuffers[t.id]||(on._framebuffers[t.id]=t.context.createFramebuffer()),on._framebuffers[t.id]}get channelCount(){switch(this.format){case La.RGBA:return 4;case La.RGB:return 3;case Va.RG:return 2;case La.LUMINANCE:case Va.RED:return 1;default:return da.ENABLED&&console.warn("unhandled format",this.format),4}}setImage(t,e=!0,i=!1){if(this.isDestructed)return;if(this.useMips&&!this.renderer.isWebgl2&&(!_a.isPowerOfTwo(t.width)||!_a.isPowerOfTwo(t.height))&&!(t instanceof ImageData)){const e=_a.nextPowerOfTwo(t.width),i=_a.nextPowerOfTwo(t.height);console.warn("Expensive operation: setImage - resize image to dimensions of power of two "+e+", "+i),t=rn.resizeImage(t,e,i)}this.flipY=e;const s=this.renderer.context;this.bind(),s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,e?1:0),s.pixelStorei(La.UNPACK_COLORSPACE_CONVERSION_WEBGL,La.NONE),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i?1:0),s.texImage2D(La.TEXTURE_2D,0,this._internalFormat,this.format,this.type,t),t instanceof HTMLVideoElement?this._size.setValues(t.videoWidth,t.videoHeight):(this._size.setValues(t.width,t.height),on.textureBytesLoaded+=this.width*this.height*nn.getBytesPerPixel(this.formatType)),s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,0),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,0),this.mipsDirty=!0,this.generateMipsIfNeeded()}setImageSub(t,e,i,s,a,n=0,r=!0){const o=this.renderer.context;o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,r?1:0),this.bind(),o.texSubImage2D(La.TEXTURE_2D,n,e,i,this.format,this.type,t),o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,0)}static logImageTextureMemoryUsage(){da.log("ImageTextureMemoryUsage: "+on.textureBytesLoaded/1048576+" MB")}destruct(){if(on._framebuffers[this.renderer.id]){this.renderer.context.deleteFramebuffer(on._framebuffers[this.renderer.id]),on._framebuffers[this.renderer.id]=null}super.destruct()}}on.textureBytesLoaded=0,on._framebuffers={};class ln extends on{constructor(t,e=1,i=1,s=nn.DEPTH_UINTSHORT){super(t,s,!1,!1,!0),this.setSize(e,i)}}class cn extends on{constructor(t,e=1,i=1,s=nn.RGBA_UNSIGNED_BYTE,a=!1,n=!1,r=!0,o=!1,l=!1,c=!1){super(t,s,!1,n,r),this.renderBuffer=null,this.colorFramebuffer=null,this.scaleToCanvas=!1,this.sizeMultiplier=1,this.frameBufferComplete=!1,this._antiAlias=!1,this.aaSamples=4,this.setSize(e,i);const h=this.renderer.context;this.frameBuffer=h.createFramebuffer(),h.bindFramebuffer(h.FRAMEBUFFER,this.frameBuffer),h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,this.textureGL,0),c&&this.renderer.isWebgl2&&(this._antiAlias=!0,this.addMultisampleRenderBuffer()),o&&l?this.depthStencilBuffer=this.createDepthStencilBuffer(e,i):o?this.depthBuffer=this.createDepthBuffer(e,i):l&&(this.stencilBuffer=this.createStencilBuffer(e,i)),this.frameBufferComplete=this.testBuffer(),h.bindFramebuffer(h.FRAMEBUFFER,null)}addMultisampleRenderBuffer(){if(this.renderer.isWebgl2){const t=this.renderer.context;this.colorFramebuffer=t.createFramebuffer(),this.renderBuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.renderBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,this.aaSamples,this._internalFormat,this.width,this.height),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,this.renderBuffer),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,this.colorFramebuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.textureGL,0),t.bindFramebuffer(t.FRAMEBUFFER,null)}}resolveMultisampleBuffer(){if(this.renderer.isWebgl2&&this.renderBuffer){const t=this.renderer.context;t.bindFramebuffer(t.READ_FRAMEBUFFER,this.frameBuffer),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,this.colorFramebuffer),t.clearBufferfv(t.COLOR,0,[0,0,0,1]),t.blitFramebuffer(0,0,this.width,this.height,0,0,this.width,this.height,t.COLOR_BUFFER_BIT,t.NEAREST),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null)}}testBuffer(){const t=this.renderer.context;t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer);const e=t.checkFramebufferStatus(t.FRAMEBUFFER);switch(e){case t.FRAMEBUFFER_COMPLETE:return!0;case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return console.log("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_ATTACHMENT",this.formatType),!1;case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return console.log("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",this.formatType),!1;case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return console.log("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_DIMENSIONS",this.formatType),!1;case t.FRAMEBUFFER_UNSUPPORTED:return console.log("Incomplete framebuffer: FRAMEBUFFER_UNSUPPORTED",this.formatType),!1;default:return console.log("Incomplete framebuffer: "+e,this.formatType),!1}}setTexture3DSlice(t,e,i=0){const s=this.renderer.context;s.bindFramebuffer(s.FRAMEBUFFER,this.frameBuffer),s.framebufferTextureLayer(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,t.textureGL,i,e)}addDepthTexture(){this.renderer.extensionManager.depth_texture?this.setDepthTexture(new ln(this.renderer,this.width,this.height)):console.log("addDepthTexture: extension not supported")}setDepthTexture(t){t.setSize(this.width,this.height),this.depthTexture=t;const e=this.renderer.context;e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,this.depthTexture.textureGL,0),e.bindFramebuffer(e.FRAMEBUFFER,null)}initDepthBuffer(t,e,i){const s=this.renderer.context;if(s.bindFramebuffer(s.FRAMEBUFFER,this.frameBuffer),s.bindRenderbuffer(s.RENDERBUFFER,t),this._antiAlias&&this.renderer.isWebgl2){this.renderer.context.renderbufferStorageMultisample(s.RENDERBUFFER,this.aaSamples,s.DEPTH_COMPONENT16,e,i)}else s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_COMPONENT16,e,i);s.bindRenderbuffer(La.RENDERBUFFER,null)}initStencilBuffer(t,e,i){const s=this.renderer.context;if(s.bindRenderbuffer(s.RENDERBUFFER,t),this._antiAlias&&this.renderer.isWebgl2){const t=this.renderer.context;t.renderbufferStorageMultisample(s.RENDERBUFFER,this.aaSamples,t.STENCIL_INDEX8,e,i)}else s.renderbufferStorage(s.RENDERBUFFER,s.STENCIL_INDEX8,e,i);s.bindRenderbuffer(La.RENDERBUFFER,null)}initDepthStencilBuffer(t,e,i){const s=this.renderer.context;if(s.bindFramebuffer(s.FRAMEBUFFER,this.frameBuffer),s.bindRenderbuffer(s.RENDERBUFFER,t),this._antiAlias&&this.renderer.isWebgl2){const t=this.renderer.context;t.renderbufferStorageMultisample(s.RENDERBUFFER,this.aaSamples,t.DEPTH24_STENCIL8,e,i)}else s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,e,i);s.bindRenderbuffer(La.RENDERBUFFER,null)}createDepthBuffer(t,e){const i=this.renderer.context,s=i.createRenderbuffer();return this.initDepthBuffer(s,t,e),i.bindRenderbuffer(i.RENDERBUFFER,s),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.RENDERBUFFER,s),i.bindRenderbuffer(La.RENDERBUFFER,null),s}createDepthStencilBuffer(t,e){const i=this.renderer.context,s=i.createRenderbuffer();return this.initDepthStencilBuffer(s,t,e),i.bindRenderbuffer(i.RENDERBUFFER,s),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,s),i.bindRenderbuffer(La.RENDERBUFFER,null),s}createStencilBuffer(t,e){const i=this.renderer.context,s=i.createRenderbuffer();return this.initStencilBuffer(s,t,e),i.bindRenderbuffer(i.RENDERBUFFER,s),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.STENCIL_ATTACHMENT,i.RENDERBUFFER,s),i.bindRenderbuffer(La.RENDERBUFFER,null),s}setAsTarget(){const t=this.renderer.context;t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),this.depthBuffer||this.depthTexture||this.depthStencilBuffer?this.renderer.renderState.setDepthMask(!0):this.renderer.renderState.setDepthMask(!1),this.mipsDirty=!0}setSize(t,e){if(t!==this.width||e!==this.height){if(this.depthStencilBuffer&&this.initDepthStencilBuffer(this.depthStencilBuffer,t,e),this.depthBuffer&&this.initDepthBuffer(this.depthBuffer,t,e),this.stencilBuffer&&this.initStencilBuffer(this.stencilBuffer,t,e),this.renderBuffer){const i=this.renderer.context;i.bindRenderbuffer(i.RENDERBUFFER,this.renderBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,this.aaSamples,this._internalFormat,t,e),i.bindRenderbuffer(La.RENDERBUFFER,null)}this.depthTexture&&this.depthTexture.setSize(t,e),super.setSize(t,e)}}getData(t=null){return super.getData(this.frameBuffer)}getDataRef(t){const e=this.renderer.context;e.bindFramebuffer(La.FRAMEBUFFER,this.frameBuffer),e.readPixels(0,0,this.width,this.height,this.format,this.type,t),e.bindFramebuffer(e.FRAMEBUFFER,null)}getPixelU8(t,e){const i=this.renderer.context;i.bindFramebuffer(La.FRAMEBUFFER,this.frameBuffer);const s=new Uint8Array(4);return i.readPixels(t,e,1,1,La.RGBA,La.UNSIGNED_BYTE,s),i.bindFramebuffer(i.FRAMEBUFFER,null),s}getPixel(t,e){const i=this.renderer.context;let s;switch(i.bindFramebuffer(La.FRAMEBUFFER,this.frameBuffer),this.formatType){case nn.RGBA_FLOAT:s=new Float32Array(4);break;case nn.RGBA_UNSIGNED_BYTE:s=new Uint8Array(4);break;case nn.LUMINANCE_UNSIGNED_BYTE:s=new Uint8Array(1);break;case nn.LUMINANCE_FLOAT:s=new Float32Array(1);break;default:throw new Error("Can not yet get data for format type: "+this.formatType)}return i.readPixels(t,e,1,1,this.format,this.type,s),i.bindFramebuffer(i.FRAMEBUFFER,null),s}destruct(){const t=this.renderer.context;this.frameBuffer&&(t.deleteFramebuffer(this.frameBuffer),delete this.frameBuffer),this.colorFramebuffer&&(t.deleteFramebuffer(this.colorFramebuffer),this.colorFramebuffer=null),this.depthStencilBuffer&&(t.deleteRenderbuffer(this.depthStencilBuffer),delete this.depthStencilBuffer),this.depthBuffer&&(t.deleteRenderbuffer(this.depthBuffer),delete this.depthBuffer),this.stencilBuffer&&(t.deleteRenderbuffer(this.stencilBuffer),delete this.stencilBuffer),this.renderBuffer&&(t.deleteRenderbuffer(this.renderBuffer),this.renderBuffer=null),this.depthTexture&&(this.depthTexture.destruct(),delete this.depthTexture),super.destruct()}}class hn{constructor(t=window){hn._instance&&console.log("!-use getInstance!"),t.addEventListener("keydown",t=>{const e=t.keyCode||t.which;if(hn._keyState[e]=!0,hn._keyHitCallbacks[e])for(let i=0;i<hn._keyHitCallbacks[e].length;i++)hn._keyHitCallbacks[e][i].call(this)},!1),t.addEventListener("keyup",t=>{const e=t.keyCode||t.which;hn._keyState[e]=!1},!1)}getCharDown(t){return hn._keyState[t.charCodeAt(0)]}getKeyCodeDown(t){return hn._keyState[t]}addKeyHitEvent(t,e){hn._keyHitCallbacks[t]||(hn._keyHitCallbacks[t]=[]),hn._keyHitCallbacks[t].push(e)}static getInstance(){return hn._instance||(hn._instance=new hn),hn._instance}}hn._keyState=[],hn._keyHitCallbacks=[];var dn=hn;class un{}un.BACKSPACE=8,un.TAB=9,un.ENTER=13,un.SHIFT=16,un.CTRL=17,un.ALT=18,un.PAUSE=19,un.CAPS_LOCK=20,un.ESCAPE=27,un.SPACE=32,un.PAGE_UP=33,un.PAGE_DOWN=34,un.END=35,un.HOME=36,un.LEFT_ARROW=37,un.UP_ARROW=38,un.RIGHT_ARROW=39,un.DOWN_ARROW=40,un.INSERT=45,un.DELETE=46,un.KEY_0=48,un.KEY_1=49,un.KEY_2=50,un.KEY_3=51,un.KEY_4=52,un.KEY_5=53,un.KEY_6=54,un.KEY_7=55,un.KEY_8=56,un.KEY_9=57,un.KEY_A=65,un.KEY_B=66,un.KEY_C=67,un.KEY_D=68,un.KEY_E=69,un.KEY_F=70,un.KEY_G=71,un.KEY_H=72,un.KEY_I=73,un.KEY_J=74,un.KEY_K=75,un.KEY_L=76,un.KEY_M=77,un.KEY_N=78,un.KEY_O=79,un.KEY_P=80,un.KEY_Q=81,un.KEY_R=82,un.KEY_S=83,un.KEY_T=84,un.KEY_U=85,un.KEY_V=86,un.KEY_W=87,un.KEY_X=88,un.KEY_Y=89,un.KEY_Z=90,un.LEFT_META=91,un.RIGHT_META=92,un.SELECT=93,un.NUMPAD_0=96,un.NUMPAD_1=97,un.NUMPAD_2=98,un.NUMPAD_3=99,un.NUMPAD_4=100,un.NUMPAD_5=101,un.NUMPAD_6=102,un.NUMPAD_7=103,un.NUMPAD_8=104,un.NUMPAD_9=105,un.MULTIPLY=106,un.ADD=107,un.SUBTRACT=109,un.DECIMAL=110,un.DIVIDE=111,un.F1=112,un.F2=113,un.F3=114,un.F4=115,un.F5=116,un.F6=117,un.F7=118,un.F8=119,un.F9=120,un.F10=121,un.F11=122,un.F12=123,un.NUM_LOCK=144,un.SCROLL_LOCK=145,un.SEMICOLON=186,un.EQUALS=187,un.COMMA=188,un.DASH=189,un.PERIOD=190,un.FORWARD_SLASH=191,un.GRAVE_ACCENT=192,un.OPEN_BRACKET=219,un.BACK_SLASH=220,un.CLOSE_BRACKET=221,un.SINGLE_QUOTE=222;var pn,mn=un;class fn extends en{constructor(t,e,i,s,a=!1,n=!0,r=!1,o=!1,l=!1){super(t,e,en.webgl2ContextNames,i,s,a,n,r,o,l),this.vertexArrayObjects={},this.vertexArrayObjects={}}preprocessShaderString(t){const e=t.indexOf("#version");let i="";return e>-1&&(i=t.substr(e,t.indexOf("\n",e)-e)),t=i+"\n#define WEBGL2\n"+(t=t.replace(i,""))}getVAO(t,e){const i=t.id+"_"+e.id;let s=this.vertexArrayObjects[i];return s||(s=this.initVAO(t,e),this.vertexArrayObjects[i]=s),s}getInstancedVAO(t,e,i){const s=t.id+"_"+e.id+"_"+i.id;let a=this.vertexArrayObjects[s];return a||(a=this.initVAO(t,e,i),this.vertexArrayObjects[s]=a),a}initVAO(t,e,i=null){const s=this.context,a=s.createVertexArray();s.bindVertexArray(a);let n=0;t.isInterleaved()&&(t.interleaveData(),this.context.bindBuffer(this.context.ARRAY_BUFFER,t.interleavedBuffer));for(let r=0;r<t.attributes.length;r++){const i=t.attributes[r],a=e.shader.getAttributeByName(i.name);if(a){if(i.stride!==a.stride){da.log("Renderer: initVAO: strides don't match: ",i.stride,a.stride);continue}if(t.isInterleaved())s.enableVertexAttribArray(a.loc),s.vertexAttribPointer(a.loc,a.stride,s.FLOAT,!1,4*t.interleavedStrideSum,n);else{if(void 0===i.buffer)throw new ReferenceError("Expected buffer to be defined on VertexAttribute on non-interleaved mesh.");s.bindBuffer(s.ARRAY_BUFFER,i.buffer),s.enableVertexAttribArray(a.loc),s.vertexAttribPointer(a.loc,a.stride,s.FLOAT,!1,4*a.stride,0)}}t.interleaved&&(n+=4*i.stride)}if(t.indexBuffer&&s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,t.indexBuffer),i)for(const r of i.attributes)s.bindBuffer(s.ARRAY_BUFFER,r.buffer),s.enableVertexAttribArray(r.index),s.vertexAttribPointer(r.index,r.nrComponents,s.FLOAT,!1,r.bufferStride,r.bufferOffset),s.vertexAttribDivisor(r.index,1);return a}draw(t,e,i=0,s=-1){e.setActive();const a=this.getVAO(t,e),n=this.context;n.bindVertexArray(a),this.drawElements(t,e,i,s),n.bindVertexArray(null)}startBatch(t,e){e.setActive();const i=this.getVAO(t,e);this.context.bindVertexArray(i)}drawElements(t,e,i=0,s=-1){if(t.hasIndices()){const i=t.indices.length;s>0?this.context.drawElements(e.drawType,Math.min(i,s),t.indexType,0):this.context.drawElements(e.drawType,i,t.indexType,0)}else{const a=t.getNumVertices()-i;s>0?this.context.drawArrays(e.drawType,i,Math.min(a,s)):this.context.drawArrays(e.drawType,i,a)}}drawInstanced(t,e,i,s){e.setActive();const a=this.getInstancedVAO(t,e,s),n=this.context;n.bindVertexArray(a),t.hasIndices()?n.drawElementsInstanced(e.drawType,t.indices.length,t.indexType,0,i):n.drawArraysInstanced(e.drawType,0,t.getNumVertices(),i)}drawInstancedDynamic(t,e,i,s){e.setActive();const a=this.getVAO(t,e),n=this.context;n.bindVertexArray(a);for(const r of s.attributes)n.bindBuffer(n.ARRAY_BUFFER,r.buffer),n.enableVertexAttribArray(r.index),n.vertexAttribPointer(r.index,r.nrComponents,n.FLOAT,!1,r.bufferStride,r.bufferOffset),n.vertexAttribDivisor(r.index,1);t.hasIndices()?n.drawElementsInstanced(e.drawType,t.indices.length,t.indexType,0,i):n.drawArraysInstanced(e.drawType,0,t.getNumVertices(),i)}destructVAOs(){for(const t in this.vertexArrayObjects)this.context.deleteVertexArray(this.vertexArrayObjects[t]);this.vertexArrayObjects={}}destruct(){this.isDestructed||(this.destructVAOs(),super.destruct())}}class gn extends ua{constructor(t){super(),this.animators=[],this.animatorsById={},this.clips=[],this.clipsById={},this.eventDispatcher=t}addClip(t){this.clipsById[t.id]=t,this.clips.push(t)}addAnimator(t){this.animatorsById[t.id]=t,this.animators.push(t)}getClipByName(t){for(const e of this.clips)if(e.name==t)return e;return console.warn("getClipByName: not found",t,this.clips),null}getValueOfTrack(t,e){for(const i of this.animators)for(const s of i.clips)for(const i of s.tracks)if(i.name.indexOf(t)>=0)return i.evaluate(e);return 0}getTrack(t){for(const e of this.animators)for(const i of e.clips)for(const e of i.tracks)if(e.name.indexOf(t)>=0)return e;return null}update(t){for(const e of this.animators)e.update(t,t=>{this.eventDispatcher.dispatchEvent(new ds(ds.ANIMATION_EVENT,{data:t}))})}getEventTimeByName(t){for(const e of this.animators)for(const i of e.clips)for(const e of i.events)if(t==e.name)return e.time;return da.ENABLED&&console.warn("event not found",t,this.animators),0}destruct(t=!0){for(const e of this.animators)e.destruct();super.destruct()}}class vn{constructor(...t){this.m=new Array(9),9===t.length?this.m=[...t]:vn.identity(this)}clone(){return vn.clone(this)}static clone(t){return new vn(...t.m)}static copy(t,e){return t.m=[...e.m],t}static fromValues(t,e,i,s,a,n,r,o,l){return new vn(t,e,i,s,a,n,r,o,l)}static setValues(t,e,i,s,a,n,r,o,l,c){const h=t.m;return h[0]=e,h[1]=i,h[2]=s,h[3]=a,h[4]=n,h[5]=r,h[6]=o,h[7]=l,h[8]=c,h}static identity(t){const e=t.m;return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}static transpose(t,e){const i=t.m,s=e.m;if(i===s){let t=s[1],e=s[2],a=s[5];i[1]=s[3],i[2]=s[6],i[3]=t,i[5]=s[7],i[6]=e,i[7]=a}else i[0]=s[0],i[1]=s[3],i[2]=s[6],i[3]=s[1],i[4]=s[4],i[5]=s[7],i[6]=s[2],i[7]=s[5],i[8]=s[8];return i}static invert(t,e){const i=t.m,s=e.m;let a=s[0],n=s[1],r=s[2],o=s[3],l=s[4],c=s[5],h=s[6],d=s[7],u=s[8],p=u*l-c*d,m=-u*o+c*h,f=d*o-l*h,g=a*p+n*m+r*f;return g?(g=1/g,i[0]=p*g,i[1]=(-u*n+r*d)*g,i[2]=(c*n-r*l)*g,i[3]=m*g,i[4]=(u*a-r*h)*g,i[5]=(-c*a+r*o)*g,i[6]=f*g,i[7]=(-d*a+n*h)*g,i[8]=(l*a-n*o)*g,i):null}static adjoint(t,e){const i=t.m,s=e.m;let a=s[0],n=s[1],r=s[2],o=s[3],l=s[4],c=s[5],h=s[6],d=s[7],u=s[8];return i[0]=l*u-c*d,i[1]=r*d-n*u,i[2]=n*c-r*l,i[3]=c*h-o*u,i[4]=a*u-r*h,i[5]=r*o-a*c,i[6]=o*d-l*h,i[7]=n*h-a*d,i[8]=a*l-n*o,i}static determinant(t){const e=t.m;let i=e[0],s=e[1],a=e[2],n=e[3],r=e[4],o=e[5],l=e[6],c=e[7],h=e[8];return i*(h*r-o*c)+s*(-h*n+o*l)+a*(c*n-r*l)}static multiply(t,e,i){const s=t.m,a=e.m,n=i.m;let r=a[0],o=a[1],l=a[2],c=a[3],h=a[4],d=a[5],u=a[6],p=a[7],m=a[8],f=n[0],g=n[1],v=n[2],_=n[3],A=n[4],T=n[5],y=n[6],E=n[7],b=n[8];return s[0]=f*r+g*c+v*u,s[1]=f*o+g*h+v*p,s[2]=f*l+g*d+v*m,s[3]=_*r+A*c+T*u,s[4]=_*o+A*h+T*p,s[5]=_*l+A*d+T*m,s[6]=y*r+E*c+b*u,s[7]=y*o+E*h+b*p,s[8]=y*l+E*d+b*m,s}static fromQuat(t,e){const i=t.m,s=e.x,a=e.y,n=e.z,r=e.w,o=s+s,l=a+a,c=n+n,h=s*o,d=a*o,u=a*l,p=n*o,m=n*l,f=n*c,g=r*o,v=r*l,_=r*c;return i[0]=1-u-f,i[3]=d-_,i[6]=p+v,i[1]=d+_,i[4]=1-h-f,i[7]=m-g,i[2]=p-v,i[5]=m+g,i[8]=1-h-u,i}static add(t,e,i){const s=t.m,a=e.m,n=i.m;return s[0]=a[0]+n[0],s[1]=a[1]+n[1],s[2]=a[2]+n[2],s[3]=a[3]+n[3],s[4]=a[4]+n[4],s[5]=a[5]+n[5],s[6]=a[6]+n[6],s[7]=a[7]+n[7],s[8]=a[8]+n[8],s}static subtract(t,e,i){const s=t.m,a=e.m,n=i.m;return s[0]=a[0]-n[0],s[1]=a[1]-n[1],s[2]=a[2]-n[2],s[3]=a[3]-n[3],s[4]=a[4]-n[4],s[5]=a[5]-n[5],s[6]=a[6]-n[6],s[7]=a[7]-n[7],s[8]=a[8]-n[8],s}static multiplyScalar(t,e,i){const s=t.m,a=e.m;return s[0]=a[0]*i,s[1]=a[1]*i,s[2]=a[2]*i,s[3]=a[3]*i,s[4]=a[4]*i,s[5]=a[5]*i,s[6]=a[6]*i,s[7]=a[7]*i,s[8]=a[8]*i,s}static normalFromMat4(t,e){const i=t.m,s=e.m,a=s[0],n=s[1],r=s[2],o=s[3],l=s[4],c=s[5],h=s[6],d=s[7],u=s[8],p=s[9],m=s[10],f=s[11],g=s[12],v=s[13],_=s[14],A=s[15],T=a*c-n*l,y=a*h-r*l,E=a*d-o*l,b=n*h-r*c,R=n*d-o*c,x=r*d-o*h,w=u*v-p*g,O=u*_-m*g,S=u*A-f*g,I=p*_-m*v,M=p*A-f*v,C=m*A-f*_;let L=T*C-y*M+E*I+b*S-R*O+x*w;return L?(L=1/L,i[0]=(c*C-h*M+d*I)*L,i[1]=(h*S-l*C-d*O)*L,i[2]=(l*M-c*S+d*w)*L,i[3]=(r*M-n*C-o*I)*L,i[4]=(a*C-r*S+o*O)*L,i[5]=(n*S-a*M-o*w)*L,i[6]=(v*x-_*R+A*b)*L,i[7]=(_*E-g*x-A*y)*L,i[8]=(g*R-v*E+A*T)*L,i):null}static fromMat4(t,e){const i=t.m,s=e.m;return i[0]=s[0],i[1]=s[1],i[2]=s[2],i[3]=s[4],i[4]=s[5],i[5]=s[6],i[6]=s[8],i[7]=s[9],i[8]=s[10],i}}class _n extends Ia{constructor(t=0,e=0,i=0,s=1){super(t,e,i,s)}dot(t){return _n.dot(this,t)}identity(){return this.x=0,this.y=0,this.z=0,this.w=1,this}multiply(t){const e=this.x,i=this.y,s=this.z,a=this.w,n=t.x,r=t.y,o=t.z,l=t.w;return this.x=e*l+a*n+i*o-s*r,this.y=i*l+a*r+s*n-e*o,this.z=s*l+a*o+e*r-i*n,this.w=a*l-e*n-i*r-s*o,this}invert(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=this.w,this}rotateX(t){t*=.5;const e=this.x,i=this.y,s=this.z,a=this.w,n=Math.sin(t),r=Math.cos(t);return this.x=e*r+a*n,this.y=i*r+s*n,this.z=s*r-i*n,this.w=a*r-e*n,this}rotateY(t){t*=.5;const e=this.x,i=this.y,s=this.z,a=this.w,n=Math.sin(t),r=Math.cos(t);return this.x=e*r-s*n,this.y=i*r+a*n,this.z=s*r+e*n,this.w=a*r-i*n,this}rotateZ(t){t*=.5;const e=this.x,i=this.y,s=this.z,a=this.w,n=Math.sin(t),r=Math.cos(t);return this.x=e*r+i*n,this.y=i*r-e*n,this.z=s*r+a*n,this.w=a*r-s*n,this}setAxisAngle(t,e){e*=.5;const i=Math.sin(e);return this.x=i*t.x,this.y=i*t.y,this.z=i*t.z,this.w=Math.cos(e),this}rotateAxisAngle(t,e){const i=_n.createFromAxisAngle(t,e),s=i.x,a=i.y,n=i.z,r=i.w,o=this.x,l=this.y,c=this.z,h=this.w;return this.x=s*h+r*o+a*c-n*l,this.y=a*h+r*l+n*o-s*c,this.z=n*h+r*c+s*l-a*o,this.w=r*h-s*o-a*l-n*c,this}lookAt(t,e,i){const s=t.clone();s.subtract(e),s.normalize();const a=ga.cross(i,s);a.normalize();const n=ga.cross(s,a);n.normalize();const r=vn.fromValues(a.x,a.y,a.z,n.x,n.y,n.z,s.x,s.y,s.z);return this.fromMat3(r)}fromMat3(t){const e=t.m,i=e[0]+e[4]+e[8];let s;if(i>0)s=Math.sqrt(i+1),this.w=.5*s,s=.5/s,this.x=(e[5]-e[7])*s,this.y=(e[6]-e[2])*s,this.z=(e[1]-e[3])*s;else{let t=0;e[4]>e[0]&&(t=1),e[8]>e[3*t+t]&&(t=2);const i=(t+1)%3,a=(t+2)%3;s=Math.sqrt(e[3*t+t]-e[3*i+i]-e[3*a+a]+1);const n=.5*s,r=.5/s;this.w=(e[3*i+a]-e[3*a+i])*r;const o=(e[3*i+t]+e[3*t+i])*r,l=(e[3*a+t]+e[3*t+a])*r;this.x=0==t?n:0==i?o:l,this.y=1==t?n:1==i?o:l,this.z=2==t?n:2==i?o:l}return this}normalize(){let t=this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w;return t>0&&(t=1/Math.sqrt(t)),this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}static dot(t,e){return t.x*e.x+t.y*e.y+t.z*e.z+t.w*e.w}static lerp(t,e,i){const s=t.x,a=t.y,n=t.z,r=t.w,o=new _n;return o.x=s+i*(e.x-s),o.y=a+i*(e.y-a),o.z=n+i*(e.z-n),o.w=r+i*(e.w-r),o}static closestSlerp(t,e,i){return t.dot(e)<0?_n.slerp(t,_n.invert(e),i):_n.slerp(t,e,i)}static lookAt(t,e,i){const s=t.clone();s.subtract(e),s.normalize();const a=ga.cross(i,s);a.normalize();const n=ga.cross(s,a);n.normalize();const r=vn.fromValues(a.x,a.y,a.z,n.x,n.y,n.z,s.x,s.y,s.z);return _n.fromMat3(r)}static createFromAxisAngle(t,e){const i=.5*e,s=Math.sin(i);return new _n(t.x*s,t.y*s,t.z*s,Math.cos(i))}static getAxisAngle(t){const e=2*Math.acos(t.w),i=Math.sin(e/2),s=new ga;return i>_n.EPSILON?(s.x=t.x/i,s.y=t.y/i,s.z=t.z/i):(s.x=1,s.y=0,s.z=0),s}static getAngle(t,e){const i=_n.dot(t,e);return Math.acos(2*i*i-1)}static multiply(t,e){const i=t.x,s=t.y,a=t.z,n=t.w,r=e.x,o=e.y,l=e.z,c=e.w,h=new _n;return h.x=i*c+n*r+s*l-a*o,h.y=s*c+n*o+a*r-i*l,h.z=a*c+n*l+i*o-s*r,h.w=n*c-i*r-s*o-a*l,h}static calculateW(t){const e=t.x,i=t.y,s=t.z,a=new _n;return a.x=e,a.y=i,a.z=s,a.w=Math.sqrt(Math.abs(1-e*e-i*i-s*s)),a}static exp(t){const e=t.x,i=t.y,s=t.z,a=t.w,n=Math.sqrt(e*e+i*i+s*s),r=Math.exp(a),o=n>0?r*Math.sin(n)/n:0,l=new _n;return l.x=e*o,l.y=i*o,l.z=s*o,l.w=r*Math.cos(n),l}static ln(t){const e=t.x,i=t.y,s=t.z,a=t.w,n=Math.sqrt(e*e+i*i+s*s),r=n>0?Math.atan2(n,a)/n:0,o=new _n;return o.x=e*r,o.y=i*r,o.z=s*r,o.w=.5*Math.log(e*e+i*i+s*s+a*a),o}static scale(t,e){return new _n(t.x*e,t.y*e,t.z*e,t.w*e)}static pow(t,e){let i=_n.ln(t);return i=_n.scale(i,e),_n.exp(i)}static slerp(t,e,i){const s=t.x,a=t.y,n=t.z,r=t.w;let o,l,c,h,d,u=e.x,p=e.y,m=e.z,f=e.w;l=s*u+a*p+n*m+r*f,l<0&&(l=-l,u=-u,p=-p,m=-m,f=-f),1-l>_n.EPSILON?(o=Math.acos(l),c=Math.sin(o),h=Math.sin((1-i)*o)/c,d=Math.sin(i*o)/c):(h=1-i,d=i);const g=new _n;return g.x=h*s+d*u,g.y=h*a+d*p,g.z=h*n+d*m,g.w=h*r+d*f,g}static random(){let t=Math.random(),e=Math.random(),i=Math.random(),s=Math.sqrt(1-t),a=Math.sqrt(t);const n=new _n;return n.x=s*Math.sin(2*Math.PI*e),n.y=s*Math.cos(2*Math.PI*e),n.z=a*Math.sin(2*Math.PI*i),n.w=a*Math.cos(2*Math.PI*i),n}static invert(t){const e=t.x,i=t.y,s=t.z,a=t.w,n=e*e+i*i+s*s+a*a,r=n?1/n:0,o=new _n;return o.x=-e*r,o.y=-i*r,o.z=-s*r,o.w=a*r,o}static conjugate(t){const e=new _n;return e.x=-t.x,e.y=-t.y,e.z=-t.z,e.w=t.w,e}static fromMat3(t){const e=t.m,i=e[0]+e[4]+e[8];let s;const a=new _n;if(i>0)s=Math.sqrt(i+1),a.w=.5*s,s=.5/s,a.x=(e[5]-e[7])*s,a.y=(e[6]-e[2])*s,a.z=(e[1]-e[3])*s;else{let t=0;e[4]>e[0]&&(t=1),e[8]>e[3*t+t]&&(t=2);const i=(t+1)%3,n=(t+2)%3;s=Math.sqrt(e[3*t+t]-e[3*i+i]-e[3*n+n]+1);const r=.5*s,o=.5/s;a.w=(e[3*i+n]-e[3*n+i])*o;const l=(e[3*i+t]+e[3*t+i])*o,c=(e[3*n+t]+e[3*t+n])*o;a.x=0==t?r:0==i?l:c,a.y=1==t?r:1==i?l:c,a.z=2==t?r:2==i?l:c}return a}static fromEuler(t,e,i){t*=.5,e*=.5,i*=.5;const s=Math.sin(t),a=Math.cos(t),n=Math.sin(e),r=Math.cos(e),o=Math.sin(i),l=Math.cos(i),c=new _n;return c.x=s*r*l-a*n*o,c.y=a*n*l+s*r*o,c.z=a*r*o-s*n*l,c.w=a*r*l+s*n*o,c}}_n.EPSILON=1e-9,_n.IDENTITY=new _n,_n.ZERO=new _n(0,0,0,0),_n.tInvB=new _n;class An{constructor(...t){this.m=new Array(16),16===t.length?this.m=[...t]:An.identity(this)}clone(){return An.clone(this)}setValues(t,e,i,s,a,n,r,o,l,c,h,d,u,p,m,f){An.setValues(this,t,e,i,s,a,n,r,o,l,c,h,d,u,p,m,f)}static clone(t){return new An(...t.m)}static copy(t,e){return t.m=[...e.m],t}static fromValues(t,e,i,s,a,n,r,o,l,c,h,d,u,p,m,f){return new An(t,e,i,s,a,n,r,o,l,c,h,d,u,p,m,f)}static setValues(t,e,i,s,a,n,r,o,l,c,h,d,u,p,m,f,g){const v=t.m;return v[0]=e,v[1]=i,v[2]=s,v[3]=a,v[4]=n,v[5]=r,v[6]=o,v[7]=l,v[8]=c,v[9]=h,v[10]=d,v[11]=u,v[12]=p,v[13]=m,v[14]=f,v[15]=g,v}static identity(t){const e=t.m;return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}static transpose(t,e){const i=t.m,s=e.m;if(i===s){const t=s[1],e=s[2],a=s[3],n=s[6],r=s[7],o=s[11];i[1]=s[4],i[2]=s[8],i[3]=s[12],i[4]=t,i[6]=s[9],i[7]=s[13],i[8]=e,i[9]=n,i[11]=s[14],i[12]=a,i[13]=r,i[14]=o}else i[0]=s[0],i[1]=s[4],i[2]=s[8],i[3]=s[12],i[4]=s[1],i[5]=s[5],i[6]=s[9],i[7]=s[13],i[8]=s[2],i[9]=s[6],i[10]=s[10],i[11]=s[14],i[12]=s[3],i[13]=s[7],i[14]=s[11],i[15]=s[15];return i}static invert(t,e){const i=t.m,s=e.m,a=s[0],n=s[1],r=s[2],o=s[3],l=s[4],c=s[5],h=s[6],d=s[7],u=s[8],p=s[9],m=s[10],f=s[11],g=s[12],v=s[13],_=s[14],A=s[15],T=a*c-n*l,y=a*h-r*l,E=a*d-o*l,b=n*h-r*c,R=n*d-o*c,x=r*d-o*h,w=u*v-p*g,O=u*_-m*g,S=u*A-f*g,I=p*_-m*v,M=p*A-f*v,C=m*A-f*_;let L=T*C-y*M+E*I+b*S-R*O+x*w;return L?(L=1/L,i[0]=(c*C-h*M+d*I)*L,i[1]=(r*M-n*C-o*I)*L,i[2]=(v*x-_*R+A*b)*L,i[3]=(m*R-p*x-f*b)*L,i[4]=(h*S-l*C-d*O)*L,i[5]=(a*C-r*S+o*O)*L,i[6]=(_*E-g*x-A*y)*L,i[7]=(u*x-m*E+f*y)*L,i[8]=(l*M-c*S+d*w)*L,i[9]=(n*S-a*M-o*w)*L,i[10]=(g*R-v*E+A*T)*L,i[11]=(p*E-u*R-f*T)*L,i[12]=(c*O-l*I-h*w)*L,i[13]=(a*I-n*O+r*w)*L,i[14]=(v*y-g*b-_*T)*L,i[15]=(u*b-p*y+m*T)*L,i):null}static adjoint(t,e){const i=t.m,s=e.m,a=s[0],n=s[1],r=s[2],o=s[3],l=s[4],c=s[5],h=s[6],d=s[7],u=s[8],p=s[9],m=s[10],f=s[11],g=s[12],v=s[13],_=s[14],A=s[15],T=a*c-n*l,y=a*h-r*l,E=a*d-o*l,b=n*h-r*c,R=n*d-o*c,x=r*d-o*h,w=u*v-p*g,O=u*_-m*g,S=u*A-f*g,I=p*_-m*v,M=p*A-f*v,C=m*A-f*_;return i[0]=c*C-h*M+d*I,i[1]=r*M-n*C-o*I,i[2]=v*x-_*R+A*b,i[3]=m*R-p*x-f*b,i[4]=h*S-l*C-d*O,i[5]=a*C-r*S+o*O,i[6]=_*E-g*x-A*y,i[7]=u*x-m*E+f*y,i[8]=l*M-c*S+d*w,i[9]=n*S-a*M-o*w,i[10]=g*R-v*E+A*T,i[11]=p*E-u*R-f*T,i[12]=c*O-l*I-h*w,i[13]=a*I-n*O+r*w,i[14]=v*y-g*b-_*T,i[15]=u*b-p*y+m*T,i}static determinant(t){const e=t.m,i=e[0],s=e[1],a=e[2],n=e[3],r=e[4],o=e[5],l=e[6],c=e[7],h=e[8],d=e[9],u=e[10],p=e[11],m=e[12],f=e[13],g=e[14],v=i*o-s*r,_=i*l-a*r,A=s*l-a*o,T=h*f-d*m,y=h*g-u*m,E=d*g-u*f;return c*(i*E-s*y+a*T)-n*(r*E-o*y+l*T)+e[15]*(h*A-d*_+u*v)-p*(m*A-f*_+g*v)}static multiply(t,e,i){const s=t.m,a=e.m,n=i.m,r=a[0],o=a[1],l=a[2],c=a[3],h=a[4],d=a[5],u=a[6],p=a[7],m=a[8],f=a[9],g=a[10],v=a[11],_=a[12],A=a[13],T=a[14],y=a[15];let E=n[0],b=n[1],R=n[2],x=n[3];return s[0]=E*r+b*h+R*m+x*_,s[1]=E*o+b*d+R*f+x*A,s[2]=E*l+b*u+R*g+x*T,s[3]=E*c+b*p+R*v+x*y,E=n[4],b=n[5],R=n[6],x=n[7],s[4]=E*r+b*h+R*m+x*_,s[5]=E*o+b*d+R*f+x*A,s[6]=E*l+b*u+R*g+x*T,s[7]=E*c+b*p+R*v+x*y,E=n[8],b=n[9],R=n[10],x=n[11],s[8]=E*r+b*h+R*m+x*_,s[9]=E*o+b*d+R*f+x*A,s[10]=E*l+b*u+R*g+x*T,s[11]=E*c+b*p+R*v+x*y,E=n[12],b=n[13],R=n[14],x=n[15],s[12]=E*r+b*h+R*m+x*_,s[13]=E*o+b*d+R*f+x*A,s[14]=E*l+b*u+R*g+x*T,s[15]=E*c+b*p+R*v+x*y,s}static translate(t,e,i){const s=t.m,a=e.m,n=i.x,r=i.y,o=i.z;let l,c,h,d,u,p,m,f,g,v,_,A;return a===s?(s[12]=a[0]*n+a[4]*r+a[8]*o+a[12],s[13]=a[1]*n+a[5]*r+a[9]*o+a[13],s[14]=a[2]*n+a[6]*r+a[10]*o+a[14],s[15]=a[3]*n+a[7]*r+a[11]*o+a[15]):(l=a[0],c=a[1],h=a[2],d=a[3],u=a[4],p=a[5],m=a[6],f=a[7],g=a[8],v=a[9],_=a[10],A=a[11],s[0]=l,s[1]=c,s[2]=h,s[3]=d,s[4]=u,s[5]=p,s[6]=m,s[7]=f,s[8]=g,s[9]=v,s[10]=_,s[11]=A,s[12]=l*n+u*r+g*o+a[12],s[13]=c*n+p*r+v*o+a[13],s[14]=h*n+m*r+_*o+a[14],s[15]=d*n+f*r+A*o+a[15]),s}static scale(t,e,i){const s=t.m,a=e.m,n=i.x,r=i.y,o=i.z;return s[0]=a[0]*n,s[1]=a[1]*n,s[2]=a[2]*n,s[3]=a[3]*n,s[4]=a[4]*r,s[5]=a[5]*r,s[6]=a[6]*r,s[7]=a[7]*r,s[8]=a[8]*o,s[9]=a[9]*o,s[10]=a[10]*o,s[11]=a[11]*o,s[12]=a[12],s[13]=a[13],s[14]=a[14],s[15]=a[15],s}static rotate(t,e,i,s){const a=t.m,n=e.m;let r,o,l,c,h,d,u,p,m,f,g,v,_,A,T,y,E,b,R,x,w,O,S,I,M=s.x,C=s.y,L=s.z,P=s.length();return P<An.EPSILON?null:(P=1/P,M*=P,C*=P,L*=P,r=Math.sin(i),o=Math.cos(i),l=1-o,c=n[0],h=n[1],d=n[2],u=n[3],p=n[4],m=n[5],f=n[6],g=n[7],v=n[8],_=n[9],A=n[10],T=n[11],y=M*M*l+o,E=C*M*l+L*r,b=L*M*l-C*r,R=M*C*l-L*r,x=C*C*l+o,w=L*C*l+M*r,O=M*L*l+C*r,S=C*L*l-M*r,I=L*L*l+o,a[0]=c*y+p*E+v*b,a[1]=h*y+m*E+_*b,a[2]=d*y+f*E+A*b,a[3]=u*y+g*E+T*b,a[4]=c*R+p*x+v*w,a[5]=h*R+m*x+_*w,a[6]=d*R+f*x+A*w,a[7]=u*R+g*x+T*w,a[8]=c*O+p*S+v*I,a[9]=h*O+m*S+_*I,a[10]=d*O+f*S+A*I,a[11]=u*O+g*S+T*I,n!==a&&(a[12]=n[12],a[13]=n[13],a[14]=n[14],a[15]=n[15]),a)}static rotateX(t,e,i){const s=t.m,a=e.m,n=Math.sin(i),r=Math.cos(i),o=a[4],l=a[5],c=a[6],h=a[7],d=a[8],u=a[9],p=a[10],m=a[11];return a!==s&&(s[0]=a[0],s[1]=a[1],s[2]=a[2],s[3]=a[3],s[12]=a[12],s[13]=a[13],s[14]=a[14],s[15]=a[15]),s[4]=o*r+d*n,s[5]=l*r+u*n,s[6]=c*r+p*n,s[7]=h*r+m*n,s[8]=d*r-o*n,s[9]=u*r-l*n,s[10]=p*r-c*n,s[11]=m*r-h*n,s}static rotateY(t,e,i){const s=t.m,a=e.m,n=Math.sin(i),r=Math.cos(i),o=a[0],l=a[1],c=a[2],h=a[3],d=a[8],u=a[9],p=a[10],m=a[11];return a!==s&&(s[4]=a[4],s[5]=a[5],s[6]=a[6],s[7]=a[7],s[12]=a[12],s[13]=a[13],s[14]=a[14],s[15]=a[15]),s[0]=o*r-d*n,s[1]=l*r-u*n,s[2]=c*r-p*n,s[3]=h*r-m*n,s[8]=o*n+d*r,s[9]=l*n+u*r,s[10]=c*n+p*r,s[11]=h*n+m*r,s}static rotateZ(t,e,i){const s=t.m,a=e.m,n=Math.sin(i),r=Math.cos(i),o=a[0],l=a[1],c=a[2],h=a[3],d=a[4],u=a[5],p=a[6],m=a[7];return a!==s&&(s[8]=a[8],s[9]=a[9],s[10]=a[10],s[11]=a[11],s[12]=a[12],s[13]=a[13],s[14]=a[14],s[15]=a[15]),s[0]=o*r+d*n,s[1]=l*r+u*n,s[2]=c*r+p*n,s[3]=h*r+m*n,s[4]=d*r-o*n,s[5]=u*r-l*n,s[6]=p*r-c*n,s[7]=m*r-h*n,s}static fromTranslation(t,e){const i=t.m;return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,i}static fromScaling(t,e){const i=t.m;return i[0]=e.x,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=e.y,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=e.z,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}static fromRotation(t,e,i){const s=t.m;let a,n,r,o=i.x,l=i.y,c=i.z,h=i.length();return h<An.EPSILON?null:(h=1/h,o*=h,l*=h,c*=h,a=Math.sin(e),n=Math.cos(e),r=1-n,s[0]=o*o*r+n,s[1]=l*o*r+c*a,s[2]=c*o*r-l*a,s[3]=0,s[4]=o*l*r-c*a,s[5]=l*l*r+n,s[6]=c*l*r+o*a,s[7]=0,s[8]=o*c*r+l*a,s[9]=l*c*r-o*a,s[10]=c*c*r+n,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s)}static fromXRotation(t,e){const i=t.m,s=Math.sin(e),a=Math.cos(e);return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=a,i[6]=s,i[7]=0,i[8]=0,i[9]=-s,i[10]=a,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}static fromYRotation(t,e){const i=t.m,s=Math.sin(e),a=Math.cos(e);return i[0]=a,i[1]=0,i[2]=-s,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=s,i[9]=0,i[10]=a,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}static fromZRotation(t,e){const i=t.m,s=Math.sin(e),a=Math.cos(e);return i[0]=a,i[1]=s,i[2]=0,i[3]=0,i[4]=-s,i[5]=a,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}static fromRotationTranslation(t,e,i){const s=t.m,a=e.x,n=e.y,r=e.z,o=e.w,l=a+a,c=n+n,h=r+r,d=a*l,u=a*c,p=a*h,m=n*c,f=n*h,g=r*h,v=o*l,_=o*c,A=o*h;return s[0]=1-(m+g),s[1]=u+A,s[2]=p-_,s[3]=0,s[4]=u-A,s[5]=1-(d+g),s[6]=f+v,s[7]=0,s[8]=p+_,s[9]=f-v,s[10]=1-(d+m),s[11]=0,s[12]=i.x,s[13]=i.y,s[14]=i.z,s[15]=1,s}static getTranslation(t,e){const i=e.m;return t.x=i[12],t.y=i[13],t.z=i[14],t}static getScaling(t,e){const i=e.m;let s=i[0],a=i[1],n=i[2],r=i[4],o=i[5],l=i[6],c=i[8],h=i[9],d=i[10];return t.x=Math.hypot(s,a,n),t.y=Math.hypot(r,o,l),t.z=Math.hypot(c,h,d),t}static getRotation(t,e){const i=e.m;let s=new ga;An.getScaling(s,e);let a=1/s.x,n=1/s.y,r=1/s.z,o=i[0]*a,l=i[1]*n,c=i[2]*r,h=i[4]*a,d=i[5]*n,u=i[6]*r,p=i[8]*a,m=i[9]*n,f=i[10]*r,g=o+d+f,v=0;return g>0?(v=2*Math.sqrt(g+1),t.w=.25*v,t.x=(u-m)/v,t.y=(p-c)/v,t.z=(l-h)/v):o>d&&o>f?(v=2*Math.sqrt(1+o-d-f),t.w=(u-m)/v,t.x=.25*v,t.y=(l+h)/v,t.z=(p+c)/v):d>f?(v=2*Math.sqrt(1+d-o-f),t.w=(p-c)/v,t.x=(l+h)/v,t.y=.25*v,t.z=(u+m)/v):(v=2*Math.sqrt(1+f-o-d),t.w=(l-h)/v,t.x=(p+c)/v,t.y=(u+m)/v,t.z=.25*v),t}static fromRotationTranslationScale(t,e,i,s){const a=t.m,n=e.x,r=e.y,o=e.z,l=e.w,c=n+n,h=r+r,d=o+o,u=n*c,p=n*h,m=n*d,f=r*h,g=r*d,v=o*d,_=l*c,A=l*h,T=l*d,y=s.x,E=s.y,b=s.z;return a[0]=(1-(f+v))*y,a[1]=(p+T)*y,a[2]=(m-A)*y,a[3]=0,a[4]=(p-T)*E,a[5]=(1-(u+v))*E,a[6]=(g+_)*E,a[7]=0,a[8]=(m+A)*b,a[9]=(g-_)*b,a[10]=(1-(u+f))*b,a[11]=0,a[12]=i.x,a[13]=i.y,a[14]=i.z,a[15]=1,a}static fromRotationTranslationScaleOrigin(t,e,i,s,a){const n=t.m,r=e.x,o=e.y,l=e.z,c=e.w,h=r+r,d=o+o,u=l+l;let p=r*h,m=r*d,f=r*u,g=o*d,v=o*u,_=l*u,A=c*h,T=c*d,y=c*u,E=s.x,b=s.y,R=s.z,x=a.x,w=a.y,O=a.z,S=(1-(g+_))*E,I=(m+y)*E,M=(f-T)*E,C=(m-y)*b,L=(1-(p+_))*b,P=(v+A)*b,N=(f+T)*R,D=(v-A)*R,B=(1-(p+g))*R;return n[0]=S,n[1]=I,n[2]=M,n[3]=0,n[4]=C,n[5]=L,n[6]=P,n[7]=0,n[8]=N,n[9]=D,n[10]=B,n[11]=0,n[12]=i.x+x-(S*x+C*w+N*O),n[13]=i.y+w-(I*x+L*w+D*O),n[14]=i.z+O-(M*x+P*w+B*O),n[15]=1,n}static fromQuat(t,e){const i=t.m;let s=e.x,a=e.y,n=e.z,r=e.w,o=s+s,l=a+a,c=n+n,h=s*o,d=a*o,u=a*l,p=n*o,m=n*l,f=n*c,g=r*o,v=r*l,_=r*c;return i[0]=1-u-f,i[1]=d+_,i[2]=p-v,i[3]=0,i[4]=d-_,i[5]=1-h-f,i[6]=m+g,i[7]=0,i[8]=p+v,i[9]=m-g,i[10]=1-h-u,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}static frustum(t,e,i,s,a,n,r){const o=t.m;let l=1/(i-e),c=1/(a-s),h=1/(n-r);return o[0]=2*n*l,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2*n*c,o[6]=0,o[7]=0,o[8]=(i+e)*l,o[9]=(a+s)*c,o[10]=(r+n)*h,o[11]=-1,o[12]=0,o[13]=0,o[14]=r*n*2*h,o[15]=0,o}static perspective(t,e,i,s,a){const n=t.m;let r,o=1/Math.tan(e/2);return n[0]=o/i,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=o,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=-1,n[12]=0,n[13]=0,n[15]=0,null!=a&&a!==1/0?(r=1/(s-a),n[10]=(a+s)*r,n[14]=2*a*s*r):(n[10]=-1,n[14]=-2*s),n}static ortho(t,e,i,s,a,n,r){const o=t.m;let l=1/(e-i),c=1/(s-a),h=1/(n-r);return o[0]=-2*l,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*c,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2*h,o[11]=0,o[12]=(e+i)*l,o[13]=(a+s)*c,o[14]=(r+n)*h,o[15]=1,o}static lookAt(t,e,i,s){const a=t.m;let n,r,o,l,c,h,d,u,p,m;const f=e.x,g=e.y,v=e.z,_=s.x,A=s.y,T=s.z,y=i.x,E=i.y,b=i.z;return Math.abs(f-y)<An.EPSILON&&Math.abs(g-E)<An.EPSILON&&Math.abs(v-b)<An.EPSILON?An.identity(t):(d=f-y,u=g-E,p=v-b,m=1/Math.hypot(d,u,p),d*=m,u*=m,p*=m,n=A*p-T*u,r=T*d-_*p,o=_*u-A*d,m=Math.hypot(n,r,o),m?(m=1/m,n*=m,r*=m,o*=m):(n=0,r=0,o=0),l=u*o-p*r,c=p*n-d*o,h=d*r-u*n,m=Math.hypot(l,c,h),m?(m=1/m,l*=m,c*=m,h*=m):(l=0,c=0,h=0),a[0]=n,a[1]=l,a[2]=d,a[3]=0,a[4]=r,a[5]=c,a[6]=u,a[7]=0,a[8]=o,a[9]=h,a[10]=p,a[11]=0,a[12]=-(n*f+r*g+o*v),a[13]=-(l*f+c*g+h*v),a[14]=-(d*f+u*g+p*v),a[15]=1,a)}static targetTo(t,e,i,s){const a=t.m,n=e.x,r=e.y,o=e.z,l=s.x,c=s.y,h=s.z;let d=n-i.x,u=r-i.y,p=o-i.z,m=d*d+u*u+p*p;m>0&&(m=1/Math.sqrt(m),d*=m,u*=m,p*=m);let f=c*p-h*u,g=h*d-l*p,v=l*u-c*d;return m=f*f+g*g+v*v,m>0&&(m=1/Math.sqrt(m),f*=m,g*=m,v*=m),a[0]=f,a[1]=g,a[2]=v,a[3]=0,a[4]=u*v-p*g,a[5]=p*f-d*v,a[6]=d*g-u*f,a[7]=0,a[8]=d,a[9]=u,a[10]=p,a[11]=0,a[12]=n,a[13]=r,a[14]=o,a[15]=1,a}static add(t,e,i){const s=t.m,a=e.m,n=i.m;return s[0]=a[0]+n[0],s[1]=a[1]+n[1],s[2]=a[2]+n[2],s[3]=a[3]+n[3],s[4]=a[4]+n[4],s[5]=a[5]+n[5],s[6]=a[6]+n[6],s[7]=a[7]+n[7],s[8]=a[8]+n[8],s[9]=a[9]+n[9],s[10]=a[10]+n[10],s[11]=a[11]+n[11],s[12]=a[12]+n[12],s[13]=a[13]+n[13],s[14]=a[14]+n[14],s[15]=a[15]+n[15],s}static subtract(t,e,i){const s=t.m,a=e.m,n=i.m;return s[0]=a[0]-n[0],s[1]=a[1]-n[1],s[2]=a[2]-n[2],s[3]=a[3]-n[3],s[4]=a[4]-n[4],s[5]=a[5]-n[5],s[6]=a[6]-n[6],s[7]=a[7]-n[7],s[8]=a[8]-n[8],s[9]=a[9]-n[9],s[10]=a[10]-n[10],s[11]=a[11]-n[11],s[12]=a[12]-n[12],s[13]=a[13]-n[13],s[14]=a[14]-n[14],s[15]=a[15]-n[15],s}static multiplyScalar(t,e,i){const s=t.m,a=e.m;return s[0]=a[0]*i,s[1]=a[1]*i,s[2]=a[2]*i,s[3]=a[3]*i,s[4]=a[4]*i,s[5]=a[5]*i,s[6]=a[6]*i,s[7]=a[7]*i,s[8]=a[8]*i,s[9]=a[9]*i,s[10]=a[10]*i,s[11]=a[11]*i,s[12]=a[12]*i,s[13]=a[13]*i,s[14]=a[14]*i,s[15]=a[15]*i,s}}An.EPSILON=1e-9;class Tn{constructor(){this.name="unNamed",this.id=-1,this.autoUpdate=!0,this._rotation=new _n,this._position=new ga,this._scale=new ga(1,1,1),this._parent=null,this._matrix=new An,this._localMatrix=new An,this._changeCallback=[],this._children=[],this._tempMat4=new An,this._tempMat3=new vn,this._dirty=!0,this._signalDirtyDown=!1}identity(){this._position.setValues(0,0,0),this._rotation.identity(),this._scale.setValues(1,1,1)}setParent(t){this._parent!==t&&(this._parent&&this._parent.removeChild(this),this._parent=t,t&&t.addChild(this),this.setDirty())}getParent(){return this._parent}addChild(t){this._children.indexOf(t)<0&&(this._children.push(t),t.setParent(this))}removeChild(t){const e=this._children.indexOf(t);e>-1&&(this._children.splice(e,1),t.setParent(null))}getChildren(){return this._children}addChangeCallBack(t){this._changeCallback.push(t)}setDirty(){this._dirty||(this._dirty=!0,this.signalDirtyDown())}setParentDirty(){this.signalDirtyDown()}signalDirtyDown(){if(!this._signalDirtyDown){this._signalDirtyDown=!0;for(let t=this._changeCallback.length-1;t>=0;t--)this._changeCallback[t].call(this);for(let t=this._children.length-1;t>=0;t--)this._children[t].setParentDirty()}}clone(){return(new Tn).copy(this)}copy(t){return this._scale.copy(t._scale),this._rotation.copy(t._rotation),this._position.copy(t._position),this._dirty=!0,this}updateMatrix(){(this._dirty||this._signalDirtyDown)&&(this.autoUpdate&&(this._dirty&&An.fromRotationTranslationScale(this._localMatrix,this._rotation,this._position,this._scale),this._parent?An.multiply(this._matrix,this._parent.worldMatrix,this._localMatrix):this._dirty&&An.copy(this._matrix,this._localMatrix)),this._dirty=!1,this._signalDirtyDown=!1)}lookAt(t,e,i=ga.UP){this.position=t,this.lookAtFromCurrentPos(e,i)}lookAtFromCurrentPos(t,e=ga.UP){this._rotation=_n.lookAt(this._position,t,e),this.setDirty()}setPositionRotationScale(t,e,i){this._position.copy(t),this._rotation.copy(e),this._scale.copy(i),this.setDirty()}get worldMatrix(){return this.updateMatrix(),this._matrix}get localMatrix(){return this.updateMatrix(),this._localMatrix}get position(){return this._position.clone()}set position(t){this._position.copy(t),this.setDirty()}setPositionValues(t,e,i){this._position.setValues(t,e,i),this.setDirty()}get worldPosition(){return this.updateMatrix(),(new ga).transform(this._matrix)}get scale(){return this._scale.clone()}set scale(t){this._scale.copy(t),this.setDirty()}set scaleScalar(t){this._scale.setValues(t,t,t),this.setDirty()}setScaleValues(t,e,i){this._scale.setValues(t,e,i),this.setDirty()}translateX(t){this._position.x+=t,this.setDirty()}translateY(t){this._position.y+=t,this.setDirty()}translateZ(t){this._position.z+=t,this.setDirty()}translate(t){this._position.add(t),this.setDirty()}translateValues(t,e,i){this._position.x+=t,this._position.y+=e,this._position.z+=i,this.setDirty()}get rotation(){return this._rotation.clone()}set rotation(t){this._rotation.copy(t),this.setDirty()}get rotationMatrixMat4(){return An.fromQuat(this._tempMat4,this._rotation),this._tempMat4}get worldRotationMatrixMat3(){const t=this.rotationMatrixMat3;return this._parent&&vn.multiply(t,this._parent.worldRotationMatrixMat3,t),t}get rotationMatrixMat3(){return vn.fromQuat(this._tempMat3,this._rotation),this._tempMat3}set rotationMatrixMat3(t){this._rotation.fromMat3(t),this.setDirty()}get worldRotationMatrixMat4(){const t=this.rotationMatrixMat4;return this._parent&&An.multiply(t,this._parent.rotationMatrixMat4,t),t}rotateEulerValues(t,e,i){return this._rotation.rotateY(e),this._rotation.rotateX(t),this._rotation.rotateZ(i),this.setDirty(),this._rotation}rotateEuler(t){return this.rotateEulerValues(t.x,t.y,t.z)}setEulerValues(t,e,i){return this._rotation.identity(),this.rotateEulerValues(t,e,i)}rotateAxisAngle(t,e){return this._rotation.rotateAxisAngle(t,e),this.setDirty(),this._rotation}rotateX(t){this._rotation.rotateX(t),this.setDirty()}rotateY(t){this._rotation.rotateY(t),this.setDirty()}rotateZ(t){this._rotation.rotateZ(t),this.setDirty()}set euler(t){this._rotation.identity(),this.rotateEulerValues(t.x,t.y,t.z)}set eulerX(t){this._rotation.identity(),this.rotateX(t)}set eulerY(t){this._rotation.identity(),this.rotateY(t)}set eulerZ(t){this._rotation.identity(),this.rotateZ(t)}set eulerXY(t){this.setEulerValues(t.x,t.y,0)}get euler(){return vn.fromQuat(this._tempMat3,this._rotation),Tn.getEulerYXZ(this._tempMat3)}static getEulerYXZ(t){const e=t.m;let i,s,a;return e[7]<-1+this.singularityRange?(i=Math.PI/2,s=Math.atan2(e[3],e[0]),a=0):e[7]>1-this.singularityRange?(i=-Math.PI/2,s=-Math.atan2(e[3],e[0]),a=0):(i=Math.asin(-e[7]),s=Math.atan2(e[6],e[8]),a=Math.atan2(e[1],e[4])),new ga(i,s,a)}get forward(){const t=this.rotationMatrixMat3.m;return new ga(t[6],t[7],t[8])}get worldForward(){const t=this.worldRotationMatrixMat3.m;return new ga(t[6],t[7],t[8])}get right(){const t=this.rotationMatrixMat3.m;return new ga(t[0],t[1],t[2])}get worldRight(){const t=this.worldRotationMatrixMat3.m;return new ga(t[0],t[1],t[2])}get up(){const t=this.rotationMatrixMat3.m;return new ga(t[3],t[4],t[5])}get worldUp(){const t=this.worldRotationMatrixMat3.m;return new ga(t[3],t[4],t[5])}setDirection(t,e){const i=ga.cross(e,t);i.normalize();const s=ga.cross(t,i);s.normalize(),vn.setValues(this._tempMat3,i.x,i.y,i.z,s.x,s.y,s.z,t.x,t.y,t.z),this.rotationMatrixMat3=this._tempMat3}get direction(){return new ga(0,0,1).transformMat3(this.worldRotationMatrixMat3)}getChildrenRecursive(){const t=[];return this.addChildren(this,t),t}addChildren(t,e){for(const i of t.getChildren())e.push(i),this.addChildren(i,e)}}Tn.singularityRange=1e-4;class yn{constructor(){this.isLeft=!1,this.screenPosition=new Ia}}class En extends ua{constructor(){super(...arguments),this.hotspots=[],this.highlightedItems=[],this.visibilitySets=[],this.lods=[],this.sandsOfTimes=[],this.mergeGroups=[]}destruct(){super.destruct()}}class bn{constructor(t){this.density=1e4,this.id=-1,this.density=t.density,this.id=t.id}}class Rn{constructor(t,e,i){this.m0=t,this.m1=e,this.distance=i}update(t){const e=ga.distance(t,this.m0.transform.worldPosition);this.m0.lodVisible=e<this.distance,this.m1.lodVisible=e>this.distance}}class xn{constructor(t,e){this.models=[],this.soloAmount=0,this.t0=t.t0,this.t1=t.t1;for(const i of t.ids){const t=e.getRenderersById(i);for(const e of t)e.static=!1,this.models.push(e)}da.ENABLED&&console.log("HighlightedItem",this)}updateSoloAmount(t){this.soloAmount=_a.smoothStep(this.t0,this.t0+.75,t)*_a.smoothStep(this.t1,this.t1-.75,t)}draw(t,e,i){for(const s of this.models)s.draw(t,e,i)}}class wn{constructor(t,e){this.models=[],this.unity=e,this.track=e.unityAnimator.getTrack(t.name),this.track||console.warn("VisibilitySet: no track for: ",t,e.unityAnimator);for(const i of t.ids){const t=e.getRenderersById(i);for(const e of t)this.models.push(e)}}update(t){if(this.track){const e=this.track.evaluate(t)>.5;for(const t of this.models)t.visible=e}}}class On{constructor(){this.mainTimeline=null}}class Sn{constructor(t,e){this.loaded=!1,this._url=e,t.add(this)}get text(){if(void 0===this._text)throw new Error("Trying to get TextLoader.text property but loading is not complete for: "+this._url);return this._text}load(t){ja.loadText(this._url,e=>{this._text=e,this.loaded=!0,t.call(this)})}}!function(t){t.PositionX="Position.x",t.PositionY="Position.y",t.PositionZ="Position.z",t.RotationX="Rotation.x",t.RotationY="Rotation.y",t.RotationZ="Rotation.z",t.RotationW="Rotation.w",t.ScaleX="Scale.x",t.ScaleY="Scale.y",t.ScaleZ="Scale.z"}(pn||(pn={}));class In extends ua{constructor(t,e,i,s){super(),this._lastIndex=0,this._lastTime=0,this.name=t,this.type=e,this.times=i,this.values=s}getIsEmpty(){let t=this.values.length;if(t<2)return!0;for(let e=1;e<t;++e)if(this.values[e-1]!=this.values[e])return!1;return!0}evaluate(t){if(0===this.values.length)return 0;if(1===this.values.length)return this.values[0];if(0===t)return this.values[0];if(t<this.times[0])return this.values[0];const e=this.times.length-1;if(t>=this.times[e])return this.values[e];let i=t>=this._lastTime?this._lastIndex:0;this._lastTime=t;for(let s=i;s<e;s++){const e=this.times[s],i=this.times[s+1];if(t>=e&&t<=i){this._lastIndex=s;const a=(t-e)/(i-e);return _a.lerp(this.values[s],this.values[s+1],a)}}return 0}static deserialize(t){const e=t.name,i=t.times,s=t.values,a=t.type;return new In(e,a,i,s)}}class Mn{constructor(t,e){this.animatePosition=!1,this.animateRotation=!1,this.animateScale=!1,this.transform=t;for(const i of e)i.type!=pn.PositionX&&i.type!=pn.PositionY&&i.type!=pn.PositionZ||(this.animatePosition=!0),i.type!=pn.RotationX&&i.type!=pn.RotationY&&i.type!=pn.RotationZ&&i.type!=pn.RotationW||(this.animateRotation=!0),i.type!=pn.ScaleX&&i.type!=pn.ScaleY&&i.type!=pn.ScaleZ||(this.animateScale=!0);this.p=t.position,this.r=t.rotation,this.s=t.scale,this.tracks=e}update(t){for(const e of this.tracks)switch(e.type){case pn.PositionX:this.p.x=e.evaluate(t);break;case pn.PositionY:this.p.y=e.evaluate(t);break;case pn.PositionZ:this.p.z=e.evaluate(t);break;case pn.RotationX:this.r.x=e.evaluate(t);break;case pn.RotationY:this.r.y=e.evaluate(t);break;case pn.RotationZ:this.r.z=e.evaluate(t);break;case pn.RotationW:this.r.w=e.evaluate(t);break;case pn.ScaleX:this.s.x=e.evaluate(t);break;case pn.ScaleY:this.s.y=e.evaluate(t);break;case pn.ScaleZ:this.s.z=e.evaluate(t)}this.animatePosition&&(this.transform.position=this.p),this.animateRotation&&(this.transform.rotation=this.r.normalize()),this.animateScale&&(this.transform.scale=this.s)}}class Cn{constructor(t,e,i,s,a){this.bones=[],this.id=0,this.tempMat4=new An,this.transformsTracks=[],this.bones=t,this.id=s,this.clips=a,this.bindPoses=e,this.boneMatrices=new Float32Array(16*this.bones.length),a.length>0&&(this.transformsTracks=this.createTransformTracks(a[0].tracks,i.getChildrenRecursive()),a.length>1&&console.warn("multiple clips currently not supported",a))}createTransformTracks(t,e){const i={};for(const a of t)a.type!=pn.PositionX&&a.type!=pn.PositionY&&a.type!=pn.PositionZ&&a.type!=pn.RotationX&&a.type!=pn.RotationY&&a.type!=pn.RotationZ&&a.type!=pn.RotationW&&a.type!=pn.ScaleX&&a.type!=pn.ScaleY&&a.type!=pn.ScaleZ||(i[a.name]||(i[a.name]=[]),i[a.name].push(a));const s=[];for(const a of e)i[a.name]&&s.push(new Mn(a,i[a.name]));return s}update(t,e){for(const i of this.clips){i.update(t,t=>e(t));for(const e of this.transformsTracks)e.update(t)}this.updateSkinningMatrices()}updateSkinningMatrices(){for(let t=0;t<this.bones.length;t++){An.multiply(this.tempMat4,this.bones[t].worldMatrix,this.bindPoses[t]);for(let e=0;e<16;e++)this.boneMatrices[16*t+e]=this.tempMat4.m[e]}}destruct(){for(const t of this.clips)t.destruct()}}class Ln{constructor(){this.time=0,this.name="unnamed event",this.timeOld=0}static deserialize(t){const e=new Ln;return e.time=t.time,e.name=t.name,e}update(t,e){this.timeOld<this.time&&t>=this.time&&e(this.name),this.timeOld=t}}class Pn extends ua{constructor(t,e,i,s,a){super(),this.id=-1,this.duration=0,this.name="not set",this.id=t,this.duration=i,this.name=e,this.tracks=s,this.events=a}update(t,e){for(const i of this.events)i.update(t,e)}static deserialize(t){const e=[];for(const s of t.tracks)e.push(In.deserialize(s));const i=[];if(void 0!==t.events)for(const s of t.events)i.push(Ln.deserialize(s));return new Pn(t.id,t.name,t.duration,e,i)}destruct(){if(this.tracks)for(const t of this.tracks)t.destruct();super.destruct()}}class Nn extends on{constructor(t,e,i,s=!1,a=!0,n=!0,r=!0,o=nn.RGBA_UNSIGNED_BYTE,l=!1){super(t,o,s,a,n),this._premultiply=!1,this.loaded=!1,this.flipY=r,this.url=i,this.name=i,this._premultiply=l,e.add(this)}load(t){ja.loadImage(this.url,e=>{this.setImage(e,this.flipY,this._premultiply),this.loaded=!0,t.call(this)})}}class Dn extends Ha{constructor(t,e,i,s,a,n){super(t,e,"Webgl/UnlitWireframe"==i.shaderName?"wireframeQuads":"unlit"),this.lightMapped=!1,this.partialLightMapped=!1,this.fog=!0,this.multiply=!1,this.transparent=!1,this.transparentTexture=!1,this.opacity=!1,this.sortBackToFront=!1,this.skinned=!1,this.textured=!1,this.detailTextured=!1,this.merge=!0,this.color=!1,this.useEnvironmentMap=!1,this.texturedToLit=!1,this.uniforms=[],this.preDepthTransparent=!1,this.vegetation=!1,this.floorReflection=!1,this.specular=!1,this.overviewTerrain=!1,this.name=i.name,i.shaderName.indexOf("PartialLightmapColor")>=0&&(this.partialLightMapped=!0,this.preDepthTransparent=!0,this.setAlphaBlending()),i.shaderName.indexOf("Transparent")>=0&&(this.transparent=!0,this.transparentTexture=!0,this.sortBackToFront=!0,this.merge=!1),i.shaderName.indexOf("ATC")>=0&&(this.transparentTexture=!0,this.vegetation=!0,this.partialLightMapped=!0,this.specular=!1,this.setCullingDisabled()),i.shaderName.indexOf("Vegetation")>=0&&(this.partialLightMapped=!0,this.specular=!1,this.setCullingDisabled()),i.shaderName.indexOf("Color")>=0&&(this.color=!0),i.shaderName.indexOf("Lightmap")>=0&&(this.lightMapped=!0),"Webgl/UnlitTexturedToLit"==i.shaderName&&(this.texturedToLit=!0),"Webgl/UnlitSkinned"==i.shaderName&&(this.skinned=!0),"Webgl/UnlitAlphaToCoverage"==i.shaderName&&(this.alphaToCoverage=!0),"Webgl/AdditiveTextured"==i.shaderName&&(this.setAdditiveBlending(),this.sortBackToFront=!0),"Webgl/TransparentOpacity"==i.shaderName&&(this.opacity=!0),"Webgl/TransparentOpacityColor"==i.shaderName&&(this.opacity=!0),"Webgl/UnlitMultiply"==i.shaderName&&(this.sortBackToFront=!0,this.multiply=!0,this.setMultiplyBlending()),"RedMarble"==i.name&&(this.floorReflection=!0,this.setCullingDisabled()),"WaterTransparent"==i.name&&(this.floorReflection=!0),"OverviewTerrain"==i.name&&(this.overviewTerrain=!0);for(let r of i.properties)switch(r.name){case"_MainTex":"mat_pistachio"==r.sValue&&(this.transparentTexture=!0),this.texture=this.getTexture(s,r.sValue,e,a,n,this.transparentTexture),this.uniforms.push({name:"_MainTex_ST",value:[r.vValue[0],r.vValue[1],r.vValue[2],r.vValue[3]]}),this.textured=!0;break;case"_DetailTex":this.detail=this.getTexture(s,r.sValue,e,a,n,!1),this.detailTextured=!0;break;case"_AlphaTex":this.alphaMap=this.getTexture(s,r.sValue,e,a,n,!1,!0);break;case"_NormalMap":this.normalMap=this.getTexture(s,r.sValue,e,a,n,!1,!1);break;case"_Specular":r.vValue>0&&(this.specular=!0),this.uniforms.push({name:r.name,value:r.vValue});break;default:""==r.sValue?this.uniforms.push({name:r.name,value:r.vValue}):da.ENABLED&&console.warn("unhandled property",r)}da.ENABLED&&this.addShaderDefines(["DEBUG",1]),zn.useInstancing&&this.addShaderDefines(["INSTANCED",1]),this.textured&&this.addShaderDefines(["TEXTURED",1]),this.detailTextured&&this.addShaderDefines(["DETAIL_TEXTURED",1]),this.alphaMap&&this.addShaderDefines(["ALPHA_MAP",1]),this.normalMap&&this.addShaderDefines(["USE_NORMAL_MAP",1]),this.color&&this.addShaderDefines(["COLOR",1]),this.opacity&&this.addShaderDefines(["OPACITY",1]),this.multiply&&this.addShaderDefines(["MULTIPLY",1]),this.transparent&&(this.setAlphaBlending(),this.addShaderDefines(["TRANSPARENT",1]),this.sortBackToFront=!0),this.lightMapped&&this.addShaderDefines(["LIGHT_MAP",1]),this.partialLightMapped&&this.addShaderDefines(["LIGHT_MAP_AMOUNT",1]),this.useEnvironmentMap&&this.addShaderDefines(["USE_ENVIRONMENT_MAP",1]),this.fog&&this.addShaderDefines(["FOG",1]),this.vegetation&&(this.addShaderDefines(["VEGETATION",1]),this.addShaderDefines(["TRANSPARENT",1])),this.floorReflection&&this.addShaderDefines(["FLOOR_REFLECTION",1]),this.specular&&this.addShaderDefines(["SPECULAR",1]),this.overviewTerrain&&this.addShaderDefines(["OVERVIEW_TERRAIN",1]),this.renderer.isWebgl2||this.renderer.extensionManager.shader_texture_lod&&this.addShaderDefines(["LOD_EXTENSION",1]),da.ENABLED&&this.addShaderDefines(["DEBUG",1])}set boneCount(t){da.ENABLED&&console.log(this.name,"boneCount",t),t>0&&(this.addShaderDefines(["SKINNED_MATRICES",1]),this.addShaderDefines(["BONE_COUNT",t]))}getTexture(t,e,i,s,a,n=!1,r=!1){let o=n?nn.RGBA_UNSIGNED_BYTE:nn.RGB_UNSIGNED_BYTE;r&&(o=nn.LUMINANCE_UNSIGNED_BYTE);let l=ha.getFileName(t+e,n);return s[e]||(s[e]=new Nn(this.renderer,i,l,a[e].mipmap,a[e].filterLinear,a[e].clamp,!0,o),s[e].anisotropy=8),s[e]}init(){this.setFloat("_Gamma",2.2),this.textured&&this.setTexture("_Texture",this.texture),this.detailTextured&&this.setTexture("_DetailTexture",this.detail),this.alphaMap&&this.setTexture("_AlphaMap",this.alphaMap),this.normalMap&&this.setTexture("_NormalMap",this.normalMap),this.setVector4("_Color",new Ia(1,1,1,1)),this.specular&&(this.setFloat("_Roughness",.7),this.setFloat("_SpecularDebug",1),this.setFloat("_Fresnel",.15),this.setFloat("_FresnelPower",2)),this.setFloatUniforms(this.uniforms,!1)}setFloatUniforms(t,e=!0){for(let i=0;i<t.length;i++){const s=t[i];if(e){const t=this.uniforms[i];let e=!1;for(let i=0;i<s.value.length;i++)s.value[i]!=t.value[i]&&(t.value[i]=s.value[i],e=!0);if(!e)continue}1==s.value.length?this.setFloat(s.name,s.value[0]):2==s.value.length?this.setVector2(s.name,new Pa(s.value[0],s.value[1])):3==s.value.length?this.setVector3(s.name,new ga(s.value[0],s.value[1],s.value[2])):4==s.value.length&&this.setVector4(s.name,new Ia(s.value[0],s.value[1],s.value[2],s.value[3]))}}getUniformValue(t){for(const e of this.uniforms)if(e.name==t)return e.value;return console.warn(this.name,": getUniformValue: no uniform with name: ",t),[]}destruct(){super.destruct()}}class Bn{constructor(t){this.uniforms=[],this.lightMap=null,this.cullBack=!0,this.sharedMaterial=t,this.uniforms=JSON.parse(JSON.stringify(this.sharedMaterial.uniforms))}setInstanceUniforms(){this.cullBack?this.sharedMaterial.setCullingBackFace():this.sharedMaterial.setCullingFrontFace(),this.sharedMaterial.renderer.renderState.setCulling(this.sharedMaterial.culling),this.sharedMaterial.setFloatUniforms(this.uniforms)}setFloat(t,e,i){for(const s of this.uniforms)if(s.name==t){s.value[e]=i;break}}}class Fn{static load(t,e,i,s,a,n,r){const o=new Sn(e,i);e.setCallbackForPreloadable(o,()=>{Fn.parseJson(t,e,JSON.parse(o.text),s,a,n,r)})}static parseJson(t,e,i,s,a,n,r){da.ENABLED&&console.log("parseJson",i,a),this.parseTransforms(i,s),this.parseMaterials(t,e,i,s,a,n,r),this.parseClips(t,i,s),this.parseAnimators(t,i,s),this.parseMeshes(t,i,s),this.parseMeshRenderers(t,i,s),this.parseComponents(i,s)}static parseTransforms(t,e){for(let i=0;i<t.transforms.length;i++){let s=t.transforms[i],a=this.transformFromData(s);e.getTransformById(s.parentId)&&a.setParent(e.getTransformById(s.parentId)),e.addTransform(a)}}static transformFromData(t){let e=new Tn;return e.setPositionRotationScale(new ga(t.position[0],t.position[1],t.position[2]),new _n(t.rotation[0],t.rotation[1],t.rotation[2],t.rotation[3]),new ga(t.scale[0],t.scale[1],t.scale[2])),e.name=t.name,e.id=t.id,e}static parseMaterials(t,e,i,s,a,n,r){const o={};for(let l of i.textures)o[l.name]=l;for(let l of i.materials)if(null==s.getMaterialByName(l.name))if(r[l.name])s.addMaterial(r[l.name],l.id);else{let i=new Dn(t,e,l,a,n,o);r[l.name]=i,s.addMaterial(i,l.id)}}static parseClips(t,e,i){let s=[];for(const a of e.clips){const t=Pn.deserialize(a);s.push(t),i.unityAnimator.addClip(t)}}static parseAnimators(t,e,i){for(const s of e.animators){let t=[],e=[],a=[];for(const o of s.clipIDs)t.push(i.unityAnimator.clipsById[o]);for(const o of s.bones){e.push(i.getTransformById(o.transformId));const t=new An;t.m=o.bindPose,t.m[12]*=-1,a.push(t)}const n=i.transformsById[s.transformId],r=new Cn(e,a,n,s.id,t);i.unityAnimator.addAnimator(r)}}static parseMeshLoaders(t,e,i,s,a){for(const n of e.meshIds){const e=new Sn(s,a+"mesh"+n);s.setCallbackForPreloadable(e,()=>{Fn.parseMesh(t,JSON.parse(e.text),i)})}}static parseMeshes(t,e,i){for(const s of e.meshes)Fn.parseMesh(t,s,i)}static parseMesh(t,e,i){const s=e.instanceId;if(i.meshById[s])console.error("mesh has duplicate id",e.meshId);else{const a=new qa(t);a.name=e.name,e.indices.length>0&&a.setIndices(new Uint16Array(e.indices));for(const t of e.attributes)a.setAttribute(t.name,t.stride,new Float32Array(t.data));i.addMesh(a,s)}}static parseMeshRenderers(t,e,i){let s=0,a=1e3;for(const n of e.models){const t=n.lightmapIndex;t>=0&&(a=Math.min(t,a))}for(const n of e.models){let t=new Vn;null!=i.getTransformById(n.transformId)?t.transform=i.getTransformById(n.transformId):console.error("transform not found for model");const e=new ga(n.bbCenter[0],n.bbCenter[1],n.bbCenter[2]),a=new ga(n.bbExtents[0],n.bbExtents[1],n.bbExtents[2]);t.bbMin=ga.subtract(e,a),t.bbMax=ga.add(e,a),t.isStatic=n.isStatic;let r=i.materialById[n.materialId];null!=r?t.material=new Bn(r):console.error("material not found for model",t.transform.name,n.material),t.skinned=r.skinned,t.mesh=i.meshById[n.meshId],t.animator=i.unityAnimator.animatorsById[n.animatorId],t.static=n.isStatic;const o=n.lightmapScaleOffset;t.lightMapScaleOffset.setValues(o[0],o[1],o[2],o[3]);const l=t.transform.worldMatrix;t.material.cullBack=l.m[0]*l.m[5]*l.m[10]>0,t.animator&&(t.sharedMaterial.boneCount=t.animator.bones.length),t.mesh||console.error("mesh not found for model",n.meshId),s+=t.mesh.getNumVertices(),i.addMeshRenderer(t)}da.ENABLED&&console.log("imported model: vertexCount",s,"objects",i.meshRenderers.length)}static parseComponents(t,e){e.components=class{static parseComponents(t,e){const i=e.components;if(t.hotspots)for(let s of t.hotspots){const t=new yn;t.transform=e.getTransformById(s.transformID),t.isLeft=s.left,i.hotspots.push(t)}if(t.sceneReferences&&(i.sceneReferences=new On,i.sceneReferences.mainTimeline=e.unityAnimator.getClipByName(t.sceneReferences.timelineName),t.sceneReferences.reflectionObjectIds))for(const s of t.sceneReferences.reflectionObjectIds){const t=e.getRenderersById(s);for(const e of t)e.visibleInReflection=!0}if(t.highlightedItems)for(const s of t.highlightedItems)i.highlightedItems.push(new xn(s,e));if(t.visibilityGroups)for(const s of t.visibilityGroups)i.visibilitySets.push(new wn(s,e));if(t.mergeGroups)for(let s of t.mergeGroups)i.mergeGroups.push(s.ids);for(const s of t.lods)e.transformsById[s.id0]||console.error("lods: transform 0 not found",s,s.id0),e.transformsById[s.id1]||console.error("lods: transform 1 not found",s,s.id1),i.lods.push(new Rn(e.meshRenderersById[s.id0][0],e.meshRenderersById[s.id1][0],s.distance));if(t.sandsOfTime)for(const s of t.sandsOfTime)i.sandsOfTimes.push(new bn(s));return i}}.parseComponents(t,e)}}class $n{static toVector3Array(t){for(var e=t.length/3,i=[],s=0,a=0;a<e;a++)i.push(new ga(t[s++],t[s++],t[s++]));return i}static toFloat32Array(t){for(var e=t.length,i=new Float32Array(3*e),s=0,a=0;a<e;a++)i[s++]=t[a].x,i[s++]=t[a].y,i[s++]=t[a].z;return i}static toFloat32ArrayVec4(t){for(var e=t.length,i=new Float32Array(4*e),s=0,a=0;a<e;a++)i[s++]=t[a].x,i[s++]=t[a].y,i[s++]=t[a].z,i[s++]=t[a].w;return i}static toFloat32ArrayVec2(t){for(var e=t.length,i=new Float32Array(2*e),s=0,a=0;a<e;a++)i[s++]=t[a].x,i[s++]=t[a].y;return i}static toVector2Array(t){for(var e=t.length/2,i=[],s=0,a=0;a<e;a++)i.push(new Pa(t[s++],t[s++]));return i}static getLocalDimensions(t){var e=new ga(0,0,0),i=t.getData("aPos");if(!i)throw new ReferenceError("Could not get local dimensions: mesh data not found");for(var s=0;s<3*t.getNumVertices();s+=3)Math.abs(i[s])>e.x&&(e.x=Math.abs(i[s])),Math.abs(i[s+1])>e.y&&(e.y=Math.abs(i[s+1])),Math.abs(i[s+2])>e.z&&(e.z=Math.abs(i[s+2]));return e}static makeIndexed(t){da.log("makeIndexed ",t.attributes);for(var e=t.getNumVertices(),i=0,s=0;s<t.attributes.length;s++)i+=t.attributes[s].stride;var a=0,n=t.getNumVertices(),r=new Float32Array(i*n),o=[],l=new Float32Array(i);for(s=0;s<n;s++){for(var c=0,h=0;h<t.attributes.length;h++)for(var d=t.attributes[h],u=0;u<d.stride;u++)l[c++]=d.data[s*d.stride+u];var p=$n.getIndexOfSubBuffer(r,l,a/i);if(p>=0)o[s]=p;else{o[s]=a/i;for(u=0;u<i;u++)r[a++]=l[u]}}(n=a/i)<Math.pow(2,16)?t.setIndices(new Uint16Array(o)):t.setIndices32(new Uint32Array(o)),r=new Float32Array(r.buffer,0,a);var m=[];for(a=0,s=0;s<t.attributes.length;s++)m[s]=new Float32Array(n*t.attributes[s].stride);for(s=0;s<n;s++)for(h=0;h<t.attributes.length;h++){var f=t.attributes[h].stride;for(u=0;u<f;u++)m[h][s*f+u]=r[a++]}for(s=0;s<t.attributes.length;s++)t.setAttribute(t.attributes[s].name,t.attributes[s].stride,m[s],!0);da.log("generated indices, reduced amount of vertices from "+e+" to "+n)}static getIndexOfSubBuffer(t,e,i){for(var s=e.length,a=0;a<i;a++){for(var n=!0,r=0;r<s;r++)e[r]!=t[s*a+r]&&(n=!1,r=1e3);if(n)return a}return-1}static addTangents(t,e=!1){if(t.getAttribute(Za.TANGENT.name))return!1;let i=t.getUV0(),s=t.getNormals(),a=t.getPositions(),n=t.indices;if(null==i)return!1;if(null==a)return!1;if(null==n)return!1;if(null==s)return!1;let r=a.length/3,o=new Float32Array(4*r),l=new Float32Array(3*r),c=new Float32Array(3*r),h=new Float32Array(3),d=new Float32Array(3);function u(t,e,s){if(null==a)return;if(null==i)return;let n=a[3*e]-a[3*t],r=a[3*s]-a[3*t],o=a[3*e+1]-a[3*t+1],u=a[3*s+1]-a[3*t+1],p=a[3*e+2]-a[3*t+2],m=a[3*s+2]-a[3*t+2],f=i[2*e]-i[2*t],g=i[2*s]-i[2*t],v=i[2*e+1]-i[2*t+1],_=i[2*s+1]-i[2*t+1],A=1/(f*_-g*v);!isNaN(A)&&A&&isFinite(A)||(A=1),h[0]=(_*n-v*r)*A,h[1]=(_*o-v*u)*A,h[2]=(_*p-v*m)*A,d[0]=(f*r-g*n)*A,d[1]=(f*u-g*o)*A,d[2]=(f*m-g*p)*A;for(let i=0;i<3;++i)l[3*t+i]+=h[i],l[3*e+i]+=h[i],l[3*s+i]+=h[i],c[3*t+i]+=d[i],c[3*e+i]+=d[i],c[3*s+i]+=d[i]}let p=n.length;for(let E=0;E<p;E+=3)u(n[E],n[E+1],n[E+2]);let m,f,g=new ga,v=(new ga,new ga),_=new ga,A=new ga,T=new ga;function y(t){if(null==s)return;v.setValues(s[3*t],s[3*t+1],s[3*t+2]),_.copy(v),A.setValues(l[3*t],l[3*t+1],l[3*t+2]),g.copy(A),isNaN(g.x)&&(g.setValues(1,0,0));let e=ga.dot(v,A);v.multiplyScalar(e),g=ga.subtract(g,v);let i=g.length();0==i?(g.setValues(1,0,0)):g.multiplyScalar(1/i),isNaN(g.x)&&(g.setValues(1,0,0)),T.setValues(c[3*t],c[3*t+1],c[3*t+2]),f=ga.dot(ga.cross(_,A),T),m=f<0?1:-1,o[4*t]=g.x,o[4*t+1]=g.y,o[4*t+2]=g.z,o[4*t+3]=m}for(let E=0;E<p;E+=3)y(n[E+0]),y(n[E+1]),y(n[E+2]);return t.setAttribute(Za.TANGENT.name,Za.TANGENT.stride,o,e),!0}static generateNormals(t){var e=t.getPositions();if(!e)throw new ReferenceError("MeshUtils.generateNormals: failed getting positions data on "+t.name);var i=$n.toVector3Array(e),s=$n.toVector3Array(new Float32Array(e.length)),a=t.indices;if(!a)throw new ReferenceError("Cannot generate normals: expected indices to be defined on mesh");for(var n=s.length,r=a.length/3,o=0;o<r;o++){var l=a[3*o+0],c=a[3*o+1],h=a[3*o+2],d=i[l],u=i[c],p=i[h],m=ga.cross(u.clone().subtract(d).normalize(),p.clone().subtract(d).normalize()).normalize();s[l].add(m),s[c].add(m),s[h].add(m)}for(o=0;o<n;o++)s[o].normalize();t.setNormals($n.toFloat32Array(s))}static getElementCenter(t){var e=t.getPositions(),i=t.getNumVertices(),s=new ga;if(null===e)throw new ReferenceError("Cannot get element center: positions not defined on mesh");for(var a=0;a<i;a++)s.x+=e[3*a],s.y+=e[3*a+1],s.z+=e[3*a+2];return s.multiplyScalar(1/i),s}static getBoundingBox(t,e){var i=t.getPositions(),s=t.getNumVertices(),a=new ga(0,0,0);if(null===i)throw new ReferenceError("Cannot get element center: positions not defined on mesh");for(var n=0;n<s;n++)a.x=Math.max(a.x,Math.abs(i[3*n]-e.x)),a.y=Math.max(a.x,Math.abs(i[3*n+1]-e.y)),a.z=Math.max(a.x,Math.abs(i[3*n+2]-e.z));return a}static getMergedMesh(t,e=!1){let i=new qa(t[0].renderer),s=[],a=!!t[0].indices,n=[],r=t[0];for(let c=0;c<r.attributes.length;c++)s[c]=[];let o=[],l=0;for(let c=0;c<t.length;c++){r=t[c];for(let t=0;t<r.attributes.length;t++){let e=r.attributes[t].data,i=e.length;for(let a=0;a<i;a++)s[t].push(e[a])}if(a){let t=r.indices.length;for(let e=0;e<t;e++)n.push(r.indices[e]+l);l+=r.getNumVertices()}if(e){let t=r.getNumVertices();for(let e=0;e<t;e++)o.push(c)}}e&&i.setAttribute("aIndex",1,new Float32Array(o)),r=t[0];for(let c=0;c<r.attributes.length;c++)i.setAttribute(r.attributes[c].name,r.attributes[c].stride,new Float32Array(s[c]));return a&&i.setIndices(new Uint16Array(n)),da.log("getMergedMesh: vertexCount",i.getNumVertices()),i}static addLightMapUVs(t,e){const i=t.clone(),s=t.getNumVertices(),a=new Float32Array(2*s);let n=0,r=t.getAttribute(Za.TEXCOORD1.name);if(r||(r=t.getAttribute(Za.TEXCOORD0.name)),r&&r.data)for(let o=0;o<s;o++)a[n++]=r.data[2*o]*e.x+e.z,a[n++]=r.data[2*o+1]*e.y+e.w;else console.warn("no uvs",t);return i.setAttribute("aUV1",2,a),i}static addUV1(t){const e=t.clone();let i=t.getAttribute(Za.TEXCOORD0.name);return i&&i.data?e.setAttribute("aUV1",2,i.data):console.warn("no uvs",t),e}static getMergedTransformedMeshLightMapUVs(t,e,i){let s=new qa(t[0].renderer),a=[],n=0,r=[],o=[];for(let u of t){n+=u.getNumVertices();for(let t of u.attributes)r.indexOf(t.name)>=0||(r.push(t.name),o.push(t.stride))}let l=[];for(let u=0;u<r.length;u++)l[u]=0,a[u]=new Float32Array(n*o[u]);let c=$n.getMergedIndices(t,e);c instanceof Uint32Array?s.setIndices32(c):s.setIndices(c);let h=new ga,d=0;for(let u=0;u<t.length;u++){let s=t[u],n=i[u],c=e[u].worldMatrix,p=e[u].rotationMatrixMat3,m=s.getNumVertices();for(let t=0;t<r.length;t++){let e=s.getAttribute(r[t]),i=a[t],u=l[t],f=o[t];if(e){const s=e.data;if(e.name.includes("aPos")){let t=0;for(let e=0;e<m;e++)h.x=s[t++],h.y=s[t++],h.z=s[t++],h=ga.transform(h,c),i[u++]=h.x,i[u++]=h.y,i[u++]=h.z}else if(e.name==Za.NORMAL.name){let t=0;for(let e=0;e<m;e++)h.x=s[t++],h.y=s[t++],h.z=s[t++],h=ga.transformMat3(h,p),i[u++]=h.x,i[u++]=h.y,i[u++]=h.z}else i.set(s,u),u+=m*f;if(l[t]=u,e.name.includes("aUV1")){let t=0;for(let e=0;e<m;e++)i[d++]=s[t++]*n.x+n.z,i[d++]=s[t++]*n.y+n.w}}else u+=m*f}}for(let u=0;u<r.length;u++)s.setAttribute(r[u],o[u],a[u]);return s}static getMergedTransformedMesh(t,e){let i=new qa(t[0].renderer),s=[],a=0,n=[],r=[];for(let h of t){a+=h.getNumVertices();for(let t of h.attributes)n.indexOf(t.name)>=0||(n.push(t.name),r.push(t.stride))}let o=[];for(let h=0;h<n.length;h++)o[h]=0,s[h]=new Float32Array(a*r[h]);let l=$n.getMergedIndices(t,e);l instanceof Uint32Array?i.setIndices32(l):i.setIndices(l);let c=new ga;for(let h=0;h<t.length;h++){let i=t[h],a=e[h].worldMatrix,l=e[h].rotationMatrixMat3,d=i.getNumVertices();for(let t=0;t<n.length;t++){let e=i.getAttribute(n[t]),h=s[t],u=o[t],p=r[t];if(e){const i=e.data;if(e.name.includes("aPos")){let t=0;for(let e=0;e<d;e++)c.x=i[t++],c.y=i[t++],c.z=i[t++],c=ga.transform(c,a),h[u++]=c.x,h[u++]=c.y,h[u++]=c.z}else if(e.name==Za.NORMAL.name){let t=0;for(let e=0;e<d;e++)c.x=i[t++],c.y=i[t++],c.z=i[t++],c=ga.transformMat3(c,l),h[u++]=c.x,h[u++]=c.y,h[u++]=c.z}else h.set(i,u),u+=d*p;o[t]=u}else u+=d*p}}for(let h=0;h<n.length;h++)i.setAttribute(n[h],r[h],s[h]);return i}static getMergedTransformedIdentical(t,e,i=!1){let s=e.length,a=new qa(t.renderer),n=[],r=new ga;for(let l=0;l<t.attributes.length;l++){let i=t.attributes[l].data,o=0,c=i.length;if(n[l]=new Float32Array(i.length*s),t.attributes[l].name==Za.POSITION.name)for(let t=0;t<s;t++){let s=e[t].localMatrix;for(let t=0;t<c/3;t++)r.x=i[3*t+0],r.y=i[3*t+1],r.z=i[3*t+2],r=ga.transform(r,s),n[l][o++]=r.x,n[l][o++]=r.y,n[l][o++]=r.z}else if(t.attributes[l].name==Za.NORMAL.name)for(let t=0;t<s;t++)for(let s=0;s<c/3;s++)r.x=i[3*s+0],r.y=i[3*s+1],r.z=i[3*s+2],r=ga.transformQuat(r,e[t].rotation),n[l][o++]=r.x,n[l][o++]=r.y,n[l][o++]=r.z;else for(let t=0;t<s;t++)for(let e=0;e<c;e++)n[l][o++]=i[e];a.setAttribute(t.attributes[l].name,t.attributes[l].stride,n[l])}let o=$n.getMergedIndicesIdentical(t,e);return o&&a.setIndices(o),a.setAttribute("aIndex",1,$n.getIdListIdentical(t,s,i)),a}static getMergedIndices(t,e){if(t[0].indices){let i=t.length,s=0,a=0;for(let e=0;e<i;e++){if(void 0===t[e].indices)throw new ReferenceError("Cannot get merged indices: expected indices to be defined on none or all meshes");s+=t[e].indices.length,a+=t[e].getNumVertices()}let n=a>=65536?new Uint32Array(s):new Uint16Array(s),r=0,o=0;for(let l=0;l<i;l++){let i=t[l].indices,s=i.length;const a=e[l].worldMatrix;if(a.m[0]*a.m[5]*a.m[10]>0)for(let t=0;t<s;t++)n[r++]=i[t]+o;else for(let t=0;t<s/3;t++)n[r++]=i[3*t+0]+o,n[r++]=i[3*t+2]+o,n[r++]=i[3*t+1]+o;o+=t[l].getNumVertices()}return n}return null}static getMergedIndicesIdentical(t,e){const i=e.length;if(t.indices){let s=t.indices.length,a=new Uint16Array(t.indices.length*i),n=0,r=0;for(let o=0;o<i;o++){const i=e[o].scale;if(i.x*i.y*i.z>0)for(let e=0;e<s;e++)a[n++]=t.indices[e]+r;else for(let e=0;e<s/3;e++)a[n++]=t.indices[3*e+0]+r,a[n++]=t.indices[3*e+2]+r,a[n++]=t.indices[3*e+1]+r;r+=t.getNumVertices()}return a}return null}static getIdList(t,e){let i=$n.getTotalVertexCount(t),s=new Float32Array(i),a=0,n=0,r=t.length;for(let o=0;o<r;o++){let i=t[o].getNumVertices();n=e?Math.random():o;for(let t=0;t<i;t++)s[a++]=n}return s}static getIdListIdentical(t,e,i){let s=t.getNumVertices(),a=new Float32Array(s*e),n=0,r=0;for(let o=0;o<e;o++){r=i?Math.random():o;for(let t=0;t<s;t++)a[n++]=r}return a}static getTotalVertexCount(t){let e=0,i=t.length;for(let s=0;s<i;s++)e+=t[s].getNumVertices();return e}static addBaryCentricCoords(t){let e=t.indices;if(e){for(let i=0;i<t.attributes.length;i++){let s=t.attributes[i],a=$n.getNonIndexed(s.data,e,s.stride);t.setAttribute(s.name,s.stride,a)}delete t.indices}let i=t.getNumVertices()/3,s=new Float32Array(9*i),a=0;for(let n=0;n<i;n++)s[a++]=1,s[a++]=0,s[a++]=0,s[a++]=0,s[a++]=1,s[a++]=0,s[a++]=0,s[a++]=0,s[a++]=1;t.setAttribute("aBarycentric",3,s)}static getNonIndexed(t,e,i){let s=e.length,a=new Float32Array(s*i),n=0;for(let r=0;r<s;r++){let s=e[r];for(let e=0;e<i;e++)a[n++]=t[s*i+e]}return a}}class Un extends ua{constructor(t){super(),this.attributes=[],this._renderer=t,this.id=Un.staticId++}addAttributeData(t,e,i){const s=this._renderer.context,a=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,a),s.bufferData(s.ARRAY_BUFFER,i.byteLength,s.STATIC_DRAW),s.bufferSubData(s.ARRAY_BUFFER,0,i.buffer);const n={index:t,nrComponents:e,buffer:a,bufferStride:4*e,bufferOffset:0};this.attributes.push(n)}addMat4Attribute(t,e){const i=[],s=e.length/16;for(let a=0;a<4;a++)i[a]=new Float32Array(4*s);for(let a=0;a<s;a++)for(let t=0;t<4;t++)for(let s=0;s<4;s++)i[t][4*a+s]=e[16*a+4*t+s];for(let a=0;a<4;a++)this.addAttributeData(t+a,4,i[a])}addMatrix4Attribute(t,e){const i=[],s=e.length;for(let a=0;a<4;a++)i[a]=new Float32Array(4*s);for(let a=0;a<s;a++)for(let t=0;t<4;t++)for(let s=0;s<4;s++)i[t][4*a+s]=e[a][4*t+s];for(let a=0;a<4;a++)this.addAttributeData(t+a,4,i[a])}destruct(){for(let t=0;t<this.attributes.length;++t)this._renderer.context.deleteBuffer(this.attributes[t].buffer);this.attributes=[],super.destruct()}}Un.staticId=0;class kn{constructor(t,e,i,s,a=!1){this.instancingInfo=t,this.count=e,this.mesh=i,this.material=s,this.flipped=a}destruct(){this.instancingInfo.destruct()}}class Vn{constructor(){this.animator=null,this.visible=!0,this.lodVisible=!0,this.skinned=!1,this.static=!0,this.lightMapScaleOffset=new Ia(1,1,0,0),this.doFrustumCull=!0,this.isStatic=!0,this.bbMin=new ga,this.bbMax=new ga,this.instancingInfo=null,this.visibleInReflection=!1}get sharedMaterial(){return this.material.sharedMaterial}draw(t,e,i){if(this.visible&&(!i||this.visibleInReflection))if(zn.useInstancing){const i=this.sharedMaterial;if(i.setVector3("_CameraPosition",e),i.setMatrix("_ViewProjection",t),this.material.setInstanceUniforms(),!this.instancingInfo){this.instancingInfo=new Un(this.mesh.renderer);const t=this.lightMapScaleOffset;this.instancingInfo.addAttributeData(3,4,new Float32Array([t.x,t.y,t.z,t.w])),this.instancingInfo.addMat4Attribute(4,new Float32Array(this.transform.worldMatrix.m))}this.mesh.renderer.drawInstanced(this.mesh,this.sharedMaterial,1,this.instancingInfo)}else{const s=this.sharedMaterial;if(i&&s.floorReflection)return;if(this.material.setInstanceUniforms(),s.opacity&&this.sharedMaterial.getUniformValue("_Opacity")[0]<.01)return;s.setVector3("_CameraPosition",e),s.setMatrix("_ViewProjection",t),s.setMatrix("_Model",this.transform.worldMatrix),s.setVector4("_LightMapScaleOffset",this.lightMapScaleOffset),s.vegetation||(i?s.setCullingFrontFace():s.setCullingBackFace()),this.mesh.renderer.draw(this.mesh,s)}}}class zn extends ua{constructor(t,e,i,s,a,n,r,o=!0){super(),this._transforms=[],this.transformsById={},this._transformsByName={},this.materials=[],this.materialsByName={},this.materialById={},this.meshes=[],this.meshById={},this.meshRenderers=[],this.meshRenderersById={},this.sorted=[],this.useDynamicInstancing=!0,this.instancingBatches=[],this.instancingBatchesReflection=[],this.visibleSet=[],this.visibleSetReflection=[],this.preDepthTransparentModels=[],this.skipVisibilityListUpdate=!0,this.unityAnimator=new gn(r),this._unityComponents=new En,this.renderer=t,zn.useInstancing=zn.useInstancing&&t.isWebgl2,this.useDynamicInstancing=zn.useInstancing&&o,Fn.load(t,e,i,this,s,a,n)}handleLoaded(){for(const t of this.materials)t.init();for(const t of this.meshRenderers)t.mesh.getAttribute("aUV1")||(t.mesh=$n.addUV1(t.mesh)),t.sharedMaterial.normalMap&&$n.addTangents(t.mesh);if(zn.useInstancing)if(this.useDynamicInstancing)for(const t of this.components.mergeGroups){const e=[];for(const i of t)for(const t of this.meshRenderersById[i])e.push(t);this.mergeMeshes(e)}else{this.mergeMeshes(this.meshRenderers),this.instancingBatches=this.createInstanceBatch(this.meshRenderers);const t=[];for(const e of this.meshRenderers)e.visibleInReflection&&t.push(e);this.instancingBatchesReflection=this.createInstanceBatch(t),da.ENABLED&&console.log("instancingBatches",this.instancingBatches,this.instancingBatchesReflection)}else this.mergeMeshes(this.meshRenderers);for(const t of this.meshRenderers)t.sharedMaterial.preDepthTransparent?this.preDepthTransparentModels.push(t):this.sorted.push(t)}getNonStaticModels(t){const e=[];for(const i of t)i.static||i.sharedMaterial.preDepthTransparent&&(e.push(i),this.preDepthTransparentModels.push(i));return e}createInstanceBatch(t){const e=[],i={};for(const s of t)s.visible&&(i[s.mesh.id]||(i[s.mesh.id]=[]),i[s.mesh.id].push(s));for(const s in i){const t=i[s],a={};for(const e of t)a[e.sharedMaterial.id]||(a[e.sharedMaterial.id]=[]),a[e.sharedMaterial.id].push(e);for(const i in a){const t=a[i],s=[[],[]];for(let e of t)e.material.cullBack?s[0].push(e):s[1].push(e);for(let i=0;i<2;i++){const t=s[i];if(0==t.length)continue;const a=t.length,n=new Un(this.renderer),r=[],o=new Float32Array(4*a);let l=0;for(let e=0;e<a;e++)r.push(t[e].transform.worldMatrix.m),o[l++]=t[e].lightMapScaleOffset.x,o[l++]=t[e].lightMapScaleOffset.y,o[l++]=t[e].lightMapScaleOffset.z,o[l++]=t[e].lightMapScaleOffset.w;n.addAttributeData(3,4,o),n.addMatrix4Attribute(4,r),e.push(new kn(n,a,t[0].mesh,t[0].sharedMaterial,i>.5))}}}return e}mergeMeshes(t){da.ENABLED&&console.log("mergeMeshes: before",t.length);const e={};for(const i of t)if(i.static){let t=!1;for(const e of this.components.lods)e.m0!=i&&e.m1!=i||(t=!0);if(t)continue;e[i.sharedMaterial.name]||(e[i.sharedMaterial.name]=[]),e[i.sharedMaterial.name].push(i)}for(const i in e){const t=e[i];if(t.length>0){let e=!1;for(let c of t)if(c.visibleInReflection){e=!0;break}const i=[],s=[],a=[],n=new ga(1).multiplyScalar(1e4),r=new ga(-1).multiplyScalar(1e4);for(let c of t)s.push(c.transform),i.push(c.mesh),a.push(c.lightMapScaleOffset),n.x=Math.min(n.x,c.bbMin.x),n.y=Math.min(n.y,c.bbMin.y),n.z=Math.min(n.z,c.bbMin.z),r.x=Math.max(r.x,c.bbMax.x),r.y=Math.max(r.y,c.bbMax.y),r.z=Math.max(r.z,c.bbMax.z);const o=$n.getMergedTransformedMeshLightMapUVs(i,s,a),l=new Vn;l.mesh=o,l.material=t[0].material,l.transform=new Tn,l.transform.name=l.sharedMaterial.name,l.bbMin=n,l.bbMax=r,l.visibleInReflection=e,this.meshRenderers.unshift(l);for(let c of t)this.meshRenderers.splice(this.meshRenderers.indexOf(c),1)}}da.ENABLED&&console.log("mergeMeshes: after",this.meshRenderers.length)}arraysEqual(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0}update(t,e){this.unityAnimator.update(e)}draw(t,e,i,s){if(zn.useInstancing){if(this.useDynamicInstancing){if(this.skipVisibilityListUpdate)if(i){const t=[];for(const e of this.sorted)e.visible&&e.visibleInReflection&&(e.doFrustumCull&&!s.boxInFrustum(e.bbMin,e.bbMax)||t.push(e));if(!this.arraysEqual(t,this.visibleSetReflection)){for(const t of this.instancingBatchesReflection)t.destruct();this.instancingBatchesReflection=this.createInstanceBatch(t)}this.visibleSetReflection=t}else{const t=[];for(const e of this.sorted)e.visible&&e.lodVisible&&(e.doFrustumCull&&!s.boxInFrustum(e.bbMin,e.bbMax)||t.push(e));if(!this.arraysEqual(t,this.visibleSet)){for(const t of this.instancingBatches)t.destruct();this.instancingBatches=this.createInstanceBatch(t)}this.visibleSet=t}i||(this.skipVisibilityListUpdate=!this.skipVisibilityListUpdate)}const a=i?this.instancingBatchesReflection:this.instancingBatches;for(const s of a){const a=s.material;if(a.setVector3("_CameraPosition",e),a.setMatrix("_ViewProjection",t),a.vegetation&&a.setFloat("_Time",Ka.instance.time),i){if(a.floorReflection)continue;s.flipped?a.setCullingBackFace():a.setCullingFrontFace()}else s.flipped?a.setCullingFrontFace():a.setCullingBackFace();this.useDynamicInstancing?this.renderer.drawInstancedDynamic(s.mesh,s.material,s.count,s.instancingInfo):this.renderer.drawInstanced(s.mesh,s.material,s.count,s.instancingInfo)}}else for(const a of this.sorted)a.visible&&a.lodVisible&&(i&&!a.visibleInReflection||a.doFrustumCull&&!s.boxInFrustum(a.bbMin,a.bbMax)||a.draw(t,e,i))}drawTransparent(t,e,i,s){if(this.preDepthTransparentModels.length>0){this.renderer.setChannelMask(!1,!1,!1,!1);for(const a of this.preDepthTransparentModels)s.boxInFrustum(a.bbMin,a.bbMax)&&(a.sharedMaterial.blend=!1,a.sharedMaterial.depthFunc=La.LESS,a.sharedMaterial.depthWrite=!0,a.draw(t,e,i));this.renderer.clearChannelMask();for(const a of this.preDepthTransparentModels)s.boxInFrustum(a.bbMin,a.bbMax)&&(a.sharedMaterial.depthWrite=!1,a.sharedMaterial.blend=!0,a.sharedMaterial.depthFunc=La.EQUAL,a.draw(t,e,i));this.renderer.context.depthFunc(La.LESS)}}addMeshRenderer(t){this.meshRenderers.push(t),this.meshRenderersById[t.transform.id]||(this.meshRenderersById[t.transform.id]=[]),this.meshRenderersById[t.transform.id].push(t)}addMesh(t,e){this.meshes.push(t),this.meshById[e]=t}addMaterial(t,e){this.materials.push(t),this.materialsByName[t.name]=t,this.materialById[e]=t}getMaterialByName(t){return this.materialsByName[t]}getRenderersById(t){return void 0==this.meshRenderersById[t]?[]:this.meshRenderersById[t]}getRenderersByName(t){const e=[];for(const i of this.meshRenderers)i.transform.name==t&&e.push(i);return e}setUniform(t,e){for(const i of this.materials)i.setFloat(t,e)}setColor(t,e){for(const i of this.materials)i.setVector4(t,e)}addTransform(t){this._transforms.push(t),this.transformsById[t.id]=t,this._transformsByName[t.name]=t}getTransformById(t){return this.transformsById[t]}getTransformByName(t){return this._transformsByName[t]}get transforms(){return this._transforms}get components(){return this._unityComponents}set components(t){this._unityComponents=t}get rootTransform(){return this.transforms[0]}getModelsRecursive(t){let e=[];e=e.concat(this.getRenderersById(t.id));for(const i of t.getChildren())e=e.concat(this.getModelsRecursive(i));return e}destruct(t=!0){var e;this.unityAnimator.destruct(),null===(e=this._unityComponents)||void 0===e||e.destruct();for(const i of this.meshes)i.destruct();super.destruct()}}zn.useInstancing=!0;class Hn{constructor(t,e,i,s){this.channel=0,this.material=t,this.name=e,"y"==i?this.channel=1:"z"==i?this.channel=2:"w"==i?this.channel=3:"r"==i?this.channel=0:"g"==i?this.channel=1:"b"==i?this.channel=2:"a"==i&&(this.channel=3),this.keyframeTrack=s}update(t){this.material.setFloat(this.name,this.channel,this.keyframeTrack.evaluate(t))}}class Gn{constructor(t,e){this.model=t,this.keyframeTrack=e}update(t){this.model.visible=this.keyframeTrack.evaluate(t)>.5}}class Xn extends ua{constructor(t,e){super(),this.renderer=t,this.mesh=this.createMesh(e),this.transforms=e}createMesh(t){const e=t.length,i=new Float32Array(4*e);let s=0;for(let n=0;n<e;n++){const e=t[n].worldPosition;i[s++]=e.x,i[s++]=e.y,i[s++]=e.z,i[s++]=Math.random()}const a=new qa(this.renderer);return a.setAttribute("aData0",4,i),a}destruct(){var t;null===(t=this.mesh)||void 0===t||t.destruct(),super.destruct()}}class jn extends ua{constructor(t,e,i,s,a,n,r=!0,o=!1){super(),this._isInit=!1,this.loading=!1,this.duration=1,this.keyDrivenAttributes=[],this.time=0,this.timeOld=0,this.timeStep=0,this.soloAmount=0,this.transform=new Tn,this.mandalas=[],this.torches=null,this.floor=null,this.texturesToUnload=[],this.lightMapsSet=!1,this.useDynamicInstancing=!0,this.sceneId=i,this.eventDispatcher=s,this.useDynamicInstancing=r,da.ENABLED&&console.time("load: "+this.sceneId),this.renderer=t;const l=ha.getStaticDir()+"webgl/scenes/"+i+"/"+i+".json",c="scenes/"+(o?"half/":"full/"),h=ha.getFileName("scenes/"+i+"/LightMap"+(o?"2k":""));this.lightMap=new Nn(t,e,h,!1,!0,!0,!0,nn.RGB_UNSIGNED_BYTE),da.ENABLED&&console.log("load: "+this.sceneId,l),this.unity=new zn(t,e,l,c,a,n,s,this.useDynamicInstancing)}init(){if(da.ENABLED&&console.log("Scene: init",this.sceneId),!this._isInit){this.unity.rootTransform.setParent(this.transform),this.unity.rootTransform.rotateY(Math.PI),this.unity.handleLoaded(),this.unity.components.sceneReferences?this.getTimeline(this.unity.components.sceneReferences):console.error("no scene references",this.sceneId);for(const t of this.unity.meshRenderers)if(t.sharedMaterial.floorReflection){this.floor=t;break}this.initTorches(),this.initAnimationListeners(),this._isInit=!0,da.ENABLED&&console.timeEnd("load: "+this.sceneId)}}setFloat(t,e){for(const i of this.unity.materials)i.setFloat(t,e)}handleSceneSwitch(){this.lightMapsSet=!1}initTorches(){const t=[];for(const e of this.unity.transforms)if(e.name.indexOf("Torch")>=0&&"Torches"!=e.name){const i=e.getParent();i&&e.rotateY(-i.euler.y),t.push(e)}this.torches=new Xn(this.renderer,t)}getTimeline(t){t.mainTimeline?(this.duration=t.mainTimeline.duration,da.ENABLED&&console.log("duration: "+this.duration,t.mainTimeline)):console.error("no timeline linked to scene references",this.sceneId)}initAnimationListeners(){for(const t of this.model.unityAnimator.animators)for(const e of t.clips)for(const t of e.tracks){const e=t.name.split(".");if(e.length>=2){const i=this.model.getTransformByName(e[0]);if(i){const s=this.model.getRenderersById(i.id);for(const i of s)"material"==e[1]?this.keyDrivenAttributes.push(new Hn(i.material,e[2],e[3],t)):"m_IsActive"==e[1]&&this.keyDrivenAttributes.push(new Gn(i,t))}else console.warn("initAnimationListeners, cant find transform",t.name)}}}get secondsRemaining(){return this.duration-this.time}get animationTime(){return this.time}get normalizedAnimationProgress(){return this.duration>0?this.time/this.duration:0}set normalizedAnimationProgress(t){this.time=t*this.duration}get playSpeed(){return this.timeStep}update(t){this.timeStep=this.time-this.timeOld,this.timeOld=this.time,this.soloAmount=0;for(const e of this.unity.components.highlightedItems)e.updateSoloAmount(this.time),e.soloAmount>this.soloAmount&&(this.soloAmount=e.soloAmount);for(const e of this.unity.components.visibilitySets)e.update(this.time);for(const e of this.keyDrivenAttributes)e.update(this.time);this.unity.update(t,this.time)}draw(t,e,i,s){if(!this.lightMapsSet){for(const t of this.unity.materials)t.setTexture("_LightMap",this.lightMap);this.lightMapsSet=!0}if(this.soloAmount<1){for(const t of this.unity.components.lods)t.update(e);this.unity.draw(t,e,i,s),this.drawOpaque(t,e,i)}}drawSolo(t,e,i,s){for(const a of this.unity.components.highlightedItems)a.soloAmount>0&&a.draw(t,e,i)}drawOpaque(t,e,i){}drawTransparent(t,e,i,s,a){this.unity.drawTransparent(t,e,i,a)}get model(){return this.unity}get isInit(){return this._isInit}destruct(){var t;this.unity.destruct(),this.lightMap.destruct(),null===(t=this.torches)||void 0===t||t.destruct(),super.destruct()}}class Wn extends jn{constructor(t,e,i,s,a,n){super(t,e,mr.GATE_OF_ALL_NATIONS,i,s,a,!0,n),this.texturesToUnload.push("Mat_Lamassus_BaseColour"),this.texturesToUnload.push("inscriptionMultiply")}init(){super.init()}postInit(t){}update(t){super.update(t)}destruct(){super.destruct()}}class Yn{static linear(t){return t}static smoothstep(t){return t*t*(3-2*t)}static smootherstep(t){return t*t*t*(t*(6*t-15)+10)}static invsmoothstep(t){return t+(t-t*t*(3-2*t))}static quadIn(t){return t*t}static quadOut(t){return t*(2-t)}static quadInOut(t){return t<=.5?t*t*2:1- --t*t*2}static quadOutIn(t){return t<.5?-.5*(t*=2)*(t-2):.5*(t=2*t-1)*t+.5}static powIn(t){return Math.pow(t,5)}static powOut(t){return 1-Math.pow(1-t,5)}static sineIn(t){return 1-Math.cos(.5*Math.PI*t)}static sineOut(t){return Math.sin(.5*Math.PI*t)}static sineInOut(t){return.5-Math.cos(Math.PI*t)/2}static sineOutIn(t){return 0==t?0:1==t?1:t<.5?.5*Math.sin(2*t*Math.PI*.5):-.5*Math.cos((2*t-1)*Math.PI*.5)+1}static circIn(t){return 1-Math.sqrt(1-t*t)}static circOut(t){return--t,Math.sqrt(1-t*t)}static circInOut(t){return t<=.5?(Math.sqrt(1-t*t*4)-1)/-2:(Math.sqrt(1-(2*t-2)*(2*t-2))+1)/2}static circOutIn(t){return t<.5?.5*Math.sqrt(1-(t=2*t-1)*t):-.5*(Math.sqrt(1-(t=2*t-1)*t)-1-1)}static cubeIn(t){return t*t*t}static cubeOut(t){return 1+--t*t*t}static cubeInOut(t){return t<=.5?t*t*t*4:1+--t*t*t*4}static cubeOutIn(t){return.5*((t=2*t-1)*t*t+1)}static quartIn(t){return t*t*t*t}static quartOut(t){return 1+--t*t*t*t}static quartInOut(t){return t<=.5?t*t*t*t*8:.5*(1-(t=2*t-2)*t*t*t)+.5}static quartOutIn(t){return t<.5?-.5*(t=2*t-1)*t*t*t+.5:.5*(t=2*t-1)*t*t*t+.5}static quintIn(t){return t*t*t*t*t}static quintOut(t){return(t-=1)*t*t*t*t+1}static quintInOut(t){return(t*=2)<1?t*t*t*t*t/2:((t-=2)*t*t*t*t+2)/2}static quintOutIn(t){return.5*((t=2*t-1)*t*t*t*t+1)}static expoIn(t){return Math.pow(2,10*(t-1))}static expoOut(t){return 1-Math.pow(2,-10*t)}static expoInOut(t){return t<.5?Math.pow(2,10*(2*t-1))/2:(2-Math.pow(2,-10*(2*t-1)))/2}static expoOutIn(t){return t<.5?.5*(1-Math.pow(2,-20*t)):.5==t?.5:.5*(Math.pow(2,20*(t-1))+1)}static backIn(t){return t*t*(5*t-4)}static backOut(t){return 1- --t*t*(-5*t-4)}static backInOut(t){return(t*=2)<1?t*t*(5*t-4)/2:(1-(t-=2)*t*(-5*t-4))/2+.5}static elasticIn(t,e=1,i=.4){return-e*Math.pow(2,10*(t-=1))*Math.sin((t-i/(Math.PI/2)*Math.asin(1/e))*(2*Math.PI)/i)}static elasticOut(t,e=1,i=.4){return e*Math.pow(2,-10*t)*Math.sin((t-i/(2*Math.PI)*Math.asin(1/e))*(2*Math.PI)/i)+1}static elasticInOut(t,e=1,i=.4){return t<.5?Math.pow(2,10*(t-=.5))*Math.sin((t-i/4)*(2*Math.PI)/i)*-.5:Math.pow(2,-10*(t-=.5))*Math.sin((t-i/4)*(2*Math.PI)/i)*.5+1}}class Zn{constructor(t){this._from=t,this.duration=0,this._progress=1,this.easing=Yn.smoothstep,this.animateCallback=void 0,this.completeCallback=void 0,this.from=t}set from(t){void 0!==t&&(void 0===this.clone&&(this.clone=t=>t.clone(),"number"===typeof t?(this.clone=t=>t,this.lerp=_a.lerp):t instanceof Pa?this.lerp=Pa.lerp:t instanceof ga?this.lerp=ga.lerp:t instanceof Ia?this.lerp=Ia.lerp:t instanceof _n&&(this.lerp=_n.slerp)),this._from=this.clone(t),this.currentValue=this.clone(t))}get from(){return this._from}to(t,e,i,s,a=Yn.smoothstep){return void 0===this.from&&da.error("Tween.to without setting from value"),this.from=this.currentValue,this.goal=this.clone(t),this.duration=e,this._progress=0,this.animateCallback=i,this.completeCallback=s,this.easing=a,this}fromTo(t,e,i,s,a,n=Yn.smoothstep){return this.from=t,this.to(e,i,s,a,n)}stop(){return this.cancel()}cancel(){return this._progress=1,this.animateCallback=void 0,this.completeCallback=void 0,this}get completed(){return this.progress>=1}get progress(){return this._progress}get value(){return this.currentValue}update(t){this._progress<1&&(this._progress=this.duration<=0?1:_a.clamp01(this._progress+t/this.duration),this.currentValue=this.lerp(this.from,this.goal,_a.clamp01(this.easing(this._progress))),void 0!==this.animateCallback&&this.animateCallback(this.value),this._progress>=1&&this.completeCallback&&this.completeCallback())}}class qn extends jn{constructor(t,e,i,s,a,n){super(t,e,mr.APADANA,i,s,a,!0,n),this.bullLionTween=new Zn(0),this.delayTween=new Zn(0),this.texturesToUnload.push("apadana_stairs"),this.texturesToUnload.push("lionhead_color")}init(){super.init(),this.unity.getRenderersByName("PillarLionSwap")[0].visible=!1,this.unity.getRenderersByName("LionPillarBase")[0].visible=!1,this.pillarParent=this.unity.getRenderersByName("PillarLionSwap")[0].transform.getParent()}update(t){this.bullLionTween.update(t),this.delayTween.update(t),super.update(t)}set pillarCapBull(t){this.delayTween.fromTo(0,1,.5,void 0,()=>{this.unity.getRenderersByName("PillarLionSwap")[0].visible=!t,this.unity.getRenderersByName("PillarBullSwap")[0].visible=t,this.unity.getRenderersByName("LionPillarBase")[0].visible=!t,this.unity.getRenderersByName("HeroPillar")[0].visible=t}),this.bullLionTween.to(t?0:1,1,t=>{if(zn.useInstancing)for(const e of this.unity.components.highlightedItems)if(e.soloAmount>0)for(const t of e.models)t.instancingInfo&&(t.instancingInfo.destruct(),t.instancingInfo=null);this.pillarParent.rotation=(new _n).rotateY(t*Math.PI*2)},()=>{},Yn.quadInOut)}destruct(){super.destruct()}}class Kn extends jn{constructor(t,e,i,s,a,n){super(t,e,mr.HALL_OF_100_COLUMNS,i,s,a,!0,n)}postInit(t){}update(t){super.update(t)}destruct(){super.destruct()}}class Qn extends jn{constructor(t,e,i,s,a,n){super(t,e,mr.PALACE_OF_XERXES,i,s,a,!0,n),this.texturesToUnload.push("hadish_stairs")}postInit(t){}}class Jn extends jn{constructor(t,e,i,s,a,n){super(t,e,mr.ROYAL_TREASURY,i,s,a,!0,n),this.texturesToUnload.push("RoyalTreasury_Basecolour"),this.texturesToUnload.push("Mat_PlantSoil_BaseColor"),this.texturesToUnload.push("bushes"),this.texturesToUnload.push("WC_Blue_FlowerSolid"),this.texturesToUnload.push("mat_pistachio")}postInit(t){}destruct(){super.destruct()}}class tr extends jn{constructor(t,e,i,s,a,n){super(t,e,mr.SOUTH_EASTERN_PALACE,i,s,a,!0,n),this.texturesToUnload.push("KingAndAttendant")}postInit(t){}destruct(){super.destruct()}}class er{static createCanvas(t,e){const i=document.createElement("canvas");return i.width=t,i.height=e,i}static textureToCanvas(t,e){const i=e.getContext("2d"),s=i.createImageData(t.width,t.height),a=t.getData();for(let n=0;n<a.length;n++)s.data[n]=a[n];return i.putImageData(s,0,0),e}static canvasToCanvas(t,e){return e.getContext("2d").drawImage(t,0,0),e}static imageToCanvas(t){const e=er.createCanvas(t.width,t.height);return e.getContext("2d").drawImage(t,0,0),e}static getImageData(t,e=!1){const i=er.createCanvas(t.width,t.height),s=i.getContext("2d");return e&&s.transform(1,0,0,-1,0,i.height),s.drawImage(t,0,0),s.getImageData(0,0,t.width,t.height)}static renderToCanvas(t,e,i=null,s=null){const a=er.renderToTexture(t,e,i,s);return er.putToCanvas(a.getData(),a.width,a.height)}static renderToPng(t,e,i=null,s=null){const a=er.renderToTexture(t,e,i,s),n=er.putToCanvas(a.getData(),a.width,a.height);return window.open(n.toDataURL(),"_blank"),n.toDataURL()}static renderToTexture(t,e,i=null,s=null){const a=null!==i?i:t.width,n=null!==s?s:t.height,r=new cn(t,a,n,nn.RGBA_UNSIGNED_BYTE,!1,!0,!0,!0);return t.renderTarget=r,t.clear(),e.call(this),t.unsetRenderTarget(),r}static putToCanvas(t,e,i,s=!1){const a=er.createCanvas(e,i),n=a.getContext("2d"),r=n.createImageData(e,i);for(let o=0;o<i;o++){let a=o*e*4,n=s?o*e*4:(i-o-1)*e*4;for(let i=0;i<e;i++)r.data[a++]=t[n++],r.data[a++]=t[n++],r.data[a++]=t[n++],r.data[a++]=t[n++]}return n.putImageData(r,0,0),a}static dataToBrowserTab(t,e,i){const s=er.createCanvas(e,i),a=new Oa,n=new sn(a,s,null,!0,!0);a.load(()=>{n.init();const s=new on(n,nn.RGBA_UNSIGNED_BYTE,!1,!1);s.setData(t,e,i),n.blit(s);const a=s.renderer.canvas.toDataURL(),r=window.open("","_blank");if(r){const t=r.document.createElement("img");t.src=a,r.document.body.appendChild(t)}else console.error("Unable to open new window");n.destruct()})}static saveDataToDisk(t,e,i,s="image",a="png",n=100){let r=er.putToCanvas(t,e,i);er.saveCanvasToDisk(r,s,a,n)}static saveTextureToDisk(t,e="image",i="png",s=100){let a=er.putToCanvas(t.getData(),t.width,t.height);er.saveCanvasToDisk(a,e,i,s)}static saveCanvasToDisk(t,e="image",i="png",s=100){t.toBlob(t=>{let i=window.URL,s=document.createElement("a");s.href=i.createObjectURL(t),s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s)},"image/"+i,s)}}var ir=class{constructor(t,e){this._url=e,t.add(this)}load(t){this.image=ja.loadImage(this._url,e=>{this.image=e,this.initImage(),t.call(this)})}initImage(){if(!this.image)throw new ReferenceError("cannot initialize sizes. image is not defined");this.width=this.image.width,this.height=this.image.height}getData(t=!1){return new Uint8Array(er.getImageData(this.image,t).data)}};class sr extends ua{constructor(t,e,i){super(),this.sceneId=mr.NONE,this.scene=null,this.texturePool={},this.materialPool={},this.renderer=t,this.eventDispatcher=i}init(t){t.addParamFloat("roughness",.7,0,1,t=>this.setFloat("_Roughness",t)),t.addParamFloat("specular",1,0,1,t=>this.setFloat("_SpecularDebug",t)),t.addParamFloat("fresnel",.08,0,.2,t=>this.setFloat("_Fresnel",t)),t.addParamFloat("fresnelPower",2,1,5,t=>this.setFloat("_FresnelPower",t)),da.ENABLED&&(this.showLightMapParam=t.addParamBool("show lightmap",!1,t=>this.setFloat("_ShowLightmap",t?1:0)),t.addParamBool("show albedo",!1,t=>this.setFloat("_ShowAlbedo",t?1:0)))}update(){}loadScene(t,e){if(t!=this.sceneId){const i=this.scene;if(i){for(const t of i.texturesToUnload)if(this.texturePool[t]){for(const e in this.materialPool)if(this.materialPool.hasOwnProperty(e)){const i=this.materialPool[e];i.texture==this.texturePool[t]&&(da.ENABLED&&console.log("texturePool: destruct material",e,i),i.destruct(),delete this.materialPool[e])}this.texturePool[t].destruct(),delete this.texturePool[t],da.ENABLED&&console.log("texturePool: destruct texture",t,this.texturePool)}else da.ENABLED&&console.log("texturePool: texture not found in pool",t,this.texturePool);i.destruct()}this.scene=this.createSceneById(t,e),this.sceneId=t,this.renderer.destructVAOs()}}downloadSceneAssets(t,e){const i=ha.getStaticDir()+"webgl/scenes/"+t+"/"+t+".json",s="scenes/"+(this.halfRes?"half/":"full/"),a=ha.getFileName("scenes/"+t+"/LightMap"+(this.halfRes?"2k":""));new ir(e,a);const n=new Sn(e,i);e.setCallbackForPreloadable(n,()=>{const t=JSON.parse(n.text);for(let i of t.textures){new ir(e,a);const t=i.name;if(!this.texturePool[t]){let i=ha.getFileName(s+t,!1);new ir(e,i)}}})}get halfRes(){return Jt.a.mobile||Jt.a.safari}createSceneById(t,e){switch(t){case mr.NONE:return null;case mr.GATE_OF_ALL_NATIONS:return new Wn(this.renderer,e,this.eventDispatcher,this.texturePool,this.materialPool,this.halfRes);case mr.APADANA:return new qn(this.renderer,e,this.eventDispatcher,this.texturePool,this.materialPool,this.halfRes);case mr.PALACE_OF_XERXES:return new Qn(this.renderer,e,this.eventDispatcher,this.texturePool,this.materialPool,this.halfRes);case mr.SOUTH_EASTERN_PALACE:return new tr(this.renderer,e,this.eventDispatcher,this.texturePool,this.materialPool,this.halfRes);case mr.ROYAL_TREASURY:return new Jn(this.renderer,e,this.eventDispatcher,this.texturePool,this.materialPool,this.halfRes);case mr.HALL_OF_100_COLUMNS:return new Kn(this.renderer,e,this.eventDispatcher,this.texturePool,this.materialPool,this.halfRes);default:return console.warn("unhandled scene: ",t),null}}handleSceneLoaded(){if(this.scene){if(this.scene.init(),da.ENABLED){let t=0;for(const s in this.texturePool){let e=this.texturePool[s];t+=e.width*e.height*e.channelCount}const e=this.scene.lightMap;t+=e.width*e.height*e.channelCount;const i=this.halfRes?2048:4096;t+=i*i*e.channelCount,this.setFloat("_ShowLightmap",this.showLightMapParam.value?1:0),console.log("scene textureMemoryUsed",Math.floor(t/1048576)+" MB")}}else console.warn("handleSceneLoaded: no scene")}setFloat(t,e){var i;null===(i=this.scene)||void 0===i||i.setFloat(t,e)}get cameraAnimationTransform(){return this.scene?this.scene.unity.getTransformByName("Main Camera"):null}setFloorReflection(t){if(this.scene&&this.scene.floor){const e=this.scene.floor.sharedMaterial;e.setTexture("_Reflection",t),e.setVector2("_Resolution",this.renderer.size)}}getFloorVisible(t){return!!this.scene&&(!!this.scene.floor&&t.boxInFrustum(this.scene.floor.bbMin,this.scene.floor.bbMax))}setFogProgress(t){this.setFloat("_FogProgress",t)}destruct(){var t;null===(t=this.scene)||void 0===t||t.destruct();for(let e in this.texturePool)this.texturePool[e].destruct();for(let e in this.materialPool)this.materialPool[e].destruct();super.destruct()}}class ar{constructor(){this.planes=[],this.points=[],this.m=new An;for(let t=0;t<6;++t)this.planes.push(new Ia);for(let t=0;t<8;++t)this.points.push(new ga)}updateForViewProjection(t){An.transpose(this.m,t);const e=t.m;this.planes[0].setValues(e[3]-e[0],e[7]-e[4],e[11]-e[8],e[15]-e[12]),this.planes[1].setValues(e[3]+e[0],e[7]+e[4],e[11]+e[8],e[15]+e[12]),this.planes[2].setValues(e[3]+e[1],e[7]+e[5],e[11]+e[9],e[15]+e[13]),this.planes[3].setValues(e[3]-e[1],e[7]-e[5],e[11]-e[9],e[15]-e[13]),this.planes[4].setValues(e[3]-e[2],e[7]-e[6],e[11]-e[10],e[15]-e[14]),this.planes[5].setValues(e[3]+e[2],e[7]+e[6],e[11]+e[10],e[15]+e[14]),this.planes.forEach(t=>{t.multiplyScalar(1/Math.sqrt(t.x**2+t.y**2+t.z**2))})}updateForCamera(t){this.updateForViewProjection(t.viewProjection)}pointInFrustum(t){return this.sphereInFrustum(t,0)}sphereInFrustum(t,e){for(let i=0;i<6;i++)if(this.dot(this.planes[i],t.x,t.y,t.z)<-e)return!1;return!0}boxInFrustum(t,e){for(let i=0;i<6;i++)if(this.dot(this.planes[i],t.x,t.y,t.z)<0&&this.dot(this.planes[i],e.x,t.y,t.z)<0&&this.dot(this.planes[i],t.x,e.y,t.z)<0&&this.dot(this.planes[i],e.x,e.y,t.z)<0&&this.dot(this.planes[i],t.x,t.y,e.z)<0&&this.dot(this.planes[i],e.x,t.y,e.z)<0&&this.dot(this.planes[i],t.x,e.y,e.z)<0&&this.dot(this.planes[i],e.x,e.y,e.z)<0)return!1;return!0}dot(t,e,i,s){return t.x*e+t.y*i+t.z*s+t.w}}class nr{constructor(t,e=1,i=.01,s=10){this.frustumHeight=1,this._projectionMatrix=new An,this._dirty=!0,this._tmpMat4=new An,this._tmpV4=new Ia,this._frustumCorner=new ga,this._jitter=new Pa,this._jitterFrame=0,this._frustumOffset=new Pa,this._fov=e,this.frustumHeight=2*Math.tan(.5*this._fov),this._nearPlane=i,this._farPlane=s,this._aspect=1,this._changeCallback=t,this.dirty=!0,this.getFrustumCornerRef(this._frustumCorner)}set dirty(t){this._dirty!=t&&(this._dirty=t,t&&this._changeCallback())}get dirty(){return this._dirty}get matrix(){return this.updateMatrix(),this._projectionMatrix}updateMatrix(){if(!this.dirty)return;let t=this._frustumOffset.x,e=this._frustumOffset.y;if(0!=t||0!=e){let i=this._nearPlane*Math.tan(this._fov/2),s=-i,a=i*this._aspect,n=-a;n-=t*this._nearPlane,a-=t*this._nearPlane,i+=e*this._nearPlane,s+=e*this._nearPlane;let r=2*this._nearPlane/(a-n),o=2*this._nearPlane/(i-s),l=(a+n)/(a-n),c=(i+s)/(i-s),h=-(this._farPlane+this._nearPlane)/(this._farPlane-this._nearPlane),d=-2*this._farPlane*this._nearPlane/(this._farPlane-this._nearPlane);this._projectionMatrix.setValues(r,0,0,0,0,o,0,0,l,c,h,-1,0,0,d,0)}else An.perspective(this._projectionMatrix,this._fov,this._aspect,this._nearPlane,this._farPlane);this.dirty=!1,this.getFrustumCornerRef(this._frustumCorner)}set aspectRatio(t){t!==this._aspect&&(this._aspect=t,this.dirty=!0)}get aspectRatio(){return this._aspect}set farPlane(t){t!==this._farPlane&&(this._farPlane=t,this.dirty=!0)}get farPlane(){return this._farPlane}set nearPlane(t){t!==this._nearPlane&&(this._nearPlane=t,this.dirty=!0)}get nearPlane(){return this._nearPlane}set FOV(t){t!==this._fov&&(this._fov=t,this.frustumHeight=2*Math.tan(.5*this._fov),this.dirty=!0)}get FOV(){return this._fov}getFrustumCornerRef(t){const e=.5*this.frustumHeight,i=e*this._aspect;return t.setValues(i,e,1),t}get frustumCorner(){return this.dirty&&this.updateMatrix(),this._frustumCorner}getHaltonSequence(t,e){let i=0,s=1,a=t;for(;a>0;)s/=e,i+=s*(a%e),a=Math.floor(a/e);return i}jitter(t){this._jitter.setValues(this.getHaltonSequence(this._jitterFrame%51,2)-.5,this.getHaltonSequence(this._jitterFrame%31,3)-.5),this._jitterFrame++,An.copy(this._projectionMatrix,this.getJitteredMatrix(this._jitter,t,this._tmpV4)),this.getFrustumCornerRef(this._frustumCorner),this.dirty=!1}getJitteredMatrix(t,e,i){const s=Math.tan(.5*this.FOV),a=s*(e.x/e.y),n=a/(.5*e.x),r=s/(.5*e.y),o=n*t.x,l=r*t.y;void 0!==i&&i.setValues(a/e.x,s/e.y,o/e.x,l/e.y);const c=this.farPlane,h=this.nearPlane,d=o-a,u=o+a,p=l-s,m=l+s,f=2*h/(u*h-d*h),g=2*h/(m*h-p*h),v=(u*h+d*h)/(u*h-d*h),_=(m*h+p*h)/(m*h-p*h),A=-(c+h)/(c-h),T=-2*c*h/(c-h);return this._tmpMat4.setValues(f,0,0,0,0,g,0,0,v,_,A,-1,0,0,T,0),this._tmpMat4}getJitter(){return this._jitter}setMatrix(t){An.copy(this._projectionMatrix,t),this.dirty=!1}setFrustumOffset(t,e){this._frustumOffset.x==t&&this._frustumOffset.y==e||(this._frustumOffset.setValues(t,e),this.dirty=!0)}}class rr{constructor(t){this.transform=new Tn,this._dirty=!0,this._viewMatrix=new An,this._rotationMatrix=new An,this.transform.addChangeCallBack(()=>{this.dirty=!0}),this._changeCallback=t}get worldPosition(){return this.transform.worldPosition}set dirty(t){this._dirty!=t&&(this._dirty=t,t&&this._changeCallback())}get dirty(){return this._dirty}get matrix(){return this.updateMatrix(),this._viewMatrix}updateMatrix(){this.dirty&&(An.invert(this._viewMatrix,this.transform.worldMatrix),this.dirty=!1)}get worldRotationMatrix(){return An.invert(this._rotationMatrix,this.transform.worldRotationMatrixMat4),this._rotationMatrix}}class or{constructor(t=1,e=.01,i=10){this.dirty=!0,this._viewProjection=new An,this.tViewProjInv=new An,this._inverseView=new An,this.projection=new nr(()=>{this.dirty=!0},t,e,i),this.view=new rr(()=>{this.dirty=!0})}get worldPosition(){return this.view.worldPosition}lookAt(t,e,i=ga.UP){this.view.transform.lookAt(t,e,i)}set position(t){this.view.transform.position=t}get viewProjection(){return this.updateViewProjection(),this._viewProjection}get projectionMatrix(){return this.projection.matrix}get viewMatrix(){return this.view.matrix}updateViewProjection(){this.dirty&&(An.multiply(this._viewProjection,this.projection.matrix,this.view.matrix),this.dirty=!1)}worldToScreenPoint(t){const e=new Ia;return e.x=t.x,e.y=t.y,e.z=t.z,e.w=1,e.transform(this.viewProjection),e.w=Math.max(e.w,.1),e.x/=e.w,e.y/=e.w,e.x=.5*e.x+.5,e.y=-.5*e.y+.5,e}worldToScreenPointRef(t,e){t.x=e.x,t.y=e.y,t.z=e.z,t.w=1,t.transform(this.viewProjection),t.w=Math.max(t.w,.1),t.x/=t.w,t.y/=t.w,t.x=.5*t.x+.5,t.y=-.5*t.y+.5}screenToWorldPoint(t){An.invert(this.tViewProjInv,this.viewProjection);const e=2*t.x-1,i=-2*t.y+1;return new ga(e,i,1).transform(this.tViewProjInv)}getDepth(t){return new Ia(t.x,t.y,t.z,1).transform(this.viewProjection).z}get inverseView(){return An.invert(this._inverseView,this.viewMatrix),this._inverseView}}class lr extends class{constructor(t){this._eulerXY=new Pa,this._transform=new Tn,this._mouseInverseValue=1,this._mouseInverseValue=t?-1:1}getTransform(){return this._transform}get eulerXY(){return this._eulerXY}update(t){}set eulerXY(t){this._eulerXY.copy(t),this._transform.eulerXY=t}setEulerValues(t,e){this._eulerXY.setValues(t,e),this._transform.eulerXY=this._eulerXY}set rotation(t){this._transform.rotation=t;const e=this._transform.euler;this._eulerXY.setValues(e.x,e.y)}get rotation(){return this._transform.rotation}setMouseInverted(t){this._mouseInverseValue=t?-1:1}getMouseInverted(){return this._mouseInverseValue<0}}{constructor(t,e,i=!0){super(e),this.mouseDown=!1,this._eulerSpeed=new Pa,this._rotating=!1,this._rotatingLerp=0,this._rotatingLerpPrev=0,this._rotationLimit=new Pa(1.4,-1),this._rotationSpeedMultiplier=1,this.renderer=t,this.mouseListener=t.mouseListener,this._clampEuler=i}update(t){const e=this.mouseDown;this.mouseDown=this.mouseListener.mouseDown;const i=t.projection.FOV,s=.5/Math.tan(.5*i),a=2*Math.atan2(.5*this.renderer.aspectRatio,s),n=this.mouseSpeed;if(n.length()>lr.MOUSE_MOVEMENT_CANCEL_TRIGGER&&this.mouseListener.cancelClick(),this.mouseDown&&e){const t=this._rotationSpeedMultiplier;this._eulerSpeed.setValues(t*n.y*i*this._mouseInverseValue,t*n.x*a*this._mouseInverseValue),this._rotating=this._eulerSpeed.length()>0,this._rotatingLerp=this._rotating?.5:0,this._rotatingLerpPrev=this._rotatingLerp,this.rotateBy(this._eulerSpeed),this._eulerSpeed.setValues(Math.min(lr.MAX_ROTATE_SPEED,Math.abs(this._eulerSpeed.x))*Math.sign(this._eulerSpeed.x),Math.min(lr.MAX_ROTATE_SPEED,Math.abs(this._eulerSpeed.y))*Math.sign(this._eulerSpeed.y))}else this._rotatingLerp=_a.clamp01(this._rotatingLerp-Ka.instance.deltaTime),this._rotating=this._rotatingLerp>0,this._rotating&&(this._eulerSpeed.multiplyScalar(1-(this._rotatingLerpPrev-this._rotatingLerp)/this._rotatingLerpPrev),this.rotateBy(this._eulerSpeed)),this._rotatingLerpPrev=this._rotatingLerp}set rotationSpeedMultiplier(t){this._rotationSpeedMultiplier=t}resetSpeed(){this.mouseDown=!1,this._eulerSpeed.setValues(0,0)}rotateBy(t){this._eulerXY.add(t),this._clampEuler&&(this._rotationLimit.x>=0&&(this._eulerXY.x=_a.clamp(this._eulerXY.x,-this._rotationLimit.x,this._rotationLimit.x)),this._rotationLimit.y>=0&&(this._eulerXY.y=_a.clamp(this._eulerXY.y,-this._rotationLimit.y,this._rotationLimit.y))),this._transform.eulerXY=this._eulerXY}set rotationLimit(t){this._rotationLimit.copy(t)}get rotating(){return this._rotating}get mouseSpeed(){return this.mouseListener.mouseDown?this.mouseListener.normalizedVelocity:new Pa}}lr.MOUSE_MOVEMENT_CANCEL_TRIGGER=.0025,lr.MAX_ROTATE_SPEED=.175;class cr extends or{constructor(t,e=1,i=.01,s=100,a=!0){super(e,i,s),this._translateSpeed=new ga,this._right=new ga,this._translateSpeedModifier=2,this._renderer=t,this._invertMouse=a,this._keyListener=dn.getInstance(),this._mouseListener=t.mouseListener,this._rotationController=new lr(t,a)}set eulerXY(t){this._rotationController.eulerXY=t}lookAt(t,e,i=ga.UP){super.lookAt(t,e,i),this._rotationController.rotation=this.view.transform.rotation}resetSpeed(){this._translateSpeed.setValues(0,0,0),this._rotationController.resetSpeed()}forward(t){const e=this.view.transform.forward;e.multiplyScalar(this._translateSpeedModifier*t*Ka.instance.deltaTime),this._translateSpeed.add(e)}sideWays(t){this._right=this.view.transform.right,this._right.multiplyScalar(-this._translateSpeedModifier*t*Ka.instance.deltaTime),this._translateSpeed.add(this._right)}rotateBy(t){this._rotationController.rotateBy(t),this.view.transform.rotation=this._rotationController.rotation}update(){this.projection.aspectRatio=this._renderer.aspectRatio,this._keyListener.getKeyCodeDown(mn.LEFT_ARROW)&&this.sideWays(1),this._keyListener.getKeyCodeDown(mn.RIGHT_ARROW)&&this.sideWays(-1),this._keyListener.getKeyCodeDown(mn.UP_ARROW)&&this.forward(-1),this._keyListener.getKeyCodeDown(mn.DOWN_ARROW)&&this.forward(1),this._keyListener.getKeyCodeDown(mn.KEY_A)&&this.sideWays(1),this._keyListener.getKeyCodeDown(mn.KEY_D)&&this.sideWays(-1),this._keyListener.getKeyCodeDown(mn.KEY_W)&&this.forward(-1),this._keyListener.getKeyCodeDown(mn.KEY_S)&&this.forward(1),this.view.transform.translate(this._translateSpeed),this._translateSpeed.multiplyScalar(.9),this._rotationController.update(this),this.view.transform.rotation=this._rotationController.rotation}getMouseDown(){return this._mouseListener.mouseDown}getMouseSpeed(){return this._mouseListener.mouseDown?this._mouseListener.normalizedVelocity:new Pa}setTranslateSpeed(t){this._translateSpeedModifier=t}getTranslateSpeed(){return this._translateSpeedModifier}setDamping(t){}}class hr extends ua{constructor(t,e=0){if(super(),this._isEnabled=!1,this._isDeviceAvailable=!1,this._eventBind=!1,this._target=new _n,this._screen=new _n,this._worldRot=new _n(-Math.sqrt(.5),0,0,Math.sqrt(.5)),this.euler=new ga,this.offsetY=e,Jt.a.ios&&"function"===typeof DeviceMotionEvent.requestPermission){let t=!1;window.addEventListener("click",()=>{da.ENABLED&&console.log("Gyroscope: handle click"),t||(t=!0,DeviceOrientationEvent.requestPermission().then(t=>{da.ENABLED&&console.log("Gyroscope: requestPermission",t),"granted"==t&&this.enable()}).catch(t=>{}))})}else this.enable()}enable(){"ondeviceorientation"in window?(da.ENABLED&&console.log("Gyroscope: ondeviceorientation found on window"),this._isDeviceAvailable=!0):console.warn("Gyroscope: no ondeviceorientation in window"),this._isDeviceAvailable&&(this._eventBind||(da.ENABLED&&console.log("Gyroscope: addEventListener : deviceorientation"),window.addEventListener("deviceorientation",t=>{this.handleDeviceOrientation(t)},!1),this._eventBind=!0),this._isEnabled=!0)}isEnabled(){return this._isEnabled&&this._isDeviceAvailable}disable(){this._isEnabled=!1}handleDeviceOrientation(t){if(this._isEnabled){const e=window.orientation||0;this.euler=new ga(_a.degToRad(t.beta),_a.degToRad(t.alpha),-_a.degToRad(t.gamma)),this.euler.y+=this.offsetY;this._target.identity(),this._target.rotateY(this.euler.y),this._target.rotateX(this.euler.x),this._target.rotateZ(this.euler.z);const i=-e/2*Math.PI/180;this._screen.setValues(0,Math.sin(i),0,Math.cos(i)),this._target.multiply(this._screen),this._target.multiply(this._worldRot)}}get rotation(){return this._target}}class dr extends or{constructor(t){super(1,.2,500),this.pivot=new Tn,this._euler=new ga,this.mouseDown=!1,this.eulerSpeed=new Pa,this.rotatingLerp=0,this.rotatingLerpPrev=0,this.rotationSpeedMultiplier=1,this._eulerXY=new Pa,this.transform=new Tn,this.rotation=new _n,this.dragRotateAmount=1,this.hoverRotateAmount=1,this.offsetYTween=new Zn(0),this.hoverSpeed=new Pa,this.gyroscope=void 0,this.defaultRotation=(new _n).rotateY(Math.PI),this.eulerOld=new ga,this.gyroSpeed=new Pa,this.gyroHover=new Pa,this.gyroResponse=.05,this.gyroStrength=0,this.renderer=t,this.pivot.setPositionValues(0,0,0),this.view.transform.setParent(this.pivot),this.mouseListener=t.mouseListener,Jt.a.mobile&&(this.gyroscope=new hr(this.renderer.canvas,Math.PI),this.pivot.rotation=this.defaultRotation)}update(t,e=0){if(this.projection.FOV=Math.atan(3/this.renderer.aspectRatio),this.offsetYTween.update(t),this.pivot.setPositionValues(0,this.offsetYTween.value,0),this.projection.aspectRatio=this.renderer.aspectRatio,this.gyroscope)this.updateToGyro(e);else{this.updateRotation();const t=this.pivot.getParent();if(t){const e=t.euler.x;let i=this.eulerXY;this.rotation.identity(),this.rotation.rotateX(-e),this.rotation.rotateY(i.y),this.rotation.rotateX(i.x),this.rotation.rotateX(-e),this.pivot.rotation=this.rotation}}}updateToGyro(t){if(this.gyroscope){const e=new vn;vn.fromQuat(e,this.gyroscope.rotation);const i=Tn.getEulerYXZ(e),s=ga.subtract(i,this.eulerOld);this.eulerOld.copy(i),s.x<-Math.PI&&(s.x+=2*Math.PI),s.y<-Math.PI&&(s.y+=2*Math.PI),s.x>Math.PI&&(s.x-=2*Math.PI),s.y>Math.PI&&(s.y-=2*Math.PI);const a=_a.smoothStep(0,.02,t);this.gyroSpeed.x=_a.lerp(this.gyroSpeed.x,s.x,this.gyroResponse)*a,this.gyroSpeed.y=_a.lerp(this.gyroSpeed.y,s.y,this.gyroResponse)*a,this.gyroHover.x+=this.gyroSpeed.x,this.gyroHover.y+=this.gyroSpeed.y,this.gyroHover.x*=this.hoverRotateAmount,this.gyroHover.y*=this.hoverRotateAmount,this.gyroHover.x*=this.dragRotateAmount,this.gyroHover.y*=this.dragRotateAmount;const n=this.pivot.getParent();if(n){const t=n.euler.x;this.rotation.identity(),this.rotation.rotateX(-t),this.rotation.rotateY(this.gyroHover.y+Math.PI),this.rotation.rotateX(this.gyroHover.x),this.rotation.rotateX(-t),this.pivot.rotation=this.rotation}}}updateRotation(){const t=this.mouseDown;this.mouseDown=this.mouseListener.mouseDown;const e=this.projection.FOV,i=.5/Math.tan(.5*e),s=2*Math.atan2(.5*this.renderer.aspectRatio,i),a=this.mouseSpeed;if(a.length()>lr.MOUSE_MOVEMENT_CANCEL_TRIGGER&&this.mouseListener.cancelClick(),this.mouseDown&&t){const t=this.rotationSpeedMultiplier;this.eulerSpeed.setValues(t*a.y*e,t*a.x*s),this.eulerSpeed.multiplyScalar(this.dragRotateAmount);const i=this.eulerSpeed.length()>0;this.rotatingLerp=i?.5:0,this.rotatingLerpPrev=this.rotatingLerp,this.rotateBy(this.eulerSpeed),this.eulerSpeed.setValues(Math.min(dr.MAX_ROTATE_SPEED,Math.abs(this.eulerSpeed.x))*Math.sign(this.eulerSpeed.x),Math.min(dr.MAX_ROTATE_SPEED,Math.abs(this.eulerSpeed.y))*Math.sign(this.eulerSpeed.y))}else this.rotatingLerp=_a.clamp01(this.rotatingLerp-Ka.instance.deltaTime),this.rotatingLerp>0&&(this.eulerSpeed.multiplyScalar(1-(this.rotatingLerpPrev-this.rotatingLerp)/this.rotatingLerpPrev),this.rotateBy(this.eulerSpeed)),this.rotatingLerpPrev=this.rotatingLerp;this.hover()}hover(){if(this.mouseListener.mouseDown)this.hoverSpeed.multiplyScalar(0);else{this.hoverSpeed.multiplyScalar(.95);const t=this.mouseListener.normalizedVelocity;this.hoverSpeed=Pa.lerp(this.hoverSpeed,new Pa(-t.y,-t.x),.01*this.hoverRotateAmount)}this.rotateBy(this.hoverSpeed)}rotateBy(t){this._eulerXY.add(t),this._eulerXY.x=_a.clamp(this._eulerXY.x,-.25,1),this._eulerXY.y=_a.posMod(this._eulerXY.y,2*Math.PI),this.transform.eulerXY=this._eulerXY}rotateBack(t){const e=Math.min(Math.abs(t),1);if(this.gyroscope);else{const t=this.eulerXY.clone();this.rotateBy(new Pa(-t.x,Math.PI-t.y).multiplyScalar(e))}}get mouseSpeed(){return this.mouseListener.mouseDown?this.mouseListener.normalizedVelocity:new Pa}set eulerY(t){this._euler.y=t,this.setEulerValues(this._euler.x,this._euler.y)}get eulerXY(){return this._eulerXY}setEulerValues(t,e){this._eulerXY.setValues(t,e),this.transform.eulerXY=this._eulerXY}moveUp(t,e=(()=>{})){this.offsetYTween.fromTo(0,2,t,void 0,e)}moveDown(t,e=(()=>{})){this.offsetYTween.fromTo(2,0,t,void 0,e)}}dr.MAX_ROTATE_SPEED=.175;var ur=class extends on{constructor(t,e,i=null,s=!1){super(t,s?nn.RGBA_UNSIGNED_BYTE:nn.RGB_FLOAT),this.rgbe_read_error=1,this.rgbe_write_error=2,this.rgbe_format_error=3,this.rgbe_memory_error=4,this.RGBE_VALID_PROGRAMTYPE=1,this.RGBE_VALID_FORMAT=2,this.RGBE_VALID_DIMENSIONS=4,this._path=i,this._convertToLDR=s,e.add(this)}load(t){this._path?ja.loadArrayBuffer(this._path,e=>{const i=this.parse(new Uint8Array(e));da.log("HDR LOAD RESULT: ",i),t.call(this)}):t.call(this)}parse(t){t.byteLength;t.pos=0;const e=this.parseHeader(t);if(da.log("HEADER:",e),!1!==e){const i=e.width,s=e.height,a=this.RGBE_ReadPixels_RLE(t.subarray(t.pos),i,s);a&&a.length&&this.setData(a,i,s,!0)}return null}error(t,e){switch(t){case this.rgbe_read_error:console.error("THREE.RGBELoader Read Error: "+(e||""));break;case this.rgbe_write_error:console.error("THREE.RGBELoader Write Error: "+(e||""));break;case this.rgbe_format_error:console.error("THREE.RGBELoader Bad File Format: "+(e||""));break;default:case this.rgbe_memory_error:console.error("THREE.RGBELoader: Error: "+(e||""))}}parseHeader(t){let e,i;const s=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,a=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,n=/^\s*FORMAT=(\S+)\s*$/,r=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,o={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};if(t.pos>=t.byteLength||!(e=this.fgets(t)))return this.error(this.rgbe_read_error,"no header found");if(!(i=e.match(/^#\?(\S+)$/)))return this.error(this.rgbe_format_error,"bad initial token");for(o.valid|=this.RGBE_VALID_PROGRAMTYPE,o.programtype=i[1],o.string+=e+"\n";e=this.fgets(t),!1!==e;)if(o.string+=e+"\n","#"!==e.charAt(0)){if((i=e.match(s))&&(o.gamma=parseFloat(i[1])),(i=e.match(a))&&(o.exposure=parseFloat(i[1])),(i=e.match(n))&&(o.valid|=this.RGBE_VALID_FORMAT,o.format=i[1]),(i=e.match(r))&&(o.valid|=this.RGBE_VALID_DIMENSIONS,o.height=parseInt(i[1],10),o.width=parseInt(i[2],10)),o.valid&this.RGBE_VALID_FORMAT&&o.valid&this.RGBE_VALID_DIMENSIONS)break}else o.comments+=e+"\n";return o.valid&this.RGBE_VALID_FORMAT?o.valid&this.RGBE_VALID_DIMENSIONS?o:this.error(this.rgbe_format_error,"missing image size specifier"):this.error(this.rgbe_format_error,"missing format specifier")}fgets(t,e=1024,i=!0){e=e||1024;for(var s=t.pos,a=-1,n=0,r="",o=String.fromCharCode.apply(null,new Uint16Array(t.subarray(s,s+128)));0>(a=o.indexOf("\n"))&&n<e&&s<t.byteLength;)r+=o,n+=o.length,s+=128,o+=String.fromCharCode.apply(null,new Uint16Array(t.subarray(s,s+128)));return-1<a&&(!1!==i&&(t.pos+=n+a+1),r+o.slice(0,a))}RGBE_ReadPixels_RLE(t,e,i){var s,a,n,r,o,l,c,h,d,u,p,m=e,f=i;if(m<8||m>32767||2!==t[0]||2!==t[1]||128&t[2]){for(var g=0,v=new Float32Array(3*e*i),_=0;_<e*i;_++){var A=this.RgbeToFloat(t[4*_+0],t[4*_+1],t[4*_+2],t[4*_+3]);v[g]=A.x,v[g+1]=A.y,v[g+2]=A.z,g+=3}return v}if(m!==(t[2]<<8|t[3]))return this.error(this.rgbe_format_error,"wrong scanline width"),null;if(!(v=new Float32Array(3*e*i))||!v.length)return this.error(this.rgbe_memory_error,"unable to allocate buffer space"),null;for(g=0,s=0,l=4*m,p=new Uint8Array(4),r=new Uint8Array(l);f>0&&s<t.byteLength;){if(s+4>t.byteLength)return this.error(this.rgbe_read_error,""),null;if(p[0]=t[s++],p[1]=t[s++],p[2]=t[s++],p[3]=t[s++],2!=p[0]||2!=p[1]||(p[2]<<8|p[3])!=m)return this.error(this.rgbe_format_error,"bad rgbe scanline format"),null;for(o=0;o<l&&s<t.byteLength;){if((u=(a=t[s++])>128)&&(a-=128),0===a||o+a>l)return this.error(this.rgbe_format_error,"bad scanline data"),null;if(u)for(n=t[s++],c=0;c<a;c++)r[o++]=n;else r.set(t.subarray(s,s+a),o),o+=a,s+=a}for(h=m,c=0;c<h;c++){var T=r[c+(d=0)],y=r[c+(d+=m)],E=r[c+(d+=m)],b=r[c+(d+=m)];A=this.RgbeToFloat(T,y,E,b);v[g]=A.x,v[g+1]=A.y,v[g+2]=A.z,g+=3}f--}if(this._convertToLDR){const t=new Uint8Array(v.length/3*4);for(let e=0;e<v.length;e+=3)t[4*e/3+0]=_a.clamp(255*Math.pow(v[e+0],1/2.2)|0,0,255),t[4*e/3+1]=_a.clamp(255*Math.pow(v[e+1],1/2.2)|0,0,255),t[4*e/3+2]=_a.clamp(255*Math.pow(v[e+2],1/2.2)|0,0,255),t[4*e/3+3]=255;return t}return v}RgbeToFloat(t,e,i,s){var a=Math.pow(2,s-136);return new ga(t*=a,e*=a,i*=a)}};class pr extends ua{constructor(t,e){super(),this.renderer=t,this.hdrTextureLoader=new ur(this.renderer,e,null,!1),this.material=new Ha(this.renderer,e,"convertToLDR")}init(t){let e=t.addGroup("HDRToLDR",this.material);e.addShaderParamBool("_UseExp",!1),e.addShaderParamFloat("_BrightnessBeforeExp",1.5,0,5),e.addShaderParamFloat("_Brightness",1,0,2),e.addShaderParamFloat("_Gamma",.5,0,1),this.fileQuality=e.addShaderParamFloat("fileQuality",.97,.5,1),this.initDropZone(this.renderer.canvas)}initDropZone(t){const e=t;e.ondragover=function(t){return t.preventDefault(),!1},e.ondrop=t=>{t.preventDefault(),da.log("dropZone",t.dataTransfer.files);let e=t.dataTransfer.files.length;for(let i=0;i<e;i++){const e=t.dataTransfer.files[i],s=e.name.split(".").pop();"hdr"==s?this.processHDR(e):console.log("Unrecognized file type: "+s+"!")}}}processHDR(t){const e=new FileReader;e.onload=t=>{this.ldr=new cn(this.renderer,1,1,nn.RGBA_UNSIGNED_BYTE,!1,!0,!0),this.hdrTextureLoader.parse(new Uint8Array(t.target.result)),this.hdrTextureLoader.width>0&&this.hdrTextureLoader.height>0&&(this.ldr.setSize(this.hdrTextureLoader.width,this.hdrTextureLoader.height),this.renderer.blit(this.hdrTextureLoader,this.ldr,this.material,!0),this.renderer.blit(this.ldr),er.saveTextureToDisk(this.ldr,"LightMap","webp",this.fileQuality.value),er.saveTextureToDisk(this.ldr,"LightMap","jpeg",90),this.ldr.setSize(this.hdrTextureLoader.width/2,this.hdrTextureLoader.height/2),this.renderer.blit(this.hdrTextureLoader,this.ldr,this.material,!0),this.renderer.blit(this.ldr),er.saveTextureToDisk(this.ldr,"LightMap2k","webp",this.fileQuality.value),er.saveTextureToDisk(this.ldr,"LightMap2k","jpeg",90))},e.readAsArrayBuffer(t)}destruct(){super.destruct()}}var mr,fr,gr;class vr extends ua{constructor(t,e,i){super(),this._output=null,this._texelSize=new Pa,this.frame=0,this._renderer=t,i.alphaAsEmissive?this._firstPass=this.getMaterial({FIRST_PASS:1,ALPHA_AS_EMISSIVE:1}):this._firstPass=this.getMaterial({FIRST_PASS:1}),this._intermediatePass=this.getMaterial(),this._intermediatePass.setAdditiveBlending(),this._lastPass=this.getMaterial({LAST_PASS:1}),this.setSettings(i,{threshold:.8,strength:.25,passBoost:.25,alphaAsEmissive:!1,lastPassAdditive:!1,drawToTexture:!1,floatBuffers:!1,rotateSample:0,noiseAmount:0}),this._settings.lastPassAdditive&&this._lastPass.setAdditiveBlending(),this._buffers=this.createBuffers(vr.MAX_PASSES,this._settings.floatBuffers),this._settings.drawToTexture&&(this._output=new cn(t,1,1,nn.RGB_UNSIGNED_BYTE),this._output.scaleToCanvas=!0),this.black=new on(this._renderer)}setSettings(t,e={}){this._settings=Object.assign(e,t),da.log("BloomStandAlone: ",this._settings)}getMaterial(t={}){let e=new Fa(this._renderer,"bloom",new za(this._renderer,t).init("bloom","attribute vec3 aPos;\nattribute vec2 aUV0;\n\nvarying vec2 vUV;\n\nvarying vec2 vUV1;\nvarying vec2 vUV2;\nvarying vec2 vUV3;\nvarying vec2 vUV4;\n\n#ifdef LAST_PASS\nuniform mat3 _CameraRotation;\nuniform vec3 _FrustumCorner;\nvarying vec3 vWorld;\n#endif\n\nuniform vec2 _SourceTexelSize;\nuniform float _RotateSample;\n\nvoid main(void) {\n\tvUV = aUV0;\n\n/*\tvec4 o = _BloomSourceTexelSize.xyxy * vec2(-1., 1.).xxyy;\n\tvUV1 = vUV + o.xy;\n\tvUV2 = vUV + o.zy;\n\tvUV3 = vUV + o.xw;\n\tvUV4 = vUV + o.zw;*/\n\n\tvUV1 = vUV + vec2(-1., -1.) * _SourceTexelSize;\n\tvUV2 = vUV + vec2(1., -1.) * _SourceTexelSize;\n\tvUV3 = vUV + vec2(-1., 1.) * _SourceTexelSize;\n\tvUV4 = vUV + vec2(1., 1.) * _SourceTexelSize;\n\n/*\t//minimizes aliasing on straight lines\n\tvUV1 += vec2(-1., 1.) * _SourceTexelSize * _RotateSample;\n\tvUV2 += vec2(-1., -1.) * _SourceTexelSize * _RotateSample;\n\tvUV3 += vec2(1., 1.) * _SourceTexelSize * _RotateSample;\n\tvUV4 += vec2(1., -1.) * _SourceTexelSize * _RotateSample;*/\n\n\n  #ifdef LAST_PASS\n  vWorld = _CameraRotation * (vec3(aPos.xy,-1.) * _FrustumCorner);\n  #endif\n\n\tgl_Position = vec4(aPos, 1.0);\n}\n","precision mediump float;\n\nvarying vec2 vUV;\n\nvarying vec2 vUV1;\nvarying vec2 vUV2;\nvarying vec2 vUV3;\nvarying vec2 vUV4;\n\nuniform sampler2D uTexture;\nuniform float _PassBoost;\nuniform float _Contrast;\nuniform float _Brightness;\nuniform float _Vignette;\nuniform float _Gamma;\n\n#ifdef LAST_PASS\n\tuniform sampler2D uSource;\n\tuniform highp float _Frame;\n\tuniform float _Grain;\n\tuniform float _FlareStrength;\n\tuniform highp float _Strength;\n\n//  uniform float _X;\n//  uniform float _Y;\n\n  #define _X 1.85\n  #define _Y 0.49\n\n  varying vec3 vWorld;\n\n  highp float hash13(highp vec3 p3)\n  {\n    p3  = fract(p3 * .1031);\n    p3 += dot(p3, p3.zyx + 31.32);\n    return fract((p3.x + p3.y) * p3.z);\n  }\n#endif\n\n#ifdef FIRST_PASS\n\tuniform float _Threshold;\n\tuniform float _Strength;\n\n\t#ifdef ALPHA_AS_EMISSIVE\n\t\tvec3 prefilter (in vec4 c) {\n\t\t\tfloat brightness = max(c.r, max(c.g, c.b));\n\t\t\t//emissive\n\t\t\t//brightness += c.w;\n\t\t\tbrightness *= 1. + c.w;\n\t\t\tfloat contribution = max(0., brightness - _Threshold);\n\t\t\tc.xyz *= (contribution * _Strength * _Strength);\n//\t\t\treturn c.xyz;\n\t\t\treturn vec3(1,0,0);\n    \t}\n\t#else\n\t\tvec3 prefilter (in vec3 c) {\n\t\t\tfloat brightness = max(c.r, max(c.g, c.b));\n\t\t\tfloat contribution = max(0., brightness - _Threshold);\n\t\t\treturn c * (contribution * _Strength * _Strength);\n\t\t\t//return normalize(c) * (contribution * _Strength * _Strength);\n    \t}\n\t#endif\n#endif\n\nvec3 ts(in vec2 uv) {\n\t#ifdef FIRST_PASS\n\t\t#ifdef ALPHA_AS_EMISSIVE\n\t\t\treturn prefilter(texture2D(uTexture, uv));\n\t\t#else\n\t\t\treturn prefilter(texture2D(uTexture, uv).xyz);\n\t\t#endif\n\t#else\n\t\treturn texture2D(uTexture, uv).xyz;\n\t#endif\n}\n\nvoid main(void) {\n\tvec3 s = ts(vUV1) + ts(vUV2) + ts(vUV3) + ts(vUV4);\n\n\t#ifdef LAST_PASS\n\t\tvec3 c = s * 0.25;\n\t\tc += texture2D(uSource, vUV).xyz;\n\n    const vec3 lightDir = vec3(cos(_X) * cos(_Y), -sin(_Y), -sin(_X) * cos(_Y));\n    vec3 rd = normalize(vWorld);\n    c += ((pow(max(0., dot(-lightDir, rd)), 10.) * smoothstep(0.1, 0., _Strength) * _FlareStrength) * vec3(0.18, 0.12, 0.1));\n\n    c = mix(c, smoothstep(vec3(0), vec3(1), c), _Contrast);\n    c = pow(c, vec3(_Gamma));\n    vec2 uv2 = vUV - .5;\n    c *= (1. - dot(uv2, uv2) * _Vignette) * _Brightness;\n\n    c += (hash13(vec3(gl_FragCoord.xy, _Frame)) - 0.33) * _Grain;\n\t\tc = clamp(c, 0., 1.);\n\n    gl_FragColor.xyz = c;\n\t#else\n\t\tgl_FragColor.xyz = s * (0.25 * (1. + _PassBoost));\n\t#endif\n\tgl_FragColor.w = 1.;\n}\n"));return e.depthTest=!1,e}createBuffers(t,e){let i=[];for(let s=0;s<t;s++)i.push(new cn(this._renderer,1,1,e?nn.RGBA_HALF_FLOAT:nn.RGB_UNSIGNED_BYTE,!1,!0,!0,!1));return i}init(t){let e=t.addGroup("Bloom",[this._firstPass,this._intermediatePass,this._lastPass]);this._settings.alphaAsEmissive,this._settings.floatBuffers;this.threshold=e.addParamFloat("_Threshold",this._settings.threshold,0,2),this._passBoost=e.addParamFloat("_PassBoost",this._settings.passBoost),this.strength=e.addShaderParamFloat("_Strength",this._settings.strength,0,2),this._startHalfSize=e.addParamBool("_HalfRes",!0),this.contrast=e.addShaderParamFloat("_Contrast",.25,0,1),e.addShaderParamFloat("_Brightness",1.3,0,4),e.addShaderParamFloat("_Vignette",1.4,0,4),e.addShaderParamFloat("_Grain",.075,0,.2),e.addShaderParamFloat("_FlareStrength",1,0,2),this._lastPass.setFloat("_Gamma",2)}get material(){return this._lastPass}draw(t,e){if(this._lastPass.setVector3("_FrustumCorner",e.projection.frustumCorner),this._lastPass.setMatrix3x3("_CameraRotation",e.view.transform.worldRotationMatrixMat3),this.strength.value>0){let e,i=t,s=i.width,a=i.height;const n=Math.log(.5*t.width)/Math.log(2),r=Math.log(.5*t.height)/Math.log(2),o=Math.floor(Math.min(vr.MAX_PASSES,Math.min(n,r)));this._intermediatePass.setFloat("_PassBoost",this._passBoost.value),this._firstPass.setFloat("_PassBoost",this._passBoost.value);for(let t=0;t<o;t++)this._startHalfSize.value&&(s=Math.floor(.5*s),a=Math.floor(.5*a)),e=this._buffers[t],e.setSize(s,a),0==t?(this._startHalfSize?this._texelSize.setValues(1/i.width,1/i.height):this._texelSize.setValues(.5/i.width,.5/i.height),this._firstPass.setVector2("_SourceTexelSize",this._texelSize),this._firstPass.setFloat("_Threshold",this.threshold.value),this._renderer.blit(i,e,this._firstPass,!1,!1)):(this._texelSize.setValues(1/i.width,1/i.height),this._intermediatePass.setVector2("_SourceTexelSize",this._texelSize),this._renderer.blit(i,e,this._intermediatePass,!0,!1)),i=e,this._startHalfSize.value||(s=Math.floor(.5*s),a=Math.floor(.5*a));this._intermediatePass.setFloat("_PassBoost",0);for(let l=1;l<o;l++)e=this._buffers[o-l-1],this._texelSize.setValues(.5/i.width,.5/i.height),l==o-1?(this._lastPass.setFloat("_Frame",this.frame++),this._lastPass.setTexture("uSource",t),this._lastPass.setVector2("_SourceTexelSize",this._texelSize),this._renderer.renderTarget=void 0,this._renderer.blit(i,this._output,this._lastPass,!1)):(this._intermediatePass.setVector2("_SourceTexelSize",this._texelSize),this._renderer.blit(i,e,this._intermediatePass,!1,!1),i=e)}else this._lastPass.setFloat("_Frame",this.frame++),this._lastPass.setTexture("uSource",t),this._renderer.blit(this.black,this._output,this._lastPass,!1);return this._output}destruct(){for(let t of this._buffers)t.destruct();this._firstPass.destruct(),this._intermediatePass.destruct(),this._lastPass.destruct(),super.destruct()}}vr.MAX_PASSES=9;class _r extends qa{constructor(t){super(t);var e=new Float32Array([-1,-1,0,-1,1,0,1,1,0,1,-1,0]);this.setPositions(e);var i=new Float32Array([0,0,0,1,1,1,1,0]);this.setUV0(i);var s=new Uint16Array([0,2,1,2,0,3]);this.setIndices(s)}}class Ar extends ua{constructor(t,e){super(),this.q=new _n,this.renderer=t,this.material=new Ha(t,e,"torchQuad"),this.material.setAdditiveBlending(),this.material.setCullingDisabled(),this.mesh=new _r(t)}init(t){const e=t.addGroup("torch",this.material);e.addShaderParamFloat("_Opacity",.7),e.addShaderParamFloat("_Amp",.1),e.addShaderParamFloat("_Frequency",4,0,6),e.addShaderParamFloat("_Height",3),e.addShaderParamFloat("_Scale",.1),e.addShaderParamFloat("_Temporal",4)}draw(t,e,i,s){if(s.torches){this.material.setFloat("_Time",Ka.instance.time),this.material.setMatrix("_ViewProjection",t);for(const t of s.torches.transforms){const i=ga.subtract(t.worldPosition,e),s=Math.atan2(i.z,i.x)+.5*Math.PI;this.q.identity().rotateY(-s),this.material.setVector4("_Quaternion",this.q),this.material.setMatrix("_World",t.worldMatrix),this.renderer.draw(this.mesh,this.material)}}}destruct(){this.material.destruct(),this.renderer.destruct(),super.destruct()}}class Tr{constructor(){this.ro=new ga,this.rd=new ga,this.oc=new ga}setVectors(t,e){this.ro.copy(t),this.rd.copy(e)}setFromCamera(t,e){this.ro=t.view.worldPosition,An.invert(Tr.tempMat4,t.projection.matrix),Tr.tempVec4.setValues(e.x,e.y,1,1),Tr.tempVec4.transform(Tr.tempMat4),Tr.tempVec4.z=-1,Tr.tempVec4.w=0,An.invert(Tr.tempMat4,t.view.matrix),Tr.tempVec4.transform(Tr.tempMat4),this.rd.x=Tr.tempVec4.x,this.rd.y=Tr.tempVec4.y,this.rd.z=Tr.tempVec4.z,this.rd.normalize()}intersectTriangle(t,e,i,s){s.z=-1;const a=ga.subtract(e,t),n=ga.subtract(i,t),r=ga.cross(this.rd,n);let o=ga.dot(a,r);if(o<1e-4)return;const l=1/o,c=ga.subtract(this.ro,t),h=ga.dot(c,r)*l;if(h<0||h>1)return;const d=ga.cross(c,a),u=ga.dot(this.rd,d)*l;if(u<0||h+u>1)return;const p=ga.dot(n,d)*l;s.setValues(h,u,p)}intersectBoundingBox(t,e){const i=(t.x-this.ro.x)/this.rd.x,s=(e.x-this.ro.x)/this.rd.x,a=(t.y-this.ro.y)/this.rd.y,n=(e.y-this.ro.y)/this.rd.y,r=(t.z-this.ro.z)/this.rd.z,o=(e.z-this.ro.z)/this.rd.z,l=Math.max(Math.max(Math.min(i,s),Math.min(a,n)),Math.min(r,o)),c=Math.min(Math.min(Math.max(i,s),Math.max(a,n)),Math.max(r,o));return!(c<0)&&!(l>c)}intersectCube(t,e,i=null){const s=new Ia(this.rd.x,this.rd.y,this.rd.z,0);s.transform(e);const a=new ga(s.x,s.y,s.z),n=new Ia(this.ro.x,this.ro.y,this.ro.z,1);n.transform(e);const r=new ga(n.x,n.y,n.z),o=new ga(1,1,1).divide(a),l=o.clone().multiply(r),c=new ga(Math.abs(o.x),Math.abs(o.y),Math.abs(o.z)).multiply(t),h=l.clone().multiplyScalar(-1).subtract(c),d=l.clone().multiplyScalar(-1).add(c),u=Math.max(Math.max(h.x,h.y),h.z),p=Math.min(Math.min(d.x,d.y),d.z);return!(u>p||p<0)&&(i&&(i.copy(this.rd),i.multiplyScalar(u<0?p:u),i.add(this.ro)),!0)}intersectSphere(t,e,i=null){this.oc.copy(this.ro),this.oc.subtract(t);const s=ga.dot(this.oc,this.rd),a=s*s-(ga.dot(this.oc,this.oc)-e*e);if(a<0)return!1;const n=-s-Math.sqrt(a);return!(n<0)&&(i&&(i.copy(this.rd),i.multiplyScalar(n),i.add(this.ro)),!0)}intersectPlane(t,e,i=null){const s=-(ga.dot(t,this.ro)+e)/ga.dot(t,this.rd);return s>0&&(i&&(i.copy(this.rd),i.multiplyScalar(s),i.add(this.ro)),!0)}getClosestPointOnRayToPoint(t){const e=this.ro,i=e.clone().add(this.rd),s=ga.subtract(t,e),a=ga.subtract(i,e),n=a.x*a.x+a.y*a.y,r=(s.x*a.x+s.y*a.y)/n;return ga.multiplyScalar(a,r).add(e)}}Tr.tempMat4=new An,Tr.tempVec4=new Ia;class yr extends qa{constructor(t,e=!1,i=!1){super(t),e?this.positionsOnly(i):this.createWithNormalsAndUV(i)}positionsOnly(t){let e=new Float32Array([1,1,1,-1,1,1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,-1,-1,-1,-1,-1]);this.setPositions(e,t);let i=new Uint16Array([0,3,2,0,1,3,5,6,7,5,4,6,1,7,3,1,5,7,4,2,6,4,0,2,0,5,1,0,4,5,6,3,7,6,2,3]);this.setIndices(i)}createWithNormalsAndUV(t){let e=new Float32Array([-1,-1,-1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,1,1,-1,1,-1,-1,-1,-1,1,1,-1,1,1,-1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,1,1,-1,1,1,1,-1,-1,1,1,-1,-1,1,-1,-1,-1,-1,-1,-1,1,-1,1,1,1,1,1,1,-1,1]);this.setPositions(e,t);let i=new Float32Array(48),s=0;for(let l=0;l<6;l++)i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=1,i[s++]=1,i[s++]=1,i[s++]=1,i[s++]=0;this.setUV0(i,t);let a=new Float32Array(72),n=0;for(let l=0;l<4;l++)a[n++]=-1,a[n++]=0,a[n++]=0;for(let l=0;l<4;l++)a[n++]=1,a[n++]=0,a[n++]=0;for(let l=0;l<4;l++)a[n++]=0,a[n++]=-1,a[n++]=0;for(let l=0;l<4;l++)a[n++]=0,a[n++]=1,a[n++]=0;for(let l=0;l<4;l++)a[n++]=0,a[n++]=0,a[n++]=-1;for(let l=0;l<4;l++)a[n++]=0,a[n++]=0,a[n++]=1;this.setNormals(a,t);let r=new Uint16Array(36),o=0;for(let l=0;l<6;l++){let t=4*l;r[o++]=t+0,r[o++]=t+2,r[o++]=t+1,r[o++]=t+2,r[o++]=t+0,r[o++]=t+3}this.setIndices(r)}}class Er{constructor(t){this.transform=t,this.bbMin=ga.transform(new ga(-.5,-.5,-.5),this.transform.worldMatrix),this.bbMax=ga.transform(new ga(.5,.5,.5),this.transform.worldMatrix)}}class br{constructor(t,e){this.hitBoxes=[],this.hover=0,this.hitBoxes=e;const i=t.name.split("_");i.length>1?this.id=i[0]:this.id=t.name}}class Rr extends ua{constructor(t,e,i){super(),this.hitAreas=[],this.hover=null,this.ray=new Tr,this.hitStart=null,this.previousDown=!1,this.manualHoverControl=!1,this.renderer=t,this.eventDispatcher=i,this.material=new Ha(t,e,"hitArea"),this.material.setAlphaBlending(),this.mesh=new yr(t)}setScene(t){if(this.hitAreas=[],t){const e=t.unity.getTransformByName("HitAreas");if(e)for(const t of e.getChildren()){const e=[];e.push(new Er(t));for(const s of t.getChildren())e.push(new Er(s));const i=new br(t,e);this.hitAreas.push(i)}}da.ENABLED&&console.log("HitAreas",this.hitAreas)}update(t,e){const i=this.renderer.mouseListener,s=i.screenPos;this.ray.setFromCamera(e,s);const a=this.detectHit();this.detectClick(a,i),Jt.a.mobile||this.manualHoverControl||this.mouseHover(t,a)}detectHit(){let t=null;for(const e of this.hitAreas)for(const i of e.hitBoxes)if(this.ray.intersectBoundingBox(i.bbMin,i.bbMax)){t=e;break}return t}detectClick(t,e){e.mouseDownThisFrame&&(this.hitStart=t),e.mouseDown||this.previousDown&&(t&&t==this.hitStart&&this.eventDispatcher.dispatchEvent(new ds(ds.OVERVIEW_BUILDING_CLICK,{id:t.id})),this.hitStart=null),this.previousDown=e.mouseDown}mouseHover(t,e){document.body.style.cursor=e?"pointer":"default";const i=4*t;for(const s of this.hitAreas)s.hover+=s==e?i:-i,s.hover=_a.clamp01(s.hover);e!=this.hover&&(this.hover=e,this.hover?this.eventDispatcher.dispatchEvent(new ds(ds.OVERVIEW_BUILDING_HOVER_START,{id:this.hover.id})):this.eventDispatcher.dispatchEvent(new ds(ds.OVERVIEW_BUILDING_HOVER_END,{})))}draw(t,e,i,s){this.update(Ka.instance.deltaTime,s),this.material.setMatrix("_ViewProjection",t),this.renderer.setChannelMask(!1,!1,!1,!1),this.material.blend=!1,this.material.depthWrite=!0;for(const a of this.hitAreas)if(a.hover>0)for(const t of a.hitBoxes)this.material.setMatrix("_World",t.transform.worldMatrix),this.renderer.draw(this.mesh,this.material);this.renderer.clearChannelMask(),this.material.depthWrite=!1,this.material.blend=!0,this.material.depthFunc=La.EQUAL,this.renderer.context.depthFunc(La.EQUAL);for(const a of this.hitAreas)if(a.hover>0){this.material.setFloat("_Opacity",.5*a.hover);for(const t of a.hitBoxes)this.material.setMatrix("_World",t.transform.worldMatrix),this.renderer.draw(this.mesh,this.material)}this.renderer.context.depthFunc(La.LESS)}setHover(t){for(const e of this.hitAreas)e.hover=e.id==t?1:0;this.manualHoverControl=!0}getPosition(t){for(const e of this.hitAreas)if(e.id==t){const t=new ga;for(const i of e.hitBoxes)t.add(i.transform.worldPosition);return t.multiplyScalar(1/e.hitBoxes.length),t}return console.warn("OverviewHitDetection: area not found",t),new ga}destruct(){var t,e;null===(t=this.material)||void 0===t||t.destruct(),null===(e=this.mesh)||void 0===e||e.destruct(),super.destruct()}}class xr extends or{constructor(t){super(1,10,1e4),this.pivot=new Tn,this.gyroscope=void 0,this.baseRotation=new Pa,this._hoverEnabled=!0,this.hoverPivot=new Tn,this.hoverMaxAngle=.05,this.hoverResponse=.01,this.hoverMouseTarget=new Pa,this.baseDistance=450,this.eulerOld=new ga,this.gyroHoverSpeed=new Pa,this.gyroHover=new Pa,this.lookAtTween=new Zn(0),this.neutralPosition=new ga(-100,30,-60),this.renderer=t,this.positionTarget=this.neutralPosition.clone(),this.pivot.position=this.neutralPosition,this.hoverPivot.setParent(this.pivot),this.view.transform.setParent(this.hoverPivot),this.distance=this.baseDistance,this.mouseListener=t.mouseListener,this.baseRotation.setValues(-.5,.4*Math.PI),Jt.a.mobile&&(this.gyroscope=new hr(this.renderer.canvas,.4*Math.PI))}update(t){if(this.projection.aspectRatio=this.renderer.aspectRatio,this.lookAtTween.update(t),this.gyroscope){const t=new vn;vn.fromQuat(t,this.gyroscope.rotation);const e=Tn.getEulerYXZ(t),i=ga.subtract(e,this.eulerOld);this.eulerOld.copy(e),i.x<-Math.PI&&(i.x+=2*Math.PI),i.y<-Math.PI&&(i.y+=2*Math.PI),i.x>Math.PI&&(i.x-=2*Math.PI),i.y>Math.PI&&(i.y-=2*Math.PI),this.gyroHoverSpeed.x=_a.lerp(this.gyroHoverSpeed.x,i.x,this.hoverResponse),this.gyroHoverSpeed.y=_a.lerp(this.gyroHoverSpeed.y,i.y,this.hoverResponse),this.gyroHover.x+=this.gyroHoverSpeed.x,this.gyroHover.y+=this.gyroHoverSpeed.y;const s=this.hoverMaxAngle;this.gyroHover.x=_a.clamp(this.gyroHover.x,-s,s),this.gyroHover.y=_a.clamp(this.gyroHover.y,-s,s);const a=new _n;a.rotateY(this.baseRotation.y+this.gyroHover.y),a.rotateX(this.baseRotation.x+this.gyroHover.x),this.hoverPivot.rotation=a}else if(this._hoverEnabled){this.hoverMouseTarget=Pa.lerp(this.hoverMouseTarget,this.mouseListener.screenPos,this.hoverResponse);const t=new _n;t.rotateY(this.baseRotation.y+this.hoverMouseTarget.x*this.hoverMaxAngle*this.renderer.aspectRatio),t.rotateX(this.baseRotation.x+this.hoverMouseTarget.y*this.hoverMaxAngle),this.hoverPivot.rotation=t}}set hoverEnabled(t){if(this._hoverEnabled=t,!this._hoverEnabled){const t=new _n;t.rotateY(this.baseRotation.y),t.rotateX(this.baseRotation.x),this.hoverPivot.rotation=t}this.gyroscope&&(t?this.gyroscope.enable():this.gyroscope.disable())}set distance(t){this.view.transform.setPositionValues(0,0,t)}get distance(){return this.view.transform.position.z}setScreenShift(t,e,i){this.distance=this.baseDistance/i,this.projection.setFrustumOffset(t,e)}setScreenScale(t){this.distance=this.baseDistance/t}animateLookAt(t,e,i){this.positionTarget.copy(t),this.lookAtTween.fromTo(0,1,e,t=>this.updateLookAt(t),i)}disableLookAt(t,e){this.positionTarget.copy(this.neutralPosition),this.lookAtTween.fromTo(0,1,t,t=>this.updateLookAt(t),e)}updateLookAt(t){const e=ga.lerp(this.pivot.position,this.positionTarget,t);this.pivot.position=ga.lerp(e,this.positionTarget,t)}}class wr extends jn{constructor(t,e,i,s,a,n){super(t,e,mr.OVERVIEW,i,s,a,!1,n),this.environmentColor=new ga(.8,.75,.7),this.camera=new xr(t),this.overviewHitDetection=new Rr(t,e,i)}init(){super.init(),this.overviewHitDetection.setScene(this),this.unity.getMaterialByName("OverviewTerrain").setVector3("_EnvironmentColor",this.environmentColor)}update(t){this.camera.update(t),super.update(t)}draw(t,e,i,s){for(const a of this.unity.materials)a.setFloat("_FogProgress",0),a.overviewTerrain&&a.setFloat("_Time",Ka.instance.time);super.draw(this.camera.viewProjection,this.camera.worldPosition,!1,s)}drawTransparent(t,e,i,s){this.overviewHitDetection.draw(this.camera.viewProjection,this.camera.worldPosition,!1,this.camera)}getObjectScreenPosition(t){const e=this.unity.getTransformByName(t);return e?this.camera.worldToScreenPoint(e.worldPosition):(console.warn("getObjectScreenPosition: object does not exist in overview:",t),new Ia)}setLookAt(t,e,i){if(t==mr.NONE)this.camera.disableLookAt(e,i);else{const s=this.overviewHitDetection.getPosition(t);da.ENABLED&&console.log("setLookAt",t,s),this.camera.animateLookAt(s,e,i)}}setHover(t){this.overviewHitDetection.setHover(t)}setMouseHoverEnabled(t){this.overviewHitDetection.manualHoverControl=!t}setCameraHoverEnabled(t){this.camera.hoverEnabled=t}destruct(){super.destruct()}}class Or extends ua{constructor(t,e){super(),this.params=new Ia,this.renderer=t,this.material=new Ha(t,e,"lineHighlighter"),this.material.setAdditiveBlending(),this.material.setCullingDisabled(),this.mesh=new _r(t)}setParams(t,e,i,s){this.params.setValues(t,e,i,s)}draw(t,e,i,s){const a=s.unity.getTransformByName("LineHighlighter");a&&this.params.w>0&&(this.material.setVector4("_Params",this.params),this.material.setMatrix("_World",a.worldMatrix),this.material.setMatrix("_ViewProjection",t),this.renderer.draw(this.mesh,this.material))}destruct(){this.mesh.destruct(),this.material.destruct(),this.renderer.destruct(),super.destruct()}}class Sr{constructor(t,e){this.matInvScale=new An(1,0,0,0,0,-1,0,0,0,0,1,0,0,0,0,1),this.matReflView=new An,this.matReflectionVP=new An,this.buffers=[],this.renderer=t,this.blurMaterial=new Ha(this.renderer,e,"blur"),this.blurMaterial.depthTest=!1,this.blurMaterial.depthWrite=!1,this.reflectionRenderTarget=new cn(this.renderer,16,16,nn.RGB_UNSIGNED_BYTE,!0,!0,!0,!0),this.blurredTexture=new on(this.renderer,nn.RGB_UNSIGNED_BYTE)}draw(t,e){const i=this.renderer.renderTarget;this.reflectionRenderTarget.setSize(_a.nextPowerOfTwo(this.renderer.width)/2,_a.nextPowerOfTwo(this.renderer.height)/4),this.reflectionRenderTarget.useMips=!0,this.renderer.renderTarget=this.reflectionRenderTarget,this.renderer.clearWithColor(0,0,0,1),An.multiply(this.matReflView,t.viewMatrix,this.matInvScale),An.multiply(this.matReflectionVP,t.projectionMatrix,this.matReflView);const s=t.worldPosition;s.y*=-1,e(this.matReflectionVP,s,!0),this.renderer.renderTarget=void 0,this.blurToMips(this.reflectionRenderTarget,this.blurredTexture),this.renderer.renderTarget=i}getRenderTarget(t,e,i){return i>=this.buffers.length&&this.buffers.push(new cn(this.renderer,t,e,nn.RGB_UNSIGNED_BYTE)),this.buffers[i].setSize(t,e),this.buffers[i]}blurToMips(t,e){let i=0,s=t.width,a=t.height;const n=this.blurMaterial;e.setSize(s,a),e.useMips=!0,e.autoGenerateMips=!1,e.minFilterLinear=!0,e.magFilterLinear=!0;let r=0;for(;s>=1||a>=1;){s=Math.max(s,1),a=Math.max(a,1);const o=this.getRenderTarget(s,a,r++);n.setVector2("_PixelSize",new Pa(1/s,1/a)),this.renderer.blit(t,o,n,!0,!1),t=o,e.bind(),this.renderer.context.copyTexImage2D(La.TEXTURE_2D,i,La.RGB,0,0,s,a,0),s/=2,a/=2,i++}this.renderer.unsetRenderTarget(!0)}destruct(){this.blurredTexture.destruct(),this.blurMaterial.destruct(),this.reflectionRenderTarget.destruct()}}class Ir extends ua{constructor(t,e){super(),this.renderer=t,this.material=new Ha(t,e,"dust"),this.material.setPreMultipliedAlphaBlending(),this.material.setDrawTypePoints(),this.mesh=this.createMesh(8192)}createMesh(t){const e=new Float32Array(4*t);let i=0;for(let a=0;a<t;a++)e[i++]=2*Math.random()-1,e[i++]=2*Math.random()-1,e[i++]=2*Math.random()-1,e[i++]=Math.random();let s=new qa(this.renderer);return s.setAttribute("aData0",4,e),s}init(t){let e=t.addGroup("dust",this.material);e.addShaderParamFloat("_PointSize",.01,0,.1),e.addShaderParamFloat("_Spread",6,0,10),e.addShaderParamFloat("_Additive",.4),e.addShaderParamFloat("_Opacity",.03),e.addShaderParamFloat("_Amp",.25),this.amount=e.addShaderParamFloat("_Amount",0)}draw(t){if(this.amount.value>0){let e=this.material;e.setFloat("_Time",Ka.instance.time),e.setFloat("_ScreenHeight",this.renderer.height),e.setMatrix("_ViewProjection",t.viewProjection),e.setVector3("_CameraPos",t.worldPosition),e.setVector3("_CameraDir",t.view.transform.worldForward),this.renderer.draw(this.mesh,e)}}destruct(){this.material.destruct(),this.mesh.destruct(),super.destruct()}}class Mr{constructor(t,e){this._initialized=!1,this._playRequested=!1,this._playPromiseLock=!1,this._updatePossible=!1,this._paused=!0,this._videoCounter=0,this._videoCounterPlayed=0,this._renderer=t,this.videoElement=this.initElement(e),this.videoElement.addEventListener("ended",()=>{if(!this._paused&&(this._videoCounterPlayed++,this._videoCounter>0))if(this._videoCounterPlayed<this._videoCounter){const t=this.videoElement;t.currentTime=0,t.play()}else this.pause()})}initElement(t){const e=document.createElement("video");return e.setAttribute("playsinline","true"),e.setAttribute("webkit-playsinline","true"),e.setAttribute("autoplay","false"),e.preload="auto",e.loop=!1,e.muted=!0,e.style.display="none",e.autoplay=!1,e.addEventListener("canplay",()=>this.initVideo(),!0),e.src=t,e.load(),e.readyState>3&&this.initVideo(),document.body.appendChild(e),e}initVideo(){if(this._initialized)return;const t=this.videoElement;t.width=t.videoWidth,t.height=t.videoHeight,this._initialized=!0}initialized(){return this._initialized}get paused(){return this._paused}play(t=-1){this._videoCounter=t,this._videoCounterPlayed=0;const e=this.videoElement;e.loop=!(t>0),e.currentTime=0,this._playRequested=!0,this._updatePossible=!1,this._paused=!1}pause(){if(this._paused)return;if(this._playPromiseLock)return;this._paused=!0;this.videoElement.pause()}resume(){this._paused=!1;this.videoElement.play()}update(t){if(!this._initialized)return!1;const e=this.videoElement;return this._playRequested&&!this._paused&&(this._playRequested=!1,this._playPromiseLock=!0,e.play().then(()=>{this._updatePossible=!0,this._playPromiseLock=!1})),!!(this._updatePossible&&!this._paused&&e.readyState>=1)&&(t.setImage(e),!0)}destruct(){document.body.removeChild(this.videoElement)}}class Cr extends ua{constructor(t,e){super(),this.outDuration=2.1,this.inDuration=3.7,this.transitionTween=new Zn(0),this.transitionOut=!0,this.renderer=t,this.material=new Ha(t,e,"transition"),this.material.setAlphaBlending(),this.material.depthTest=!1,this.material.depthWrite=!1;let i="transition/fogTransitionIn"+(Jt.a.mobile?720:1080)+"p.mp4";this.videoOut=new Mr(t,ca(i)),i="transition/fogTransitionOut"+(Jt.a.mobile?720:1080)+"p.mp4",this.videoIn=new Mr(t,ca(i)),this.videoTexture=new on(t)}init(t){this.material.setTexture("_Video",this.videoTexture)}out(t,e){this.transitionOut=!0,this.videoOut.play(1),this.transitionTween.to(1,this.outDuration,t,()=>{e()})}in(t,e){this.transitionOut=!1,this.videoIn.play(1),this.transitionTween.to(0,this.inDuration,t,()=>{e()})}update(t){this.transitionTween.update(t)}draw(){const t=this.transitionTween.value;t>0&&(this.transitionOut?this.videoOut.update(this.videoTexture):this.videoIn.update(this.videoTexture),this.material.setFloat("_AspectRatio",this.renderer.aspectRatio),this.material.setFloat("_Time",Ka.instance.time),this.material.setFloat("_Frame",Math.round(120*Ka.instance.time)%100),this.material.setFloat("_Progress",t),this.renderer.blit(null,null,this.material))}destruct(){this.material.destruct(),this.videoOut.destruct(),this.videoIn.destruct(),this.videoTexture.destruct(),super.destruct()}}class Lr extends ua{constructor(t,e){super(),this.progress=0,this.intProgress=0,this.lerpedProgress=0,this.isMobile=!1,this.renderer=t,this.material=new Ha(t,e,"preloader");const i=Xi().state.app.deviceState,s=p("configManager").getVariable(S.VERSIONED_STATIC_ROOT);this.startTexture=new Nn(t,e,Wi("{$versionRoot}webgl/preloader/{deviceState}/image_start.jpg",s,i),!0,!0,!1),this.endTexture=new Nn(t,e,Wi("{$versionRoot}webgl/preloader/{deviceState}/image_end.jpg",s,i),!0,!0,!1),this.depthTexture=new Nn(t,e,Wi("{$versionRoot}webgl/preloader/{deviceState}/depth_map.jpg",s,i),!0,!0,!1)}init(t){const e=t.addGroup("PreloaderEffect",[this.material]);e.addShaderParamFloat("a",.1),e.addShaderParamFloat("b",1.1),this.material.setTexture("_Start",this.startTexture),this.material.setTexture("_End",this.endTexture),this.material.setTexture("_Depth",this.depthTexture),this.material.setFloat("_TextureAspect",1===this.startTexture.aspectRatio?1:1920/1080)}draw(){this.intProgress=_a.lerp(this.intProgress,this.progress,.08),this.lerpedProgress=_a.lerp(this.lerpedProgress,this.intProgress,.08);const t=_a.clamp01(this.lerpedProgress);this.material.setFloat("_AspectRatio",this.renderer.aspectRatio),this.material.setFloat("_Progress",t),this.material.setFloat("_Time",Ka.instance.time),this.material.setFloat("_Frame",Math.round(120*Ka.instance.time)%100),this.material.setVector2("_Hover",this.renderer.mouseListener.screenPosLerped),this.renderer.blit(void 0,void 0,this.material)}destruct(){this.material.destruct(),this.startTexture.destruct(),this.endTexture.destruct(),this.depthTexture.destruct(),super.destruct()}}class Pr extends ua{constructor(t,e){super(),this.renderer=t,this.material=new Ha(t,e,"transparentvideo"),this.material.setAlphaBlending(),this.material.depthTest=!1}get enabled(){return void 0===this.video&&void 0!==this.videoTexture&&(this.videoTexture.destruct(),this.videoTexture=void 0),void 0!==this.video}draw(){this.video&&(void 0===this.videoTexture&&(this.videoTexture=new on(this.renderer),this.videoTexture.useMips=!1,this.videoTexture.setImage(this.video)),this.material.setFloat("_AspectRatio",this.renderer.aspectRatio),this.material.setFloat("_TextureAspect",1===this.videoTexture.aspectRatio?1:1920/1080),this.material.setFloat("_Time",Ka.instance.time),this.material.setFloat("_Frame",Math.round(120*Ka.instance.time)%100),this.material.setVector2("_Hover",this.renderer.mouseListener.screenPosLerped),this.renderer.blit(this.videoTexture,null,this.material),this.videoTexture.setImage(this.video))}destruct(){this.material.destruct(),this.videoTexture&&(this.videoTexture.destruct(),this.videoTexture=void 0),this.video=void 0,super.destruct()}}class Nr extends an{constructor(t,e=nn.RGBA_UNSIGNED_BYTE,i=!1,s=!0,a=!0,n=!1,r=!1){super(t,La.TEXTURE_CUBE_MAP,i,s,a),this.flipZ=!1,this._size=-1,this.flipZ=n,this.flipY=r,this._formatType=t.isWebgl2?e:nn.validateFormatType(t,e),this._format=nn.getFormat(this.renderer,this.formatType),this._type=nn.getType(this.renderer,this.formatType),this._internalFormat=t.isWebgl2?nn.getInternalFormat(e):this._format}get size(){return this._size}setSize(t){t!==this._size&&(this._size=t)}setImage(t,e,i=0){const s=[];s[e]=t,this.setImages(s,i)}setImages(t,e=0){for(let a=0;a<t.length;a++)t[a]&&this.checkSize(t[a].width);const i=this.renderer.context;this.bind(),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,this.flipY?1:0);const s=[La.TEXTURE_CUBE_MAP_POSITIVE_X,La.TEXTURE_CUBE_MAP_NEGATIVE_X,La.TEXTURE_CUBE_MAP_POSITIVE_Y,La.TEXTURE_CUBE_MAP_NEGATIVE_Y,La.TEXTURE_CUBE_MAP_POSITIVE_Z,La.TEXTURE_CUBE_MAP_NEGATIVE_Z];i.pixelStorei(La.UNPACK_COLORSPACE_CONVERSION_WEBGL,La.NONE),t.forEach((t,a)=>{if(a<6&&t)if(this.flipZ){let n=s[a];const r=2===a||3===a?rn.flipY(t):rn.flipX(t);n===La.TEXTURE_CUBE_MAP_POSITIVE_Z?n=La.TEXTURE_CUBE_MAP_NEGATIVE_Z:n===La.TEXTURE_CUBE_MAP_NEGATIVE_Z&&(n=La.TEXTURE_CUBE_MAP_POSITIVE_Z),i.texImage2D(n,e,La.RGBA,La.RGBA,La.UNSIGNED_BYTE,r)}else i.texImage2D(s[a],e,La.RGBA,La.RGBA,La.UNSIGNED_BYTE,t)}),0===e&&this.autoGenerateMips&&(this.mipsDirty=!0,this.generateMipsIfNeeded())}setData(t,e,i,s,a=this.flipY){this.checkSize(i);const n=this.renderer.context;this.bind(),n.pixelStorei(La.UNPACK_ALIGNMENT,this.unpackAlignment),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,a?1:0),n.pixelStorei(La.UNPACK_COLORSPACE_CONVERSION_WEBGL,La.NONE),this.renderer instanceof sn?n.texImage2D(La.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,this.format,i,s,0,this.format,this.type,e):this.renderer instanceof fn&&n.texImage2D(La.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,this.internalFormat,i,s,0,this.format,this.type,e),this.mipsDirty=!0,this.generateMipsIfNeeded()}checkSize(t){t!==this._size&&this.initTextures(t),this.setSize(t)}initTextures(t=256){this.setSize(t);const e=rn.createDummyImage(t,t);this.setImages([e,e,e,e,e,e])}}class Dr extends Nr{constructor(t,e,i,s,a=!1,n=!1){super(t,nn.RGB_UNSIGNED_BYTE,s,!0,!0,a,n),this._urls=i,e.add(this)}load(t){ja.loadMultipleImages(this._urls,e=>{this.setImages(e),t.call(this)})}}class Br extends qa{constructor(t,e=!1,i=!1){super(t),e?this.positionsOnly(i):this.hardNormals(i)}hardNormals(t=!1){let e=.4472000002861023,i=.8944000005722046,s=.27639999985694885,a=.8507000207901001,n=.7235999703407288,r=.5256999731063843,o=new Float32Array([0,1,0,i,e,0,s,e,-a,0,1,0,s,e,-a,-n,e,-r,0,1,0,-n,e,-r,-n,e,r,0,1,0,-n,e,r,s,e,a,0,1,0,s,e,a,i,e,0,i,e,0,n,-e,r,n,-e,-r,s,e,-a,n,-e,-r,-s,-e,-a,-n,e,-r,-s,-e,-a,-i,-e,0,-n,e,r,-i,-e,0,-s,-e,a,s,e,a,-s,-e,a,n,-e,r,n,-e,-r,s,e,-a,i,e,0,-s,-e,-a,-n,e,-r,s,e,-a,-i,-e,0,-n,e,r,-n,e,-r,-s,-e,a,s,e,a,-n,e,r,n,-e,r,i,e,0,s,e,a,0,-1,0,-s,-e,-a,n,-e,-r,0,-1,0,-i,-e,0,-s,-e,-a,0,-1,0,-s,-e,a,-i,-e,0,0,-1,0,n,-e,r,-s,-e,a,0,-1,0,n,-e,-r,n,-e,r]),l=new Float32Array([.491100013256073,.794700026512146,-.35679998993873596,.491100013256073,.794700026512146,-.35679998993873596,.491100013256073,.794700026512146,-.35679998993873596,-.1876000016927719,.794700026512146,-.5774000287055969,-.1876000016927719,.794700026512146,-.5774000287055969,-.1876000016927719,.794700026512146,-.5774000287055969,-.6071000099182129,.794700026512146,0,-.6071000099182129,.794700026512146,0,-.6071000099182129,.794700026512146,0,-.1876000016927719,.794700026512146,.5774000287055969,-.1876000016927719,.794700026512146,.5774000287055969,-.1876000016927719,.794700026512146,.5774000287055969,.491100013256073,.794700026512146,.35679998993873596,.491100013256073,.794700026512146,.35679998993873596,.491100013256073,.794700026512146,.35679998993873596,.982200026512146,-.1876000016927719,0,.982200026512146,-.1876000016927719,0,.982200026512146,-.1876000016927719,0,.3034999966621399,-.1876000016927719,-.9341999888420105,.3034999966621399,-.1876000016927719,-.9341999888420105,.3034999966621399,-.1876000016927719,-.9341999888420105,-.794700026512146,-.1876000016927719,-.5774000287055969,-.794700026512146,-.1876000016927719,-.5774000287055969,-.794700026512146,-.1876000016927719,-.5774000287055969,-.794700026512146,-.1876000016927719,.5774000287055969,-.794700026512146,-.1876000016927719,.5774000287055969,-.794700026512146,-.1876000016927719,.5774000287055969,.3034999966621399,-.1876000016927719,.9341999888420105,.3034999966621399,-.1876000016927719,.9341999888420105,.3034999966621399,-.1876000016927719,.9341999888420105,.794700026512146,.1876000016927719,-.5774000287055969,.794700026512146,.1876000016927719,-.5774000287055969,.794700026512146,.1876000016927719,-.5774000287055969,-.3034999966621399,.1876000016927719,-.9341999888420105,-.3034999966621399,.1876000016927719,-.9341999888420105,-.3034999966621399,.1876000016927719,-.9341999888420105,-.982200026512146,.1876000016927719,0,-.982200026512146,.1876000016927719,0,-.982200026512146,.1876000016927719,0,-.3034999966621399,.1876000016927719,.9341999888420105,-.3034999966621399,.1876000016927719,.9341999888420105,-.3034999966621399,.1876000016927719,.9341999888420105,.794700026512146,.1876000016927719,.5774000287055969,.794700026512146,.1876000016927719,.5774000287055969,.794700026512146,.1876000016927719,.5774000287055969,.1876000016927719,-.794700026512146,-.5774000287055969,.1876000016927719,-.794700026512146,-.5774000287055969,.1876000016927719,-.794700026512146,-.5774000287055969,-.491100013256073,-.794700026512146,-.35679998993873596,-.491100013256073,-.794700026512146,-.35679998993873596,-.491100013256073,-.794700026512146,-.35679998993873596,-.491100013256073,-.794700026512146,.35679998993873596,-.491100013256073,-.794700026512146,.35679998993873596,-.491100013256073,-.794700026512146,.35679998993873596,.1876000016927719,-.794700026512146,.5774000287055969,.1876000016927719,-.794700026512146,.5774000287055969,.1876000016927719,-.794700026512146,.5774000287055969,.6071000099182129,-.794700026512146,0,.6071000099182129,-.794700026512146,0,.6071000099182129,-.794700026512146,0]),c=new Float32Array([.6000000238418579,1,.5,.647599995136261,.699999988079071,.647599995136261,.800000011920929,1,.699999988079071,.647599995136261,.8999999761581421,.647599995136261,0,1,-.10000000149011612,.647599995136261,.10000000149011612,.647599995136261,.20000000298023224,1,.10000000149011612,.647599995136261,.30000001192092896,.647599995136261,.4000000059604645,1,.30000001192092896,.647599995136261,.5,.647599995136261,.5,.647599995136261,.4000000059604645,.352400004863739,.6000000238418579,.352400004863739,.699999988079071,.647599995136261,.6000000238418579,.352400004863739,.800000011920929,.352400004863739,-.10000000149011612,.647599995136261,-.20000000298023224,.352400004863739,0,.352400004863739,.10000000149011612,.647599995136261,0,.352400004863739,.20000000298023224,.352400004863739,.30000001192092896,.647599995136261,.20000000298023224,.352400004863739,.4000000059604645,.352400004863739,.6000000238418579,.352400004863739,.699999988079071,.647599995136261,.5,.647599995136261,.800000011920929,.352400004863739,.8999999761581421,.647599995136261,.699999988079071,.647599995136261,0,.352400004863739,.10000000149011612,.647599995136261,-.10000000149011612,.647599995136261,.20000000298023224,.352400004863739,.30000001192092896,.647599995136261,.10000000149011612,.647599995136261,.4000000059604645,.352400004863739,.5,.647599995136261,.30000001192092896,.647599995136261,.699999988079071,0,.800000011920929,.352400004863739,.6000000238418579,.352400004863739,-.10000000149011612,0,0,.352400004863739,-.20000000298023224,.352400004863739,.10000000149011612,0,.20000000298023224,.352400004863739,0,.352400004863739,.30000001192092896,0,.4000000059604645,.352400004863739,.20000000298023224,.352400004863739,.5,0,.6000000238418579,.352400004863739,.4000000059604645,.352400004863739]);this.setPositions(o,t),this.setNormals(l,t),this.setUV0(c,t)}positionsOnly(t=!1){let e=.5257311121191336,i=.8506508083520399,s=[];s.push(new ga(-e,0,i)),s.push(new ga(e,0,i)),s.push(new ga(-e,0,-i)),s.push(new ga(e,0,-i)),s.push(new ga(0,i,e)),s.push(new ga(0,i,-e)),s.push(new ga(0,-i,e)),s.push(new ga(0,-i,-e)),s.push(new ga(i,e,0)),s.push(new ga(-i,e,0)),s.push(new ga(i,-e,0)),s.push(new ga(-i,-e,0));let a=new Float32Array(3*s.length),n=0;for(let o=0;o<s.length;o++)a[n++]=s[o].x,a[n++]=s[o].y,a[n++]=s[o].z;this.setPositions(a,t);let r=new Uint16Array([1,4,0,4,9,0,4,5,9,8,5,4,1,8,4,1,10,8,10,3,8,8,3,5,3,2,5,3,7,2,3,10,7,10,6,7,6,11,7,6,0,11,6,1,0,10,1,6,11,0,9,2,11,9,5,2,9,11,2,7]);this.setIndices(r)}}class Fr extends ua{constructor(t,e){super(),this.renderer=t,this.material=new Ha(this.renderer,e,"cubeMap"),this.material.depthTest=!0,this.material.depthWrite=!1,this.material.setCullingDisabled(),this.mesh=new Br(t),this.cubeMap=this.createCubeMap("dome",e)}createCubeMap(t,e){let i=["left","right","top","bottom","front","back"],s=[];const a=Jt.a.mobile?"1k":"2k";for(let n of i)s.push(ha.getFileName(t+"/"+a+"/"+n,!1));return new Dr(this.renderer,e,s,!1,!0,!1)}init(){this.material.setTexture("_CubeSampler",this.cubeMap),this.material.setFloat("_Gamma",2);const t=new vn;vn.fromQuat(t,(new _n).rotateY(.5*Math.PI-.15)),this.material.setMatrix3x3("_World",t)}draw(t,e){this.material.setVector3("_CameraPos",e),this.material.setMatrix("_ViewProjection",t),this.renderer.draw(this.mesh,this.material)}setFogProgress(t){this.material.setFloat("_Fog",t)}destruct(){this.cubeMap.destruct(),this.material.destruct(),super.destruct()}}class $r extends ua{constructor(t,e){super(),this.renderer=t,this.material=new Ha(t,e,"map"),this.material.setAlphaBlending(),this.material.depthTest=!1}draw(){this.image&&(void 0===this.imageTexture&&(this.imageTexture=new on(this.renderer),this.imageTexture.useMips=!0,this.imageTexture.setImage(this.image)),this.material.setFloat("_AspectRatio",this.renderer.aspectRatio),this.material.setFloat("_TextureAspect",this.imageTexture.aspectRatio),this.material.setFloat("_Time",Ka.instance.time),this.material.setFloat("_Frame",Math.round(120*Ka.instance.time)%100),this.material.setVector2("_Hover",this.renderer.mouseListener.screenPosLerped),this.renderer.blit(this.imageTexture,null,this.material))}get enabled(){return void 0===this.image&&void 0!==this.imageTexture&&(this.imageTexture.destruct(),this.imageTexture=void 0),void 0!==this.image}destruct(){this.material.destruct(),this.imageTexture&&(this.imageTexture.destruct(),this.imageTexture=void 0),this.image=void 0,super.destruct()}}class Ur extends ua{constructor(t,e,s,a){super(),this.paused=!1,this.animationFrameCallbacks=[],this.overlayColor=new Ma(0,0,0,0),this.overviewMenuVisible=!1,this.isUpdating=!1,this.bufferedLoad=null,this.HDRToLDR=null,this.isInit=!1,this.inOutFogProgress=0,this.transitionFogProgress=0,this.fogProgressOld=0,this.fastPreloader=new Oa,this.preloaderMode=!0,this.eventDispatcher=t;const n=this.fastPreloader;this.canvasManager=new wa(e);const r={alpha:!1,stencil:!0,autoClear:!0,premultipliedAlpha:!1,antialias:!1,xrCompatible:!1};Boolean(this.canvasManager.canvas.getContext("webgl2",r))?(da.ENABLED&&console.log("RendererWebGL2"),this.renderer=new fn(n,this.canvasManager.canvas,i(460),r.antialias,r.alpha,r.autoClear,r.stencil,r.xrCompatible)):(da.ENABLED&&console.log("RendererWebGL1"),this.renderer=new sn(n,this.canvasManager.canvas,i(460),!1,r.alpha,r.autoClear,r.stencil,r.xrCompatible)),this.renderer.clearColor=new Ma(0,0,0,0);const o=(new Ma).setFromHex("#252525");this.renderer.clearWithColor(o.x,o.y,o.z,1),this.camera=new cr(this.renderer,1,.5,1e3),this.camera.rotateBy(new Pa(0,.5*Math.PI)),this.animationCamera=new dr(this.renderer),this.animationCamera.eulerY=Math.PI,this.preloaderEffect=new Lr(this.renderer,n),this.introVideo=new Pr(this.renderer,n),this.sky=new Fr(this.renderer,s),this.sceneManager=new sr(this.renderer,s,t),this.reflectionManager=new Sr(this.renderer,s),this.torchRenderer=new Ar(this.renderer,s),this.lineHighlighter=new Or(this.renderer,s),this.frustum=new ar;const l=!Jt.a.mobile&&!Jt.a.safari;this.renderTexture=new cn(this.renderer,1,1,nn.RGBA_UNSIGNED_BYTE,!1,!0,!0,!0,!0,l),this.renderTexture.scaleToCanvas=!0,this.bloom=new vr(this.renderer,s,{threshold:.8,strength:.5,passBoost:.5,alphaAsEmissive:!1}),this.overlayColorMaterial=new Ha(this.renderer,s,"colorAlpha"),this.overlayColorMaterial.setAlphaBlending(),this.overlayColorMaterial.depthTest=!1,this.overviewMenu=new wr(this.renderer,s,t,this.sceneManager.texturePool,this.sceneManager.materialPool,this.sceneManager.halfRes),this.dust=new Ir(this.renderer,s),this.map=new $r(this.renderer,s),this.videoTransition=new Cr(this.renderer,s),da.ENABLED&&(this.HDRToLDR=new pr(this.renderer,s)),a&&(this.datGui=new xa(s))}fastLoad(t){this.fastPreloader.load(()=>{this.fastInit(),t()})}fastInit(){var t,e;const i=new Ea;i.init("controls fast Init"),this.renderer.init(),null===(t=this.preloaderEffect)||void 0===t||t.init(i),i.collapsed=!0,null===(e=this.datGui)||void 0===e||e.init(i),da.ENABLED&&console.log("fastInit"),this.drawLoop()}init(){var t,e;if(!this.isInit){const i=new Ea;i.init("controls"),this.useAnimationCamera=i.addParamBool("useAnimationCamera",!0),this.postEnabled=i.addParamBool("postEnabled",!0),this.reflectionEnabled=i.addParamBool("reflectionEnabled",!0),i.addParamFloat("gamma",2,1,4,t=>{this.sceneManager.setFloat("_Gamma",t),this.bloom.material.setFloat("_Gamma",t),this.sky.material.setFloat("_Gamma",t),this.overviewMenu.setFloat("_Gamma",t)}),da.ENABLED&&dn.getInstance().addKeyHitEvent(mn.KEY_L,()=>{console.log("scene",this.sceneManager.scene)}),this.sceneManager.init(i),this.sky.init(),this.torchRenderer.init(i),null===(t=this.HDRToLDR)||void 0===t||t.init(i),this.bloom.init(i),this.overviewMenu.init(),this.dust.init(i),this.videoTransition.init(i),i.collapsed=!0,null===(e=this.datGui)||void 0===e||e.init(i),da.ENABLED&&(this.preloaderMode=!1),this.isInit=!0}}drawLoop(){var t;if(this.isDestructed)return;window.requestAnimationFrame(()=>this.drawLoop());for(const s of this.animationFrameCallbacks)s();this.isUpdating=!0,Ka.instance.updateManual();const e=Ka.instance.deltaTime,i=this.canvasManager.update(e)||!this.paused;if(this.renderer.mouseListener.updateManual(),void 0!==this.preloaderEffect)this.preloaderEffect.draw(),this.preloaderMode||(this.preloaderEffect.destruct(),this.preloaderEffect=void 0);else if(i&&this.map.enabled)this.videoTransition.update(e),this.map.draw(),this.videoTransition.draw();else if(i){this.videoTransition.update(e),this.camera.update(),this.camera.projection.FOV=Math.atan(3/this.renderer.aspectRatio),this.animationCamera.update(e,null===(t=this.sceneManager.scene)||void 0===t?void 0:t.normalizedAnimationProgress),this.useAnimationCamera.value&&(this.camera.position=this.animationCamera.worldPosition);const i=this.useAnimationCamera.value?this.animationCamera:this.camera,s=this.postEnabled.value;if(s&&(this.renderer.renderTarget=this.renderTexture),this.sceneManager.setFloat("_DoSpecular",this.overviewMenuVisible?0:1),this.overviewMenuVisible)this.renderer.clearWithColor(this.overviewMenu.environmentColor.x,this.overviewMenu.environmentColor.y,this.overviewMenu.environmentColor.z,1),this.bloom.strength.setValue(0),this.overviewMenu.update(e),this.overviewMenu.draw(i.viewProjection,i.worldPosition,!1,this.frustum),this.overviewMenu.drawTransparent(i.viewProjection,i.worldPosition,!1,i);else{this.renderer.clear();const t=this.sceneManager.scene;if(t&&t.isInit){const s=t.unity.unityAnimator.getValueOfTrack("floorReflectionEnabled",t.animationTime)>.5;this.bloom.strength.setValue(t.unity.unityAnimator.getValueOfTrack("bloomStrength",t.animationTime)),this.bloom.threshold.setValue(t.unity.unityAnimator.getValueOfTrack("bloomThreshold",t.animationTime)),this.animationCamera.rotateBack(t.playSpeed),this.sceneManager.update(),t.update(e),this.inOutFogProgress=0;const a=2;t.animationTime<a&&t.sceneId!=mr.GATE_OF_ALL_NATIONS&&(this.inOutFogProgress=Math.max(this.inOutFogProgress,_a.smoothStep(a,0,t.animationTime))),t.animationTime>t.duration-a&&t.sceneId!=mr.HALL_OF_100_COLUMNS&&(this.inOutFogProgress=Math.max(this.inOutFogProgress,_a.smoothStep(t.duration-a,t.duration,t.animationTime))),this.setFogProgress(Math.max(this.inOutFogProgress,this.inOutFogProgress)),s&&this.sceneManager.getFloorVisible(this.frustum)&&this.drawReflections(t,i),this.drawScene(t,i.viewProjection,i.worldPosition,!1)}}s&&(this.renderTexture.resolveMultisampleBuffer(),this.renderer.renderTarget=null,this.bloom.draw(this.renderTexture,i)),this.overlayColor.w>0&&(this.overlayColorMaterial.setVector4("_Color",this.overlayColor),this.renderer.blit(null,null,this.overlayColorMaterial)),this.videoTransition.draw()}if(this.introVideo.enabled&&this.introVideo.draw(),this.isUpdating=!1,this.bufferedLoad){da.ENABLED&&console.log("bufferedLoad",this.bufferedLoad);const t=this.bufferedLoad;this.loadScene(t.id,t.onProgress,t.onComplete),this.bufferedLoad=null}this.eventDispatcher.dispatchEvent(new ds(ds.POST_UPDATE))}drawScene(t,e,i,s){s||this.frustum.updateForViewProjection(e),t.draw(e,i,s,this.frustum),this.lineHighlighter.draw(e,i,s,t),this.sky.draw(e,i),s||(this.torchRenderer.draw(e,i,s,t),t.sceneId!=mr.SOUTH_EASTERN_PALACE&&t.drawTransparent(e,i,s,this.animationCamera,this.frustum),this.dust.draw(this.animationCamera)),t.soloAmount>0&&(this.overlayColorMaterial.setVector4("_Color",new Ia(.25,.25,.25,t.soloAmount)),this.renderer.blit(null,null,this.overlayColorMaterial),t.sceneId!=mr.SOUTH_EASTERN_PALACE&&(this.renderer.clearDepth(),t.drawSolo(e,i,s,this.frustum))),t.sceneId==mr.SOUTH_EASTERN_PALACE&&t.drawTransparent(e,i,s,this.animationCamera,this.frustum)}drawReflections(t,e){this.reflectionEnabled.value&&(this.reflectionManager.draw(e,(e,i,s)=>this.drawScene(t,e,i,s)),this.sceneManager.setFloorReflection(this.reflectionManager.blurredTexture))}loadScene(t,e,i){if(this.isUpdating)this.bufferedLoad={id:t,onProgress:e,onComplete:i};else{da.ENABLED&&console.log("loadScene",t);const s=new Oa;this.sceneManager.loadScene(t,s),s.load(()=>{this.handleSceneLoaded(),i()},e)}}preloadScene(t,e,i){da.ENABLED&&console.log("preloadScene",t);const s=new Oa;this.sceneManager.downloadSceneAssets(t,s),s.load(i,e)}get sceneId(){return this.sceneManager.sceneId}handleSceneLoaded(){this.sceneManager.handleSceneLoaded(),this.animationCamera.pivot.setParent(this.sceneManager.cameraAnimationTransform),this.fogProgressOld=-1}getObjectScreenPosition(t){if(this.overviewMenuVisible)return this.overviewMenu.getObjectScreenPosition(t);{const e=this.sceneManager.scene;if(e){const i=e.unity.getTransformByName(t);return i?this.animationCamera.worldToScreenPoint(i.worldPosition):(console.warn("getObjectScreenPosition: object does not exist in scene",t,e.unity.transforms),new Ia)}return console.warn("getObjectScreenPosition: no scene"),new Ia}}setOverlayColor(t,e,i,s){this.overlayColor.setValues(t,e,i,s)}getOverlayColor(){return this.overlayColor}set normalizedAnimationProgress(t){const e=this.sceneManager.scene;e&&(e.normalizedAnimationProgress=t)}get normalizedAnimationProgress(){const t=this.sceneManager.scene;return t?t.normalizedAnimationProgress:0}get sceneDuration(){const t=this.sceneManager.scene;return t?t.duration:0}setCameraDragRotateAmount(t){this.animationCamera.dragRotateAmount=t}setCameraHoverRotateAmount(t){this.animationCamera.hoverRotateAmount=t}set apadanaPillarCapBull(t){const e=this.sceneManager.scene;e&&e.sceneId==mr.APADANA?e.pillarCapBull=t:console.warn("set apadanaPillarCapBull: SceneId should be APADANA",e)}setOverviewVisible(t){var e;this.overviewMenuVisible=t,this.bloom.contrast.setValue(t?0:.25),t?this.overviewMenu.handleSceneSwitch():null===(e=this.sceneManager.scene)||void 0===e||e.handleSceneSwitch()}setLineHighlighterParams(t,e,i,s){this.lineHighlighter.setParams(t,e,i,s)}setOverviewScreenShift(t,e,i){this.overviewMenu.camera.setScreenShift(t,e,i)}setScreenShift(t,e){this.animationCamera.projection.setFrustumOffset(t,e)}setOverviewScreenScale(t){this.overviewMenu.camera.setScreenScale(t)}moveCameraUp(t,e=(()=>{})){this.animationCamera.moveUp(t,e)}moveCameraDown(t,e=(()=>{})){this.animationCamera.moveDown(t,e)}setOverviewLookAt(t,e,i){this.overviewMenu.setLookAt(t,e,i)}setOverviewHover(t){this.overviewMenu.setHover(t)}setOverviewMouseHoverEnabled(t){this.overviewMenu.setMouseHoverEnabled(t)}setOverviewCameraHoverEnabled(t){this.overviewMenu.setCameraHoverEnabled(t)}setFogProgress(t){t!=this.fogProgressOld&&(this.sceneManager.setFogProgress(t),this.sky.setFogProgress(t),this.fogProgressOld=t)}setPreloaderProgress(t){void 0!==this.preloaderEffect&&(this.preloaderEffect.progress=t)}setPreloaderDone(){this.preloaderMode=!1}transitionOut(t,e){da.ENABLED&&console.log("transitionOut"),this.videoTransition.out(e=>{this.transitionFogProgress=e,t&&t(e)},e)}transitionIn(t,e){da.ENABLED&&console.log("transitionIn"),this.videoTransition.in(e=>{this.transitionFogProgress=e,t&&t(e)},e)}destruct(){var t;this.renderTexture.destruct(),this.sceneManager.destruct(),this.reflectionManager.destruct(),this.sky.destruct(),this.videoTransition.destruct(),this.lineHighlighter.destruct(),this.overlayColorMaterial.destruct(),this.overviewMenu.destruct(),this.torchRenderer.destruct(),null===(t=this.HDRToLDR)||void 0===t||t.destruct(),this.canvasManager.destruct(),this.renderer.destruct(),super.destruct()}}class kr{constructor(t,e){this.sceneOrder=[mr.GATE_OF_ALL_NATIONS,mr.APADANA,mr.PALACE_OF_XERXES,mr.SOUTH_EASTERN_PALACE,mr.ROYAL_TREASURY,mr.HALL_OF_100_COLUMNS],this.playSpeed=0,this.normalizedProgress=0,this.uiVisible=!0,this.playing=!1,this.webglApplication=t,this.datGui=new xa;let i=new Ea;i.init("external"),this.animationTime=i.addParamFloat("time",0,0,1,t=>{this.normalizedProgress=t}),i.addParamFloat("dragRotate",1,0,1,t=>{this.webglApplication.setCameraDragRotateAmount(t)});const s=Object.values(mr);for(const a of s)i.addButton(a,()=>{this.loadAndPlayScene(a)});for(const a of s)i.addButton("look at "+a,()=>{this.webglApplication.setOverviewLookAt(a,2)});i.addParamFloat("overlay",0,0,1,t=>{this.webglApplication.setOverlayColor(1,0,0,t)}),i.addParamBool("pillarCapBull",!0,t=>{this.webglApplication.setApadanaPillarCapBull(t)}),this.overviewVisible=i.addParamBool("overviewVisible",!1,t=>{this.webglApplication.setOverviewMenuVisible(t)}),this.lineMin=i.addParamFloat("line min",.25,0,1,t=>{this.webglApplication.setLineHighlighterParams(30,t,this.lineMax?this.lineMax.value:1)}),this.lineMax=i.addParamFloat("line max",.75,0,1,t=>{this.webglApplication.setLineHighlighterParams(30,this.lineMin.value,t)}),this.overviewShiftX=i.addParamFloat("overview shift x",0,-1,1,t=>{this.webglApplication.setOverviewScreenShift(t,this.overviewShiftY?this.overviewShiftY.value:0,this.overviewScale?this.overviewScale.value:1)}),this.overviewShiftY=i.addParamFloat("overview shift y",0,-1,1,t=>{this.webglApplication.setOverviewScreenShift(this.overviewShiftX?this.overviewShiftX.value:0,t,this.overviewScale?this.overviewScale.value:1)}),this.overviewScale=i.addParamFloat("overview scale",1,.25,4,t=>{this.webglApplication.setOverviewScale(t)}),i.addParamFloat("shift x",0,-1,1,t=>{this.webglApplication.setScreenShift(t,0)}),i.addParamFloat("shift y",0,-1,1,t=>{this.webglApplication.setScreenShift(0,t)}),i.addButton("camera up",()=>{this.webglApplication.moveCameraUp(1)}),i.addButton("camera down",()=>{this.webglApplication.moveCameraDown(1)}),i.addParamBool("overview hover",!0,t=>{this.webglApplication.setOverviewMouseHoverEnabled(t)}),i.addButton("transition out",()=>{this.webglApplication.transitionOut(void 0,()=>{})}),i.addButton("transition in",()=>{this.webglApplication.transitionIn(void 0,()=>{})}),i.addParamFloat("fog",0,0,1,t=>{this.webglApplication.setFogProgress(t)}),this.webglApplication.addEventListener(ds.ANIMATION_EVENT,t=>{console.log(ds.ANIMATION_EVENT,t.data)}),this.webglApplication.addEventListener(ds.OVERVIEW_BUILDING_CLICK,t=>{console.log(ds.OVERVIEW_BUILDING_CLICK,t.data.id),this.webglApplication.setOverviewMenuVisible(!1),this.loadAndPlayScene(t.data.id)}),this.webglApplication.addEventListener(ds.OVERVIEW_BUILDING_HOVER_START,t=>{console.log(ds.OVERVIEW_BUILDING_HOVER_START,t.data.id)}),this.webglApplication.addEventListener(ds.OVERVIEW_BUILDING_HOVER_END,t=>{console.log(ds.OVERVIEW_BUILDING_HOVER_END)}),e.renderer.mouseListener.addWheelEvent(t=>this.handleScroll(t)),this.datGui.init(i),dn.getInstance().addKeyHitEvent(mn.KEY_F,()=>{this.uiVisible=!this.uiVisible,this.datGui.setVisible(this.uiVisible)}),dn.getInstance().addKeyHitEvent(mn.SPACE,()=>{this.playing=!this.playing,this.playing||(this.playSpeed=0)}),e.animationFrameCallbacks.push(()=>this.update())}loadAndPlayScene(t,e=(()=>{}),i=(()=>{})){this.webglApplication.loadAndPlayScene(t,e,i),this.playSpeed=0,this.normalizedProgress=0}handleScroll(t){this.playSpeed+=-.5*t,this.playSpeed=_a.clamp(this.playSpeed,-5,5)}nextScene(t){const e=this.sceneOrder.indexOf(t);return e>=0?this.sceneOrder[e+1]:mr.NONE}init(){this.webglApplication.loadAndPlayScene(mr.GATE_OF_ALL_NATIONS,()=>{},()=>{this.webglApplication.preloadScene(this.nextScene(mr.GATE_OF_ALL_NATIONS))})}update(){const t=1/60;this.playing?this.playSpeed=1:this.playSpeed*=Math.max(1-2*t,0);const e=this.webglApplication.sceneDuration;e>0&&(this.normalizedProgress+=this.playSpeed*t/e,this.normalizedProgress<0?(this.normalizedProgress=0,this.playSpeed=0):this.normalizedProgress>1&&(this.normalizedProgress=1,this.playSpeed=0),this.webglApplication.normalizedProgress=this.normalizedProgress,this.animationTime.setValue(this.normalizedProgress))}destruct(){this.datGui.destruct()}}!function(t){t.NONE="none",t.GATE_OF_ALL_NATIONS="GateOfAllNations",t.APADANA="Apadana",t.PALACE_OF_XERXES="PalaceOfXerxes",t.SOUTH_EASTERN_PALACE="SouthEasternPalace",t.ROYAL_TREASURY="RoyalTreasury",t.HALL_OF_100_COLUMNS="HallOf100Columns",t.OVERVIEW="Overview"}(mr||(mr={})),function(t){t.NONE="none",t.AKKINAKES="Akkinakes",t.VASE="Vase",t.PLATE="Plate",t.HORN="Horn",t.JAR="Jar",t.TABLET="Tablet"}(fr||(fr={})),function(t){t.OVERVIEW_GATE_OF_ALL_NATIONS="HotspotGateOfAllNations",t.OVERVIEW_APADANA="HotspotApadana",t.OVERVIEW_PALACE_OF_XERXES="HotspotPalaceOfXerxes",t.OVERVIEW_SOUTH_EASTERN_PALACE="HotspotSouthEasternPalace",t.OVERVIEW_ROYAL_TREASURY="HotspotRoyalTreasury",t.OVERVIEW_HALL_OF_100_COLUMNS="HotspotHallOf100Columns",t.GATE_OF_ALL_NATIONS_BULL="HotspotBull",t.GATE_OF_ALL_NATIONS_LAMASSUS="HotspotLamassus",t.GATE_OF_ALL_NATIONS_SANDS_OF_TIME="HotspotSandsOfTime",t.APADANA_CENTER_RELIEF="HotspotCenterRelief",t.APADANA_CENTER_SANDS_OF_TIME="HotspotSandsOfTime",t.SOUTH_EASTERN_PALACE_KING_AND_ATTENDANT="HotspotKingAndAttendant",t.SOUTH_EASTERN_PALACE_ARCHER_EARRING="HotspotArcherEarring",t.SOUTH_EASTERN_PALACE_ARCHER_PLAQUE="HotspotArcherPlaque",t.SOUTH_EASTERN_PALACE_ARCHER_BRACELET="HotspotArcherBracelet",t.SOUTH_EASTERN_PALACE_SANDS_OF_TIME="HotspotSandsOfTime",t.XERXES_COURT_LIFE="HotspotCourtLife",t.XERXES_RELIEF_GIFT_BEARER="HotspotReliefGiftBearer",t.XERXES_RELIEF_PERSIAN_GUARD="HotspotReliefPersianGuard",t.XERXES_RELIEF_LION_BULL="HotspotReliefLionAndBull",t.ROYAL_TREASURY_SANDS_OF_TIME="HotspotSandsOfTime",t.ROYAL_TREASURY_RELIEF_GIFT_GIVING="HotspotReliefGiftGiving",t.ROYAL_TREASURY_AKINAKES="HotspotAkinakes",t.ROYAL_TREASURY_PAST_PRESENT="HotspotPastPresent",t.HALL_OF_100_COLUMNS_PRESENT_DAY="HotspotPresentDay"}(gr||(gr={}));class Vr extends la.a{init(t,e=!1,i=!1,s=!1){return new Promise(a=>{Vr.webglApp?a():(da.ENABLED=e,ha.useWebp=i,ha.useAvif=s,Vr.preloader=new Oa,Vr.webglApp=new Ur(this,t,Vr.preloader,e),Vr.webglApp.fastLoad(a),e&&(Vr.externalControl=new kr(this,Vr.webglApp)))})}load(t,e=(()=>{})){Vr.preloader.load(()=>{var e;Vr.webglApp.init(),null===(e=Vr.externalControl)||void 0===e||e.init(),t()},e)}play(){Vr.webglApp.paused=!1}pause(){Vr.webglApp.paused=!0}loadAndPlayScene(t,e=(()=>{}),i=(()=>{})){Vr.webglApp.loadScene(t,e,i)}preloadScene(t,e=(()=>{}),i=(()=>{})){Vr.webglApp.preloadScene(t,e,i)}set normalizedProgress(t){Vr.webglApp.normalizedAnimationProgress=t}get normalizedProgress(){return Vr.webglApp.normalizedAnimationProgress}get sceneId(){return Vr.webglApp.sceneId}get sceneDuration(){return Vr.webglApp.sceneDuration}setPreloaderProgress(t){return Vr.webglApp.setPreloaderProgress(t)}setPreloaderDone(){return Vr.webglApp.setPreloaderDone()}setIntroVideo(t){return Vr.webglApp.introVideo.video=t}setMapImage(t){return Vr.webglApp.map.image=t}getObjectScreenPosition(t){return Vr.webglApp.getObjectScreenPosition(t)}setInscriptionProgress(t){Vr.webglApp.setLineHighlighterParams(30,0,t,.15)}setLineHighlighterParams(t,e,i,s=.15){Vr.webglApp.setLineHighlighterParams(t,e,i,s)}setCameraDragRotateAmount(t){return Vr.webglApp.setCameraDragRotateAmount(t)}setCameraHoverRotateAmount(t){return Vr.webglApp.setCameraHoverRotateAmount(t)}setOverlayColor(t,e,i,s){Vr.webglApp.setOverlayColor(t,e,i,s)}getOverlayColor(){return Vr.webglApp.getOverlayColor()}setApadanaPillarCapBull(t){Vr.webglApp.apadanaPillarCapBull=t}setOverviewMenuVisible(t){Vr.webglApp.setOverviewVisible(t)}setOverviewScreenShift(t=0,e=0,i=1){Vr.webglApp.setOverviewScreenShift(t,e,i)}setScreenShift(t=0,e=0){Vr.webglApp.setScreenShift(t,e)}setOverviewScale(t=1){Vr.webglApp.setOverviewScreenScale(t)}moveCameraUp(t,e=(()=>{})){Vr.webglApp.moveCameraUp(t,e)}moveCameraDown(t,e=(()=>{})){Vr.webglApp.moveCameraDown(t,e)}setOverviewLookAt(t,e,i=(()=>{})){Vr.webglApp.setOverviewLookAt(t,e,i)}setOverviewHover(t){Vr.webglApp.setOverviewHover(t)}setOverviewMouseHoverEnabled(t){Vr.webglApp.setOverviewMouseHoverEnabled(t)}setOverviewCameraHoverEnabled(t){Vr.webglApp.setOverviewCameraHoverEnabled(t)}setFogProgress(t){Vr.webglApp.setFogProgress(t)}transitionOut(t,e=(()=>{})){return new Promise(i=>{Vr.webglApp.transitionOut(t,()=>{e(),i()})})}transitionIn(t,e=(()=>{})){return new Promise(i=>{Vr.webglApp.transitionIn(t,()=>{e(),i()})})}destruct(){var t;Vr.webglApp.destruct(),null===(t=Vr.externalControl)||void 0===t||t.destruct()}addStats(t){const e=document.createElement("script");e.onload=function(){const e=new Stats;e.dom.style.position="absolute",e.dom.style.bottom="0px",e.dom.style.top="",document.body.appendChild(e.dom),t.animationFrameCallbacks.push(()=>e.update())},e.src="//mrdoob.github.io/stats.js/build/stats.min.js",document.head.appendChild(e)}}Vr.externalControl=null;const zr=[{id:Xt.GATE_OF_ALL_NATIONS,sceneId:mr.GATE_OF_ALL_NATIONS,scrollHeight:23,components:[{id:"gateOfAllNationsIntro",component:"SceneIntro",label:"gateOfAllNations.name",isNavigable:!0,data:{number:"1",title:"gateOfAllNations.name",description:"gateOfAllNations.description",backgroundImage:"{$versionRoot}image/gateOffAllNationsIntroBackground.jpg"},active:[.16,.24]},{id:"gateOfAllNationsBullStatuesHotspot",component:"PastPresentHotspot",isNavigable:!1,data:{image:{normal:"{$versionRoot}image/past-present/5.jpg",small:"{$versionRoot}image/past-present/5.jpg",alt:"gateOfAllNations.bullStatues.pastPresentAlt"},focusPoint:[682/1920,682/1295],hotspotId:gr.GATE_OF_ALL_NATIONS_BULL,rotateRestrictionIn:[.26,.3],rotateRestrictionOut:[.34,.38]},active:[.3,.34],isAutoScrollEnabled:!0,autoScrollDuration:1e3},{id:"gateOfAllNationsBullStatues",component:"Editorial",label:"gateOfAllNations.bullStatues.title",isNavigable:!0,data:{title:"gateOfAllNations.bullStatues.title",description:"gateOfAllNations.bullStatues.description",buttonLabel:"gateOfAllNations.bullStatues.button",editorialConfig:{components:[{id:"imperialIconographyHero",component:"EditorialHero",data:{image:{path:"{$versionRoot}image/editorial/imperial-iconography-1.jpg",alt:""},title:"gateOfAllNations.imperialIconographyHero.title",subtitle:"gateOfAllNations.imperialIconographyHero.subtitle",text:"gateOfAllNations.imperialIconographyHero.text",artDetailConfig:{title:"gateOfAllNations.royalSphinxes.title",description:"gateOfAllNations.royalSphinxes.description",caption:"gateOfAllNations.royalSphinxes.caption",image:"{$versionRoot}image/art-detail/royalSphinxes-detail.png",detailImage:"{$versionRoot}image/art-detail/royalSphinxes-detail.png"}}},{id:"imperialIconographyImage1",component:"EditorialImage",data:{image:{path:"{$versionRoot}image/editorial/imperial-iconography-2.jpg",alt:""},isPadded:!1,caption:"gateOfAllNations.imperialIconographyImage1.caption",description:"gateOfAllNations.imperialIconographyImage1.description",date:"gateOfAllNations.imperialIconographyImage1.date",artDetailConfig:{title:"gateOfAllNations.archer.title",description:"gateOfAllNations.archer.description",caption:"gateOfAllNations.archer.caption",image:"{$versionRoot}image/art-detail/archer-detail.png",detailImage:"{$versionRoot}image/art-detail/archer-detail.png"}}},{id:"imperialIconographyText",component:"EditorialText",data:{intro:"gateOfAllNations.imperialIconographyText1.intro"}},{id:"imperialIconographyImage2",component:"EditorialImage",data:{image:{path:"{$versionRoot}image/editorial/imperial-iconography-3.png",alt:""},isPadded:!1,caption:"gateOfAllNations.imperialIconographyImage2.caption",description:"gateOfAllNations.imperialIconographyImage2.description",date:"gateOfAllNations.imperialIconographyImage2.date",artDetailConfig:{title:"gateOfAllNations.royalSphinxes.title",description:"gateOfAllNations.royalSphinxes.description",caption:"gateOfAllNations.royalSphinxes.caption",image:"{$versionRoot}image/art-detail/royalSphinxes-detail.png",detailImage:"{$versionRoot}image/art-detail/royalSphinxes-detail.png"}}},{id:"imperialIconographyText2",component:"EditorialText",data:{intro:"gateOfAllNations.imperialIconographyText2.intro",text:"gateOfAllNations.imperialIconographyText2.text"}}]}},active:[.3,.34]},{id:"gateOfAllNationsLamassus",component:"Editorial",isNavigable:!0,label:"gateOfAllNations.lamassus.title",data:{title:"gateOfAllNations.lamassus.title",description:"gateOfAllNations.lamassus.description",align:"left"},active:[.7261,.78],isAutoScrollEnabled:!0,autoScrollDuration:1e3},{id:"gateOfAllNationsLamassusHotspot",component:"PastPresentHotspot",isNavigable:!1,data:{image:{normal:"{$versionRoot}image/past-present/3.jpg",small:"{$versionRoot}image/past-present/3.jpg",alt:""},focusPoint:[.625,765/1333],hotspotId:gr.GATE_OF_ALL_NATIONS_LAMASSUS,rotateRestrictionIn:[.71,.7261],rotateRestrictionOut:[.78,.82]},active:[.7261,.78]},{id:"gateOfAllNationsTrilingualInscription",component:"Inscription",isNavigable:!0,label:"gateOfAllNations.trilingualInscription.title",data:{title:"gateOfAllNations.trilingualInscription.title",description:"gateOfAllNations.trilingualInscription.description",audio:"{$versionRoot}audio/voiceover/vo-trilingual-inscription.mp3",subtitle:"{$versionRoot}audio/voiceover/trilingual-inscription.srt",position:.831},active:[.8,.84],isAutoScrollEnabled:!0,autoScrollDuration:1e3,autoScrollPosition:.831},{id:"gateOfAllNationsOutro",isNavigable:!0,component:"SceneOutro",label:"theApadana.name",data:{number:"2",title:"theApadana.name"},active:[.93,1]},{id:"gateOfAllNationsOutdoorAmbient",isNavigable:!1,component:"AmbientLoop",data:{loop:F.OUTDOOR_NEUTRAL_TONE_OPTION_1_AMBIENT,active:[[0,.38],[.61,.84],[.96,1]]},active:[0,1]},{id:"gateOfAllNationsIndoorAmbient",isNavigable:!1,component:"AmbientLoop",data:{loop:F.INDOOR_NEUTRAL_TONE_OPTION_3_AMBIENT,active:[[.38,.61],[.84,.96]]},active:[0,1]},{id:"gateOfAllNationsFireTorchAmbient",isNavigable:!1,component:"AmbientLoop",data:{loop:F.FIRE_TORCH_AMBIENT,active:[[.38,.61],[.84,.96]]},active:[0,1]}],cameraScroll:[{scroll:[0,.3],camera:[0,.171]},{scroll:[.34,.7261],camera:[.171,.713]},{scroll:[.78,1],camera:[.713,1]}]},{id:Xt.THE_APADANA,sceneId:mr.APADANA,scrollHeight:21,components:[{id:"theApadanaBack",component:"PreviousScene",isNavigable:!1,data:{number:"1",title:"gateOfAllNations.name"},active:[0,.005]},{id:"theApadanaIntro",component:"SceneIntro",isNavigable:!0,label:"theApadana.name",data:{number:"2",title:"theApadana.name",description:"theApadana.description",backgroundImage:"{$versionRoot}image/gateOffAllNationsIntroBackground.jpg"},active:[.02,.084]},{id:"theApadanaCenterSculpturesIntro1",component:"Editorial",isNavigable:!0,label:"theApadana.reliefSculptures.title",data:{title:"theApadana.reliefSculptures.title",description:"theApadana.reliefSculptures.description",align:"left"},active:[.111,.139],isAutoScrollEnabled:!0,autoScrollDuration:1e3},{id:"theApadanaStairwayInscription",component:"Inscription",label:"theApadana.stairway.title",isNavigable:!0,data:{title:"theApadana.stairway.title",description:"theApadana.stairway.description",audio:"{$versionRoot}audio/voiceover/vo-stairway-inscription.mp3",subtitle:"{$versionRoot}audio/voiceover/stairway-inscription.srt",position:.158,align:"left"},active:[.15,.164],isAutoScrollEnabled:!0,autoScrollDuration:1e3},{id:"theApadanaCenterReliefIntro1",component:"Editorial",isNavigable:!1,data:{title:"theApadana.centerReliefIntro1.title",align:"center",theme:"small"},active:[.189,.22]},{id:"theApadanaCenterReliefIntro2",component:"Editorial",isNavigable:!1,data:{title:"theApadana.centerReliefIntro2.title",align:"center",theme:"small"},active:[.225,.25]},{id:"theApadanaCenterRelief",component:"Editorial",data:{title:"theApadana.centerRelief.title",description:"theApadana.centerRelief.description",align:"left"},active:[.28,.32],isAutoScrollEnabled:!0,autoScrollDuration:1e3},{id:"theApadanaCenterReliefHotspot",component:"PastPresentHotspot",isNavigable:!0,label:"theApadana.centerRelief.title",data:{image:{normal:"{$versionRoot}image/past-present/apadana-center-relief.jpg",small:"{$versionRoot}image/past-present/apadana-center-relief.jpg",alt:""},zoomedDescription:"theApadana.centerReliefPastPresent.description",focusPoint:[.5625,810/1280],hotspotId:gr.APADANA_CENTER_RELIEF,rotateRestrictionIn:[.26,.28],rotateRestrictionOut:[.32,.36]},active:[.28,.32]},{id:"theApadanaTributesAndGiftGiving",component:"Editorial",label:"theApadana.tributesGiftGiving.title",isNavigable:!0,data:{title:"theApadana.tributesGiftGiving.title",description:"theApadana.tributesGiftGiving.description",buttonLabel:"theApadana.tributesGiftGiving.button",editorialConfig:{components:[{id:"tributesAndGiftGivingHero",component:"EditorialHero",data:{image:{path:"{$versionRoot}image/editorial/gift-giving-1.jpg",alt:""},caption:"theApadana.tributesAndGiftGivingHero.caption",title:"theApadana.tributesAndGiftGivingHero.title",subtitle:"theApadana.tributesAndGiftGivingHero.subtitle",text:"theApadana.tributesAndGiftGivingHero.text",artDetailConfig:{title:"theApadana.bowl.title",description:"theApadana.bowl.description",caption:"theApadana.bowl.caption",image:"{$versionRoot}image/art-detail/bowl-detail.png",detailImage:"{$versionRoot}image/art-detail/bowl-detail.png"}}},{id:"tributesAndGiftGivingText1",component:"EditorialText",data:{intro:"theApadana.tributesAndGiftGivingText1.intro",text:"theApadana.tributesAndGiftGivingText1.text"}},{id:"tributesAndGiftGivingImage1",component:"EditorialImage",data:{image:{path:"{$versionRoot}image/artwork/amphoraRhyton.png",alt:"artIndex.amphoraRhyton.alt"},isPadded:!0,caption:"theApadana.tributesAndGiftGivingImage1.caption",description:"theApadana.tributesAndGiftGivingImage1.description",date:"theApadana.tributesAndGiftGivingImage1.date",artDetailConfig:{title:"theApadana.amphoraRhyton.title",description:"theApadana.amphoraRhyton.description",caption:"theApadana.amphoraRhyton.caption",video:"{$versionRoot}video/amphoraRhyton.mp4"}}},{id:"tributesAndGiftGivingText2",component:"EditorialText",data:{text:"theApadana.tributesAndGiftGivingText2.text"}},{id:"tributesAndGiftGivingImage2",component:"EditorialImage",data:{image:{path:"{$versionRoot}image/artwork/bowl.png",alt:"artIndex.bowl.alt"},isPadded:!0,caption:"theApadana.tributesAndGiftGivingImage2.caption",description:"theApadana.tributesAndGiftGivingImage2.description",date:"theApadana.tributesAndGiftGivingImage2.date",artDetailConfig:{title:"theApadana.bowl.title",description:"theApadana.bowl.description",caption:"theApadana.bowl.caption",image:"{$versionRoot}image/art-detail/bowl-detail.png",detailImage:"{$versionRoot}image/art-detail/bowl-detail.png"}}}]}},active:[.4,.43],isAutoScrollEnabled:!0,autoScrollDuration:1e3},{id:"theApadanaColumnsCapitals",component:"Editorial",isNavigable:!0,label:"theApadana.columnsCapitals.title",data:{title:"theApadana.columnsCapitals.title",description:"theApadana.columnsCapitals.description",align:"left"},active:[.48,.51],isAutoScrollEnabled:!0,autoScrollDuration:1e3},{id:"theApadanaColumnsMoreInfo",component:"Editorial",isNavigable:!1,data:{title:"theApadana.columnsMoreInfo.title",description:"theApadana.columnsMoreInfo.description",align:"left"},active:[.52,.54],isAutoScrollEnabled:!0,autoScrollDuration:1e3},{id:"theApadanaBullCapital",component:"BullCapital",isNavigable:!0,label:"theApadana.bullCapital.bull.title",data:{bullTitle:"theApadana.bullCapital.bull.title",bullDescription:"theApadana.bullCapital.bull.description",lionTitle:"theApadana.bullCapital.lion.title",lionDescription:"theApadana.bullCapital.lion.description",lionButton:"theApadana.bullCapital.lion.button",artDetailConfig:{title:"theApadana.headOfALion.title",description:"theApadana.headOfALion.description",caption:"theApadana.headOfALion.caption",image:"{$versionRoot}image/art-detail/lion-head-detail.png",detailImage:"{$versionRoot}image/art-detail/lion-head-detail.png"}},active:[.6,.64],isAutoScrollEnabled:!0,autoScrollDuration:1e3},{id:"theApadanaOutro",component:"SceneOutro",label:"palaceOfXerxes.name",isNavigable:!0,data:{number:"3",title:"palaceOfXerxes.name"},active:[.94,1]},{id:"theApadanaBirdsAmbient",isNavigable:!1,component:"AmbientLoop",data:{loop:F.OUTDOOR_BIRD_OPTION_3_AMBIENT,active:[[0,.79],[.95,1]]},active:[0,1]},{id:"theApadanaOutdoorAmbient",isNavigable:!1,component:"AmbientLoop",data:{loop:F.OUTDOOR_NEUTRAL_TONE_OPTION_2_AMBIENT,active:[[0,.79],[.95,1]]},active:[0,1]},{id:"theApadanaIndoorAmbient",isNavigable:!1,component:"AmbientLoop",data:{loop:F.INDOOR_NEUTRAL_TONE_OPTION_2_AMBIENT,active:[[.79,.95]]},active:[0,1]},{id:"theApadanaFireTorchAmbient",isNavigable:!1,component:"AmbientLoop",data:{loop:F.FIRE_TORCH_AMBIENT,active:[[.79,.95]]},active:[0,1]}],cameraScroll:[{scroll:[0,.28],camera:[0,.28]},{scroll:[.32,.6],camera:[.28,.583]},{scroll:[.64,1],camera:[.583,1]}]},{id:Xt.PALACE_OF_XERXES,sceneId:mr.PALACE_OF_XERXES,scrollHeight:12,components:[{id:"palaceOfXerxesBack",component:"PreviousScene",isNavigable:!1,data:{number:"2",title:"theApadana.name"},active:[0,.005]},{id:"palaceOfXerxesIntro",component:"SceneIntro",isNavigable:!0,label:"palaceOfXerxes.name",data:{number:"3",title:"palaceOfXerxes.name",description:"palaceOfXerxes.description",backgroundImage:"{$versionRoot}image/gateOffAllNationsIntroBackground.jpg"},active:[.04,.15]},{id:"palaceOfXerxesReliefLionBull",component:"ReliefHotspot",isNavigable:!0,label:"palaceOfXerxes.reliefLionBull.title",data:{hotspotId:gr.XERXES_RELIEF_LION_BULL,image:"{$versionRoot}image/relief/lion-bull.jpg",artDetailConfig:{title:"palaceOfXerxes.reliefLionBull.title",description:"palaceOfXerxes.reliefLionBull.description",caption:"palaceOfXerxes.reliefLionBull.caption",image:"{$versionRoot}image/art-detail/lion-bull-detail.png",detailImage:"{$versionRoot}image/art-detail/lion-bull-detail.png"}},active:[.15,.24]},{id:"palaceOfXerxesReliefOfPersianGuard",component:"ReliefHotspot",isNavigable:!0,label:"palaceOfXerxes.reliefOfPersianGuard.title",data:{hotspotId:gr.XERXES_RELIEF_PERSIAN_GUARD,image:"{$versionRoot}image/relief/persian-guard.png",artDetailConfig:{title:"palaceOfXerxes.reliefOfPersianGuard.title",description:"palaceOfXerxes.reliefOfPersianGuard.description",caption:"palaceOfXerxes.reliefOfPersianGuard.caption",image:"{$versionRoot}image/art-detail/persian-guard-detail.png",detailImage:"{$versionRoot}image/art-detail/persian-guard-detail.png"}},navigationActive:[.32,.35],active:[.28,.5]},{id:"palaceOfXerxesReliefOfGiftBearer",component:"ReliefHotspot",isNavigable:!0,label:"palaceOfXerxes.reliefOfGiftBearer.title",data:{hotspotId:gr.XERXES_RELIEF_GIFT_BEARER,image:"{$versionRoot}image/relief/gift-bearer.jpg",artDetailConfig:{title:"palaceOfXerxes.reliefOfGiftBearer.title",description:"palaceOfXerxes.reliefOfGiftBearer.description",caption:"palaceOfXerxes.reliefOfGiftBearer.caption",video:"{$versionRoot}video/giftBearer.mp4"}},active:[.29,.5],navigationActive:[.36,.45]},{id:"palaceOfXerxesRoyalFeasts",component:"Editorial",isNavigable:!0,label:"palaceOfXerxes.royalFeasts.title",data:{title:"palaceOfXerxes.royalFeasts.title",description:"palaceOfXerxes.royalFeasts.description",buttonLabel:"palaceOfXerxes.royalFeasts.callToAction",editorialConfig:{components:[{id:"royalFeastsHero",component:"EditorialHero",data:{image:{path:"{$versionRoot}image/editorial/royal-feasts-1.jpg",alt:""},caption:"palaceOfXerxes.royalFeastsHero.caption",title:"palaceOfXerxes.royalFeastsHero.title",subtitle:"palaceOfXerxes.royalFeastsHero.subtitle",text:"palaceOfXerxes.royalFeastsHero.text",artDetailConfig:{title:"palaceOfXerxes.phiale.title",description:"palaceOfXerxes.phiale.description",caption:"palaceOfXerxes.phiale.caption",image:"{$versionRoot}image/art-detail/phiale-detail.png",detailImage:"{$versionRoot}image/art-detail/phiale-detail.png"}}},{id:"royalFeastsImage1",component:"EditorialImage",data:{image:{path:"{$versionRoot}image/artwork/hornedLionGriffin.jpg",alt:"artIndex.hornedLionGriffin.alt"},isPadded:!0,caption:"palaceOfXerxes.royalFeastsImage1.caption",description:"palaceOfXerxes.royalFeastsImage1.description",date:"palaceOfXerxes.royalFeastsImage1.date",artDetailConfig:{title:"palaceOfXerxes.rhyton.title",description:"palaceOfXerxes.rhyton.description",caption:"palaceOfXerxes.rhyton.caption",video:"{$versionRoot}video/hornedLionGriffin.mp4"}}},{id:"royalFeastsText1",component:"EditorialText",data:{intro:"palaceOfXerxes.royalFeastsText1.intro"}},{id:"royalFeastsImage2",component:"EditorialImage",data:{image:{path:"{$versionRoot}image/artwork/phiale.png",alt:"artIndex.phiale.alt"},isPadded:!0,caption:"palaceOfXerxes.royalFeastsImage2.caption",description:"palaceOfXerxes.royalFeastsImage2.description",date:"palaceOfXerxes.royalFeastsImage2.date",artDetailConfig:{title:"palaceOfXerxes.phiale.title",description:"palaceOfXerxes.phiale.description",caption:"palaceOfXerxes.phiale.caption",image:"{$versionRoot}image/art-detail/phiale-detail.png",detailImage:"{$versionRoot}image/art-detail/phiale-detail.png"}}},{id:"royalFeastsText2",component:"EditorialText",data:{text:"palaceOfXerxes.royalFeastsText2.text",marginRight:!0}},{id:"royalFeastsImage3",component:"EditorialImage",data:{image:{path:"{$versionRoot}image/artwork/wineJug.png",alt:"artIndex.wineJug.alt"},isPadded:!0,caption:"palaceOfXerxes.royalFeastsImage3.caption",description:"palaceOfXerxes.royalFeastsImage3.description",date:"palaceOfXerxes.royalFeastsImage3.date",artDetailConfig:{title:"palaceOfXerxes.wineJug.title",description:"palaceOfXerxes.wineJug.description",caption:"palaceOfXerxes.wineJug.caption",video:"{$versionRoot}video/wineJug.mp4"}}},{id:"royalFeastsText3",component:"EditorialText",data:{intro:"palaceOfXerxes.royalFeastsText3.intro"}},{id:"royalFeastsImage4",component:"EditorialImage",data:{image:{path:"{$versionRoot}image/artwork/ladle.png",alt:"artIndex.ladle.alt"},isPadded:!0,caption:"palaceOfXerxes.royalFeastsImage4.caption",description:"palaceOfXerxes.royalFeastsImage4.description",date:"palaceOfXerxes.royalFeastsImage4.date",artDetailConfig:{title:"palaceOfXerxes.ladle.title",description:"palaceOfXerxes.ladle.description",caption:"palaceOfXerxes.ladle.caption",image:"{$versionRoot}image/art-detail/ladle-detail.png",detailImage:"{$versionRoot}image/art-detail/ladle-detail.png"}}},{id:"royalFeastsText4",component:"EditorialText",data:{text:"palaceOfXerxes.royalFeastsText4.text"}}]}},active:[.699,.88],isAutoScrollEnabled:!0,autoScrollDuration:1e3},{id:"palaceOfXerxesOutro",component:"SceneOutro",isNavigable:!0,label:"southEasternPalace.name",data:{number:"4",title:"southEasternPalace.name"},active:[.95,1]},{id:"palaceOfXerxesBirdsAmbient",isNavigable:!1,component:"AmbientLoop",data:{loop:F.OUTDOOR_BIRD_OPTION_3_AMBIENT,active:[[0,.688]]},active:[0,1]},{id:"palaceOfXerxesOutdoorAmbient",isNavigable:!1,component:"AmbientLoop",data:{loop:F.OUTDOOR_NEUTRAL_TONE_OPTION_2_AMBIENT,active:[[0,.688]]},active:[0,1]},{id:"palaceOfXerxesIndoorAmbient",isNavigable:!1,component:"AmbientLoop",data:{loop:F.INDOOR_NEUTRAL_TONE_OPTION_3_AMBIENT,active:[[.688,1]]},active:[0,1]},{id:"palaceOfXerxesFireTorchAmbient",isNavigable:!1,component:"AmbientLoop",data:{loop:F.FIRE_TORCH_AMBIENT,active:[[.688,1]]},active:[0,1]}],cameraScroll:[{scroll:[0,1],camera:[0,1]}]},{id:Xt.SOUTH_EASTERN_PALACE,sceneId:mr.SOUTH_EASTERN_PALACE,scrollHeight:14,components:[{id:"southEasternPalaceBack",component:"PreviousScene",isNavigable:!1,data:{number:"3",title:"theApadana.name"},active:[0,.005]},{id:"southEasternPalaceIntro",component:"SceneIntro",label:"southEasternPalace.name",isNavigable:!0,data:{number:"4",title:"southEasternPalace.name",description:"southEasternPalace.description",backgroundImage:"{$versionRoot}image/gateOffAllNationsIntroBackground.jpg",smallerTitle:!0},active:[.09,.24]},{id:"southEasternPalaceCourtyard",component:"Editorial",isNavigable:!1,data:{title:"southEasternPalace.courtyard.title",align:"center",theme:"small"},active:[.275,.3],isAutoScrollEnabled:!0,autoScrollDuration:1e3},{id:"southEasternPalaceRoyalLife",component:"RoyalLife",label:"southEasternPalace.royalLife.title",isNavigable:!0,data:{hotspots:[{id:gr.SOUTH_EASTERN_PALACE_ARCHER_EARRING,title:"southEasternPalace.royalLife.earring.title",description:"southEasternPalace.royalLife.earring.description",caption:"southEasternPalace.royalLife.earring.caption",image:{normal:"{$versionRoot}image/royal-life/earring.png",small:"{$versionRoot}image/royal-life/earring.png",alt:"southEasternPalace.royalLife.earring.alt"}},{id:gr.SOUTH_EASTERN_PALACE_ARCHER_BRACELET,title:"southEasternPalace.royalLife.bracelet.title",description:"southEasternPalace.royalLife.bracelet.description",caption:"southEasternPalace.royalLife.bracelet.caption",image:{normal:"{$versionRoot}image/royal-life/bracelet.png",small:"{$versionRoot}image/royal-life/bracelet.png",alt:"southEasternPalace.royalLife.bracelet.alt"}},{id:gr.SOUTH_EASTERN_PALACE_ARCHER_PLAQUE,title:"southEasternPalace.royalLife.plaque.title",description:"southEasternPalace.royalLife.plaque.description",caption:"southEasternPalace.royalLife.plaque.caption",image:{normal:"{$versionRoot}image/royal-life/plaque.png",small:"{$versionRoot}image/royal-life/plaque.png",alt:"southEasternPalace.royalLife.plaque.alt"}}],title:"southEasternPalace.royalLife.title",description:"southEasternPalace.royalLife.description",rotateRestrictionIn:[.815,.83],rotateRestrictionOut:[.93,.945]},active:[.83,.93]},{id:"southEasternPalaceOutro",component:"SceneOutro",label:"royalTreasury.name",isNavigable:!0,data:{number:"5",title:"royalTreasury.name"},active:[.95,1]},{id:"southEasternPalaceBirdsAmbient",isNavigable:!1,component:"AmbientLoop",data:{loop:F.OUTDOOR_BIRD_OPTION_1_AMBIENT,active:[[.28,1]]},active:[0,1]},{id:"southEasternPalaceOutdoorAmbient",isNavigable:!1,component:"AmbientLoop",data:{loop:F.OUTDOOR_NEUTRAL_TONE_OPTION_1_AMBIENT,active:[[.28,1]]},active:[0,1]},{id:"southEasternPalaceIndoorAmbient",isNavigable:!1,component:"AmbientLoop",data:{loop:F.INDOOR_NEUTRAL_TONE_OPTION_3_AMBIENT,active:[[0,.28]]},active:[0,1]},{id:"southEasternPalaceFireTorchAmbient",isNavigable:!1,component:"AmbientLoop",data:{loop:F.FIRE_TORCH_AMBIENT,active:[[0,.28]]},active:[0,1]}],cameraScroll:[{scroll:[0,1],camera:[0,1]}]},{id:Xt.ROYAL_TREASURY,sceneId:mr.ROYAL_TREASURY,scrollHeight:5.5,components:[{id:"royalTreasuryBack",component:"PreviousScene",isNavigable:!1,data:{number:"4",title:"southEasternPalace.name"},active:[0,.005]},{id:"royalTreasuryIntro",component:"SceneIntro",label:"royalTreasury.name",isNavigable:!0,data:{number:"5",title:"royalTreasury.name",description:"royalTreasury.description",backgroundImage:"{$versionRoot}image/gateOffAllNationsIntroBackground.jpg"},active:[.11,.35]},{id:"royalTreasuryReliefOfGiftGiving",component:"Editorial",label:"royalTreasury.reliefOfGiftGiving.title",isNavigable:!0,data:{title:"royalTreasury.reliefOfGiftGiving.title",description:"royalTreasury.reliefOfGiftGiving.description",buttonLabel:"royalTreasury.reliefOfGiftGiving.button",editorialConfig:{components:[{id:"kingsPowerHero",component:"EditorialHero",data:{image:{path:"{$versionRoot}image/editorial/kings-power-1.jpg",alt:""},caption:"royalTreasury.kingsPowerHero.caption",title:"royalTreasury.kingsPowerHero.title",subtitle:"royalTreasury.kingsPowerHero.subtitle",text:"royalTreasury.kingsPowerHero.text"}},{id:"kingsPowerImage1",component:"EditorialImage",data:{image:{path:"{$versionRoot}image/artwork/goldDaric.png",alt:"artIndex.goldDaric.alt"},isPadded:!0,caption:"royalTreasury.kingsPowerImage1.caption",description:"royalTreasury.kingsPowerImage1.description",date:"royalTreasury.kingsPowerImage1.date",artDetailConfig:{title:"royalTreasury.goldDaric.title",description:"royalTreasury.goldDaric.description",caption:"royalTreasury.goldDaric.caption",image:"{$versionRoot}image/art-detail/goldDaric-detail.png",detailImage:"{$versionRoot}image/art-detail/goldDaric-detail.png"}}},{id:"kingsPowerText1",component:"EditorialText",data:{intro:"royalTreasury.kingsPowerText1.intro",text:"royalTreasury.kingsPowerText1.text"}},{id:"kingsPowerImage2",component:"EditorialImage",data:{image:{path:"{$versionRoot}image/artwork/daiva.png",alt:"artIndex.daiva.alt"},isPadded:!0,caption:"royalTreasury.kingsPowerImage2.caption",description:"royalTreasury.kingsPowerImage2.description",date:"royalTreasury.kingsPowerImage2.date",artDetailConfig:{title:"royalTreasury.daiva.title",description:"royalTreasury.daiva.description",caption:"royalTreasury.daiva.caption",image:"{$versionRoot}image/art-detail/daiva-detail.png",detailImage:"{$versionRoot}image/art-detail/daiva-detail.png"}}},{id:"kingsPowerImage3",component:"EditorialImage",data:{image:{path:"{$versionRoot}image/artwork/cylinderSeal.png",alt:"artIndex.cylinderSeal.alt"},isPadded:!0,caption:"royalTreasury.kingsPowerImage3.caption",description:"royalTreasury.kingsPowerImage3.description",date:"royalTreasury.kingsPowerImage3.date",artDetailConfig:{title:"royalTreasury.cylinderSeal.title",description:"royalTreasury.cylinderSeal.description",caption:"royalTreasury.cylinderSeal.caption",image:"{$versionRoot}image/art-detail/cylinderSeal-detail.png",detailImage:"{$versionRoot}image/art-detail/cylinderSeal-detail.png"}}},{id:"kingsPowerText2",component:"EditorialText",data:{intro:"royalTreasury.kingsPowerText2.intro"}},{id:"kingsPowerText3",component:"EditorialText",data:{text:"royalTreasury.kingsPowerText3.text"}},{id:"kingsPowerImage4",component:"EditorialImage",data:{image:{path:"{$versionRoot}image/artwork/scaraboid.png",alt:"artIndex.scaraboid.alt"},isPadded:!0,caption:"royalTreasury.kingsPowerImage4.caption",description:"royalTreasury.kingsPowerImage4.description",date:"royalTreasury.kingsPowerImage4.date",artDetailConfig:{title:"royalTreasury.scaraboid.title",description:"royalTreasury.scaraboid.description",caption:"royalTreasury.scaraboid.caption",image:"{$versionRoot}image/art-detail/scaraboid-detail.png",detailImage:"{$versionRoot}image/art-detail/scaraboid-detail.png"}}}]},align:"right"},active:[.4,.55],isAutoScrollEnabled:!0,autoScrollDuration:1e3},{id:"royalTreasuryAkinakes",component:"ReliefHotspot",isNavigable:!0,label:"royalTreasury.akinakes.title",data:{hotspotId:gr.ROYAL_TREASURY_AKINAKES,image:"{$versionRoot}image/relief/akinakes.jpg",artDetailConfig:{title:"royalTreasury.akinakes.title",description:"royalTreasury.akinakes.description",caption:"royalTreasury.akinakes.caption",video:"{$versionRoot}video/akinakes.mp4"}},active:[.76,.83],isAutoScrollEnabled:!0,autoScrollDuration:1e3},{id:"royalTreasuryReliefPastPresent",component:"PastPresentHotspot",isNavigable:!1,data:{image:{normal:"{$versionRoot}image/past-present/2.jpg",small:"{$versionRoot}image/past-present/2.jpg",alt:""},focusPoint:[.5,.5],hotspotId:gr.ROYAL_TREASURY_RELIEF_GIFT_GIVING,rotateRestrictionIn:[.64,.6631],rotateRestrictionOut:[.75,.79]},active:[.76,.83]},{id:"royalTreasuryOutro",component:"SceneOutro",label:"hallOf100Columns.name",isNavigable:!0,data:{number:"6",title:"hallOf100Columns.name"},active:[.95,1]},{id:"royalTreasuryBirdsAmbient",isNavigable:!1,component:"AmbientLoop",data:{loop:F.OUTDOOR_BIRD_OPTION_2_AMBIENT,active:[[0,1]]},active:[0,1]},{id:"royalTreasuryOutdoorAmbient",isNavigable:!1,component:"AmbientLoop",data:{loop:F.OUTDOOR_WATER_AMBIENT,active:[[0,1]]},active:[0,1]}],cameraScroll:[{scroll:[0,.76],camera:[0,.76]},{scroll:[.83,1],camera:[.76,1]}]},{id:Xt.HALL_OF_100_COLUMNS,sceneId:mr.HALL_OF_100_COLUMNS,scrollHeight:9,components:[{id:"hallOf100ColumnsBack",component:"PreviousScene",isNavigable:!1,data:{number:"5",title:"royalTreasury.name"},active:[0,.005]},{id:"hallOf100ColumnsIntro",component:"SceneIntro",label:"hallOf100Columns.name",isNavigable:!0,data:{number:"6",title:"hallOf100Columns.name",description:"hallOf100Columns.description",backgroundImage:"{$versionRoot}image/gateOffAllNationsIntroBackground.jpg"},active:[.115,.42]},{id:"hallOf100ColumnsFallenEmpire",component:"Editorial",isNavigable:!1,data:{title:"hallOf100Columns.fallenEmpire.title",align:"center",mobileRemoveTitleBreak:!0},active:[.66,.7],isAutoScrollEnabled:!0,autoScrollDuration:1e3},{id:"hallOf100ColumnsPresentDayPersepolis",component:"Editorial",isNavigable:!0,label:"hallOf100Columns.presentDay.title",data:{title:"hallOf100Columns.presentDay.title",description:"hallOf100Columns.presentDay.description",buttonLabel:"hallOf100Columns.presentDay.button",editorialConfig:{components:[{id:"persepolisRecoveredHero",component:"EditorialHero",data:{image:{path:"{$versionRoot}image/editorial/persepolis-recovered-1.jpg",alt:""},caption:"hallOf100Columns.persepolisRecoveredHero.caption",title:"hallOf100Columns.persepolisRecoveredHero.title",text:"hallOf100Columns.persepolisRecoveredHero.text"}},{id:"persepolisRecoveredText1",component:"EditorialText",data:{text:"hallOf100Columns.persepolisRecoveredText1.text",marginRight:!0}},{id:"persepolisRecoveredImage1",component:"EditorialImage",data:{isPadded:!1,image:{path:"{$versionRoot}image/editorial/persepolis-recovered-2.jpg",alt:""}}},{id:"persepolisRecoveredText2",component:"EditorialText",data:{intro:"hallOf100Columns.persepolisRecoveredText2.intro"}},{id:"persepolisRecoveredText3",component:"EditorialText",data:{text:"hallOf100Columns.persepolisRecoveredText3.text"}}]}},active:[.71,.75],isAutoScrollEnabled:!0,autoScrollDuration:1e3},{id:"hallOf100ColumnsColumnsPastPresent",component:"PastPresentHotspot",isNavigable:!1,data:{image:{normal:"{$versionRoot}image/past-present/end-image.jpg",small:"{$versionRoot}image/past-present/end-image.jpg",alt:""},focusPoint:[.5,.8],hotspotId:gr.HALL_OF_100_COLUMNS_PRESENT_DAY,rotateRestrictionIn:[.65,.69935],rotateRestrictionOut:[.8,.85],autoOpen:.9},active:[.85,1]},{id:"hallOf100ColumnsColorOverlay",component:"ColorOverlay",isNavigable:!1,data:{opacity:[0,.8]},active:[.98,1]},{id:"hallOf100ColumnsAboutOutro",component:"AboutOutro",label:"about.heading",isNavigable:!0,data:{opacity:[0,.9]},active:[1,1]},{id:"hallOf100ColumnsOutdoorAmbient",isNavigable:!1,component:"AmbientLoop",data:{loop:F.OUTDOOR_NEUTRAL_TONE_OPTION_1_AMBIENT,active:[[0,.37]]},active:[0,1]},{id:"hallOf100ColumnsIndoorAmbient",isNavigable:!1,component:"AmbientLoop",data:{loop:F.INDOOR_NEUTRAL_TONE_OPTION_3_AMBIENT,active:[[.37,1]]},active:[0,1]},{id:"hallOf100ColumnsFireTorchAmbient",isNavigable:!1,component:"AmbientLoop",data:{loop:F.FIRE_TORCH_AMBIENT,active:[[.37,1]]},active:[0,1]}],cameraScroll:[{scroll:[0,.9],camera:[0,1]}]}],Hr=t=>t,Gr=t=>t.sort((t,e)=>t.scroll[0]-e.scroll[0]);class Xr extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){t.add(se(e.$el,{to:1,autoAlpha:!0,duration:1}))}setupTransitionOutTimeline(t,e,i){t.add(se(e.$el,{to:0,autoAlpha:!0,duration:1}))}setupLoopingAnimationTimeline(t,e,i){}}U.default.registerPlugin(ne.a);class jr extends D.AbstractTransitionController{constructor(){super(...arguments),this.showTimeline=U.default.timeline(),this.hideTimeline=U.default.timeline()}moveRing(t){const{bullets:e}=this.parentController.$refs,{currentIndex:i}=this.parentController,s=U.default.timeline();if(!e[i])return s;const a=e[i].$el.getBoundingClientRect(),n=this.parentController.$el.getBoundingClientRect(),{bulletRing:r}=this.parentController.$refs,{speed:o}=this.parentController;return s.to(r,{x:a.left-n.left+a.width/2,y:a.top-n.top+a.height/2,duration:t?.4:0,ease:re.JorisInOut},0),t&&(s.to(r,{scale:1.1,duration:.4,ease:"wiggle({wiggles: 1})"},0),s.to(r,{"--speed":"5s",duration:.4,ease:"wiggle({wiggles: 1})"},0)),s}setupTransitionInTimeline(t,e,i){}setupTransitionOutTimeline(t,e,i){}setupLoopingAnimationTimeline(t,e,i){}showTransition(t){const e=this.parentController,{bullets:i}=e.$refs,{bulletRing:s}=e.$refs,a=i.map(t=>t.$el);this.hideTimeline.kill(),this.showTimeline=U.default.timeline();const n=this.showTimeline;return n.add(ie(e.$el,{to:1,duration:.01,autoAlpha:!0})),n.fromTo(a,{scale:.5,opacity:0},{scale:1,opacity:1,ease:re.JorisInOut,duration:t?0:.5,stagger:{from:"center",each:t?0:.03}}),n.fromTo(s,{scale:1.1,opacity:0},{duration:.5,scale:1,opacity:1,ease:re.JorisInOut},.1),n}hideTransition(t){const e=this.parentController,{bullets:i}=e.$refs,{bulletRing:s}=e.$refs,a=i.map(t=>t.$el);this.showTimeline.kill(),this.hideTimeline=U.default.timeline();const n=this.hideTimeline;return n.to(s,{scale:1.1,opacity:0,duration:.5,ease:re.JorisInOut}),n.to(a,{scale:.5,opacity:0,ease:re.JorisInOut,duration:t?0:.3,stagger:{from:"edges",each:t?0:.07}},.05),n.add(se(e.$el,{to:0,duration:0,autoAlpha:!0})),n}}class Wr extends D.AbstractTransitionController{mouseEnterAnimation(){const t=U.default.timeline(),{tooltip:e}=this.parentController.$refs;return t.add(this.getTimeline(e,gi.a.IN)),t}mouseLeaveAnimation(){const t=U.default.timeline(),{tooltip:e}=this.parentController.$refs;return t.add(this.getTimeline(e,gi.a.OUT)),t}setupTransitionInTimeline(t,e,i){}setupTransitionOutTimeline(t,e,i){}setupLoopingAnimationTimeline(t,e,i){}}class Yr extends D.AbstractTransitionController{show(){const t=U.default.timeline(),{tooltip:e}=this.parentController,{hover:i,label:s}=this.parentController.$refs;return t.add(ie([this.parentController.$el],{clearProps:!1,duration:.01})),t.fromTo(i,{scale:0},{scale:1,ease:re.VinnieInOut,duration:.4}),t.fromTo(i,{width:i.offsetHeight},{width:s.offsetWidth,clearProps:"width",duration:.5,ease:re.VinnieInOut},"<0.1"),t.fromTo(e,{scale:0},{scale:1,duration:.5,ease:"power3.out"},.2),t.add(ie(s,{duration:.3,clearProps:!1}),.3),t.timeScale(2),t}hide(){const t=U.default.timeline(),{tooltip:e}=this.parentController,{hover:i,label:s}=this.parentController.$refs;return t.add(se(s,{duration:.3})),t.to(e,{scale:0,duration:.2,ease:"power2.in"},"<"),t.to(i,{scale:0,width:i.offsetHeight,duration:.5,ease:"power2.in"},"<"),t.add(se(this.parentController.$el,{duration:.3}),"-=0.3"),t.timeScale(2),t}setupTransitionInTimeline(t,e,i){}setupTransitionOutTimeline(t,e,i){}setupLoopingAnimationTimeline(t,e,i){}}var Zr={name:"Tooltip",extends:D.AbstractTransitionComponent,props:{label:o.default.string,align:o.default.string.def("right")},data:()=>({tooltip:{scale:0}}),methods:{handleAllComponentsReady(){this.transitionController=new Yr(this),this.isReady()},show(){return this.transitionController.show()},hide(){return this.transitionController.hide()}}},qr=i(322);var Kr=Object(T.a)(Zr,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:[t.$style.tooltip],style:"--tip-scale: "+t.tooltip.scale,attrs:{"data-align":t.align}},[i("div",{class:t.$style.ballon},[i("span",{ref:"hover",class:[t.$style.hover]}),t._v(" "),i("p",{ref:"label",class:["copy-cta",t.$style.label]},[t._v("\n      "+t._s(t.label)+"\n    ")])])])}),[],!1,(function(t){this.$style=qr.default.locals||qr.default}),null,null).exports,Qr={name:"BulletButton",components:{Tooltip:Kr},extends:D.AbstractTransitionComponent,props:{isActive:o.default.bool,label:o.default.string,type:o.default.string},data:()=>({isAnimating:!1,isFocused:!1,tooltip:{scale:0}}),computed:{isButtonVisuallyHidden(){return"narration"===this.type&&!this.isFocused&&!this.isActive}},methods:{handleAllComponentsReady(){this.transitionController=new Wr(this),this.isReady()},handleClick(t){t&&t.preventDefault(),this.$emit("click")},async preview(){this.isAnimating||(this.isAnimating=!0,await this.$refs.tooltip.show(),await new Promise(t=>setTimeout(t,1e3)),await this.$refs.tooltip.hide(),this.isAnimating=!1)},handleMouseEnter(){this.isAnimating||(this.killMouseAnimation(),this.mouseAnimation=this.$refs.tooltip.show())},handleMouseLeave(){this.isAnimating||(this.killMouseAnimation(),this.mouseAnimation=this.$refs.tooltip.hide())},handleFocus(){this.handleMouseEnter(),this.isFocused=!0,this.$emit("focus")},handleBlur(){this.handleMouseLeave(),this.isFocused=!1},killMouseAnimation(){this.mouseAnimation&&this.mouseAnimation.kill()}}},Jr=i(323);var to={name:"BulletNavigation",components:{BulletButton:Object(T.a)(Qr,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{class:[t.$style.bulletButton,t.isButtonVisuallyHidden&&"visually-hidden"]},[i("button",{directives:[{name:"sound",rawName:"v-sound:mouseenter",value:t.$hoverSamples,expression:"$hoverSamples",arg:"mouseenter"},{name:"sound",rawName:"v-sound:click",value:t.SampleName.GENERAL_CLICK,expression:"SampleName.GENERAL_CLICK",arg:"click"}],class:["button",t.$style.button,t.isActive&&t.$style.isActive],attrs:{type:"button"},on:{click:t.handleClick,mouseenter:t.handleMouseEnter,mouseleave:t.handleMouseLeave,focus:t.handleFocus,blur:t.handleBlur}},[i("span",{class:t.$style.outline},[i("span",{class:t.$style.inside})]),t._v(" "),i("span",{class:t.$style.tooltipWrapper},[i("Tooltip",{ref:"tooltip",attrs:{label:t.$t(t.label)}})],1)])])}),[],!1,(function(t){this.$style=Jr.default.locals||Jr.default}),null,null).exports},extends:D.AbstractTransitionComponent,props:{sections:o.default.arrayOf(Object(o.shape)({id:Object(o.string)().isRequired,label:Object(o.string)().isRequired,active:bt().isRequired,type:Object(o.string)()})),totalProgress:o.default.number,isActive:o.default.bool},data:()=>({currentIndex:0}),watch:{totalProgress(){this.sections.forEach((t,e)=>{this.currentIndex=Rt(this.totalProgress,t.active)?e:this.currentIndex})},currentIndex(){this.setBulletRingPosition(!0),this.$refs.bullets[this.currentIndex].preview()},isActive(t){console.log("[BULLET NAV ACTIVE] "+t),t?this.show():this.hide()}},beforeDestroy(){this.ringTimeline&&this.ringTimeline.kill(),this.resizeListener()},methods:{handleAllComponentsReady(){this.transitionController=new jr(this),this.isReady(),this.setBulletRingPosition(!1),this.resizeListener=rt(this.$el,P()(this.handleResize,200)),this.isActive?this.show():this.hide(!0)},async setBulletRingPosition(t){await this.$nextTick(),this.ringTimeline&&this.ringTimeline.kill(),this.ringTimeline=this.transitionController.moveRing(t)},async handleClick(t){Wt("nav_hotspot",{room:Zt(this.$route),hotspot:this.sections[t].id}),this.$emit("scrollTo",this.sections[t].active[0])},handleResize(){this.setBulletRingPosition(!1)},handleFocus(){this.setBulletRingPosition(!1)},show(t=!1){return this.transitionController.showTransition(t)},hide(t=!1){return this.transitionController.hideTransition(t)}}},eo=i(324);var io=Object(T.a)(to,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("nav",{class:[t.$style.bulletNavigation],attrs:{"aria-label":t.$t("scene.buildingNavigation")}},[i("ol",{class:t.$style.list},t._l(t.sections,(function(e,s){return i("BulletButton",{key:"bullet-"+s,ref:"bullets",refInFor:!0,class:t.$style.bullet,attrs:{label:e.label,"is-active":t.currentIndex===s,type:e.type},on:{click:function(){return t.handleClick(s)},focus:function(e){return t.handleFocus(s)}}})})),1),t._v(" "),i("div",{ref:"bulletRing",class:t.$style.bulletRingWrapper},[i("Icon",{class:t.$style.bulletRing,attrs:{name:"bullet-ring"}})],1)])}),[],!1,(function(t){this.$style=eo.default.locals||eo.default}),null,null).exports;class so extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){const{content:s}=e.$refs;t.add(ie(e.$el,{to:1,duration:.3})),t.add(this.getTimeline(s))}setupTransitionOutTimeline(t,e,i){t.add(se(e.$el,{to:0,autoAlpha:!0,duration:.3}))}setupLoopingAnimationTimeline(t,e,i){}}class ao extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){const{facebookButton:s,twitterButton:a,linkButton:n}=e.$refs;t.add(ie(e.$el,{to:1,autoAlpha:!0}),0),t.add(this.getTimeline(s),.1),t.add(this.getTimeline(a),.2),t.add(this.getTimeline(n),.3)}setupTransitionOutTimeline(t,e,i){t.add(se(e.$el,{duration:.3}))}setupLoopingAnimationTimeline(t,e,i){}}const no={heading:"about.heading",description:"about.description",share:{heading:"about.share.heading"},learn:{heading:"about.learn.heading",items:[{label:"about.learn.items.first.label",href:"about.learn.items.first.href"},{label:"about.learn.items.second.label"},{label:"about.learn.items.third.label",href:"about.learn.items.third.href"},{label:"about.learn.items.fourth.label",href:"about.learn.items.fourth.href"}]},curated:{heading:"about.curated.heading",items:[{label:"about.curated.items.first.label"},{label:"about.curated.items.second.label"},{label:"about.curated.items.third.label"}]},experience:{heading:"about.experience.heading",items:[{label:"about.experience.items.first.label",description:"about.experience.items.first.description"},{label:"about.experience.items.second.label",description:"about.experience.items.second.description"},{label:"about.experience.items.third.label",description:"about.experience.items.third.description"},{label:"about.experience.items.fourth.label",description:"about.experience.items.fourth.description"},{label:"about.experience.items.fifth.label",description:"about.experience.items.fifth.description"}]}};var ro={name:"AboutContent",components:{Tooltip:Kr,PrimaryButton:xe},extends:D.AbstractTransitionComponent,computed:{link:()=>window.location.origin},created(){this.about=no},methods:{handleAllComponentsReady(){this.transitionController=new ao(this),this.isReady()},async copyToClipboard(){Wt("about_share",{sharePlatform:"link"}),navigator.clipboard.writeText(this.link),this.isMobile||(await this.$refs.tooltip.show(),await new Promise(t=>setTimeout(t,1e3)),await this.$refs.tooltip.hide())},onFacebookButtonClick(){Wt("about_share",{sharePlatform:"facebook"})},onTwitterButtonClick(){Wt("about_share",{sharePlatform:"twitter"})}}},oo=i(325);var lo=Object(T.a)(ro,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:[t.$style.aboutContent]},[i("div",{class:t.$style.col},[i("h1",{class:["heading-04",t.$style.heading],domProps:{innerHTML:t._s(t.$t(t.about.heading))}}),t._v(" "),i("p",{class:["copy-large serif",t.$style.copy],domProps:{innerHTML:t._s(t.$t(t.about.description))}}),t._v(" "),i("h3",{class:["heading-05",t.$style.subheading]},[t._v("\n      "+t._s(t.$t(t.about.share.heading))+"\n    ")]),t._v(" "),i("div",{class:t.$style.shareWrapper},[i("PrimaryButton",{ref:"facebookButton",attrs:{link:{type:t.LinkType.EXTERNAL_BLANK,target:"https://www.facebook.com/sharer/sharer.php?u="+t.link},type:t.ButtonType.LINK,icon:"facebook"},on:{click:t.onFacebookButtonClick}}),t._v(" "),i("PrimaryButton",{ref:"twitterButton",attrs:{link:{type:t.LinkType.EXTERNAL_BLANK,target:"https://twitter.com/intent/tweet?url="+t.link},type:t.ButtonType.LINK,icon:"twitter"},on:{click:t.onTwitterButtonClick}}),t._v(" "),i("PrimaryButton",{ref:"linkButton",attrs:{type:t.ButtonType.ACTION,icon:"link"},on:{click:t.copyToClipboard}}),t._v(" "),i("div",{class:t.$style.tooltipWrapper},[i("Tooltip",{ref:"tooltip",attrs:{label:"Copy to clipboard",align:"left"}})],1)],1)]),t._v(" "),i("div",{class:t.$style.col},[i("div",{class:t.$style.wrapper},[i("div",{class:t.$style.contentItem},[i("div",{class:["heading-05",t.$style.subheading]},[t._v("\n          "+t._s(t.$t(t.about.learn.heading))+"\n        ")]),t._v(" "),t._l(t.about.learn.items,(function(e,s){return[i(e.href?"a":"p",{key:"link-"+s,tag:"component",class:["copy-cta",t.$style.link],attrs:{href:e.href?t.$t(e.href):null,target:e.href?"_blank":null}},[t._v("\n            "+t._s(t.$t(e.label))+"\n          ")])]}))],2),t._v(" "),i("div",{class:t.$style.contentItem},[i("div",{class:["heading-05",t.$style.subheading]},[t._v("\n          "+t._s(t.$t(t.about.curated.heading))+"\n        ")]),t._v(" "),i("ul",{class:[t.$style.colList]},t._l(t.about.curated.items,(function(e,s){return i("li",{key:"curated-item-"+s,class:["copy-cta",t.$style.colItem]},[i("span",{class:[t.$style.itemLabel]},[t._v("\n              "+t._s(t.$t(e.label))+"\n            ")])])})),0)])]),t._v(" "),i("div",{class:["heading-05",t.$style.subheading]},[t._v("\n      "+t._s(t.$t(t.about.experience.heading))+"\n    ")]),t._v(" "),i("ul",{class:t.$style.list},t._l(t.about.experience.items,(function(e,s){return i("li",{key:"experience-item-"+s,class:["copy-cta",t.$style.item]},[i("span",{class:[t.$style.itemLabel]},[t._v("\n          "+t._s(t.$t(e.label))+"\n        ")]),t._v(" "),i("span",{class:t.$style.itemDescription},[t._v("\n          "+t._s(t.$t(e.description))+"\n        ")])])})),0)])])}),[],!1,(function(t){this.$style=oo.default.locals||oo.default}),null,null).exports,co={name:"AboutOutro",components:{ScrollPage:vt,AboutContent:lo},extends:Ct,data:()=>({isLocked:!0,progress:0}),created(){this.disposables=new N.DisposableManager},beforeDestroy(){this.disposables&&this.disposables.dispose()},watch:{isActive(){this.isActive?this.setCurrentActiveHotspot(this.config.id):this.setCurrentActiveHotspot(null)}},methods:{...Object(B.c)({setCurrentActiveHotspot:"app/setCurrentActiveHotspot"}),handleAllComponentsReady(){this.transitionController=new so(this),this.disposables.add(Object(it.addEventListener)(this.transitionController,D.TransitionEvent.types.TRANSITION_IN_COMPLETE,this.onTransitionInComplete),Object(it.addEventListener)(this.transitionController,D.TransitionEvent.types.TRANSITION_OUT_START,this.onTransitionOutStart)),this.isReady(),this.isActive&&this.transitionIn(!0)},onTransitionInComplete(){this.isLocked=!1},onTransitionOutStart(){this.isLocked=!0},onProgress(t){this.progress=t}}},ho=i(326);var uo=Object(T.a)(co,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:[this.$style.aboutOutro]},[e("ScrollPage",{class:this.$style.scroll,attrs:{direction:this.Direction.VERTICAL,isLocked:this.isLocked},on:{progress:this.onProgress}},[e("AboutContent",{ref:"content"})],1)],1)}),[],!1,(function(t){this.$style=ho.default.locals||ho.default}),null,null).exports,po={name:"AriaLive",props:{content:o.default.any}},mo=i(327);var fo=Object(T.a)(po,(function(){var t=this.$createElement;return(this._self._c||t)("div",{class:["visually-hidden",this.$style.ariaLive],attrs:{"aria-live":"polite"},domProps:{innerHTML:this._s(this.content)}})}),[],!1,(function(t){this.$style=mo.default.locals||mo.default}),null,null).exports;class go extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){t.add(ie(e.$el,{to:1,duration:.3}))}setupTransitionOutTimeline(t,e,i){t.add(se(e.$el,{to:0,autoAlpha:!0,duration:.3}))}setupLoopingAnimationTimeline(t,e,i){}}var vo={name:"AriaLiveNarration",extends:Ct,props:{data:o.default.shape({description:o.default.string})},watch:{isActive(t){t?this.$emit("updateAriaLiveContent",this.$t(this.data.description)):this.$emit("updateAriaLiveContent",null)}},methods:{handleAllComponentsReady(){this.transitionController=new go(this),this.isReady(),this.isActive&&this.$emit("updateAriaLiveContent",this.$t(this.data.description))}}},_o=i(328);var Ao=Object(T.a)(vo,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:[this.$style.ariaLiveNarration]},[e("h2",[this._v("AriaLiveNarration")])])}),[],!1,(function(t){this.$style=_o.default.locals||_o.default}),null,null).exports;class To extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){t.add(ie(e.$el,{duration:.01})),t.add(this.getTimeline("chapter"),0),t.add(fe(e.$refs.title),"<0.1"),t.add(this.getTimeline("backButton"),"<0.1")}setupTransitionOutTimeline(t,e,i){t.add(se(e.$el,{to:0,autoAlpha:!0,duration:.3})),t.add(this.getTimeline("backButton",Ve.TransitionDirection.OUT),"<"),t.add(this.getTimeline("chapter",Ve.TransitionDirection.OUT))}setupLoopingAnimationTimeline(t,e,i){}}var yo={name:"PreviousScene",components:{ChapterNumber:Zs,PrimaryButton:xe},extends:Ct,props:{data:o.default.shape({number:o.default.string,title:o.default.string}).isRequired},data:()=>({canBecomeActive:!1}),watch:{totalProgress(){!this.canBecomeActive&&this.totalProgress>this.config.active[1]&&(this.canBecomeActive=!0)}},mounted(){this.previousConfig=(t=>{const e=zr.findIndex(e=>e.id===t);return-1!==e?zr[e-1]:null})(this.sceneConfig.id)},methods:{handleAllComponentsReady(){this.transitionController=new To(this),this.isReady(),this.isActive&&this.transitionIn(!0)},async gotoPreviousScene(){this.previousConfig&&(this.transitionOut(),await this.$webgl.transitionOut(),this.$router.push({name:Gt.EXPERIENCE,params:{[C.SLUG]:this.previousConfig.id}}))},updateIsActive(){this.canBecomeActive&&(this.isActive=Rt(this.totalProgress,this.config.active))}}},Eo=i(329);var bo={name:"ExperiencePage",components:{AmbientLoop:Dt,ScrollPage:vt,SceneIntro:Qs,SceneOutro:ra,PastPresentHotspot:ms,SandsOfTimeHotspot:Bs,Inscription:is,Editorial:zi,BullCapital:Be,BulletNavigation:io,ReliefHotspot:ys,ColorOverlay:ke,RoyalLife:Ls,AboutOutro:uo,PreviousScene:Object(T.a)(yo,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["fill-screen",t.$style.previousScene]},[i("ChapterNumber",{ref:"chapter",class:t.$style.number,attrs:{number:t.data.number,"is-active":t.isActive,"aria-label":t.$t("scene.chapter").replace("[number]",""+t.data.number)}}),t._v(" "),i("h5",{ref:"title",class:["heading-04",t.$style.title]},[t._v("\n    "+t._s(t.$t(t.data.title))+"\n  ")]),t._v(" "),i("PrimaryButton",{ref:"backButton",class:t.$style.backButton,attrs:{type:t.ButtonType.ACTION,label:t.$t("scene.backToPreviousScene"),icon:"arrow-right"},on:{click:t.gotoPreviousScene}})],1)}),[],!1,(function(t){this.$style=Eo.default.locals||Eo.default}),null,null).exports,AriaLive:fo,AriaLiveNarration:Ao},extends:D.AbstractPageTransitionComponent,data:()=>({config:null,nextConfig:null,isInitialized:!1,progress:0,totalHeight:0,isScrollLocked:!1,loadProgress:0,ariaLiveContent:null,isHotspotActive:!1,isBulletNavigationActive:!1}),computed:{...Object(B.d)({currentActiveHotspot:({app:t})=>t.currentActiveHotspot,isNavigationOpen:({app:t})=>t.isNavigationOpen,isAboutTheProjectOpen:({app:t})=>t.isAboutTheProjectOpen}),sections(){var t;return null===(t=this.config)||void 0===t?void 0:t.components.reduce((t,{id:e,isNavigable:i,label:s,active:a,navigationActive:n})=>(i&&t.push({id:e,label:s,active:n||a}),t),[])}},watch:{isNavigationOpen(t){this.setScrollLocked(t)},isAboutTheProjectOpen(t){this.setScrollLocked(t)},currentActiveHotspot(t){this.isHotspotActive=!!t,this.isBulletNavigationActive=!t},config(){this.updateTotalHeight()},progress(t,e){this.updateCameraScroll(),1!==t&&clearTimeout(this.gotoNextTimeout),1===t&&e<1&&(this.gotoNextTimeout=setTimeout(this.gotoNextScene,500))}},created(){this.flow=D.FlowType.CROSS,this.disposables=new N.DisposableManager,this.disposables.add(rt(this.$el,P()(this.onResize,150))),this.topOverlayOpacity=0,this.hijackTransitionIn().then(t=>{this.transitionInReleaseMethod=t}),this.updatePage(this.$route)},beforeDestroy(){this.disposables.dispose()},beforeRouteUpdate(t,e,i){this.updatePage(t),i()},methods:{...Object(B.c)({setCurrentScene:"app/setCurrentScene",toggleAboutTheProject:"app/setToggleAboutTheProject",setCurrentActiveHotspot:"app/setCurrentActiveHotspot"}),async updatePage(t){this.setCurrentActiveHotspot(null);const e=t.params[C.SLUG]||Xt.GATE_OF_ALL_NATIONS,i=t.params[C.ID];if(jt("/experience/"+e),e){const t=zr.find(({id:t})=>t===e);if(t){let e=!1;this.isInitialized&&(e=!0,await this.beforePageChange()),this.isInitialized=!1,await this.allComponentsReady,this.onAsyncComponentsReadyPromise=this.updateRegistrableComponents(t=>{this.onAsyncComponentsReadyResolveMethod=t}),this.progress=0,this.loadProgress=0,this.config=t,this.nextConfig=(t=>{const e=zr.findIndex(e=>e.id===t);return-1!==e?zr[e+1]:null})(t.id),this.isScrollLocked=!0,this.setCurrentScene(t.id);let s=null;const a=new Promise(t=>{s=t});this.$music.updateScene(t.id),this.$webgl.loadAndPlayScene(t.sceneId,t=>{this.loadProgress=t},async()=>{this.loadProgress=1,this.isScrollLocked=!1,this.isBulletNavigationActive=!0,this.updateCameraScroll(),this.$webgl.transitionIn(()=>{},()=>{}),this.nextConfig&&this.$webgl.preloadScene(this.nextConfig.sceneId),await a;const t=this.config.components.find(({component:t})=>"SceneIntro"===t);if(e&&this.$sound.play(F.ENTERING_NEW_ROOM,h.UI),t){const[s]=t.active;this.$refs.scroll.scrollTo(Mt(s,this.totalHeight,this.config.scrollHeight,window.innerHeight),e?2e3:3e3,()=>{i&&this.scrollToComponent(i)})}else i&&this.scrollToComponent(i)}),await this.$nextTick(),this.isInitialized=!0,this.onAsyncComponentsReadyResolveMethod(),await this.onAsyncComponentsReadyPromise,await D.FlowManager.flowHijacked,this.transitionInReleaseMethod(),this.afterPageChange(e),s()}else setTimeout(()=>{this.$router.replace({name:Gt.INTRO})})}},handleAllComponentsReady(){this.transitionController=new Xr(this),this.isReady(),this.$webgl.setOverlayColor(.106,.047,.094,.2)},beforePageChange(){return this.isBulletNavigationActive=!1,this.transitionOut()},async afterPageChange(t){t&&await this.transitionIn(!0)},updateTotalHeight(){if(this.config){const t=Math.min(window.innerHeight,1e3);this.totalHeight=t+this.config.scrollHeight*t*.7}},onProgress(t){this.progress=t},onLockScroll(){this.isScrollLocked=!0},onUnlockScroll(){this.isScrollLocked=!1},onResize(){this.updateTotalHeight()},updateCameraScroll(){const t=((t,e)=>{const i=Gr([...e]).reverse().find(e=>t>=e.scroll[0]);if(i){const e=i.ease||Hr;return wt(e(xt(t,i.scroll)),i.camera)}return 0})(this.progress,this.config.cameraScroll);this.$webgl.normalizedProgress=t},gotoNextScene(){this.nextConfig&&this.$router.push({name:Gt.EXPERIENCE,params:{[C.SLUG]:this.nextConfig.id}})},scrollTo(t,e=1){this.$refs.scroll.scrollTo(Mt(t,this.totalHeight,this.config.scrollHeight,window.innerHeight),e)},scrollToComponent(t){const e=this.config.components.find(({id:e})=>e===t);if(e){const[t]=e.active;this.$refs.scroll.scrollTo(Mt(t,this.totalHeight,this.config.scrollHeight,window.innerHeight),1)}},updateAriaLiveContent(t){this.ariaLiveContent=t},handleIntroContinueClick(){this.scrollToComponent(this.config.components[1].id)},isComponentInert(t){return null!==this.currentActiveHotspot&&this.currentActiveHotspot!==t},async handleOutroContinueClick(){this.scrollTo(1,2500)},setScrollLocked(t){var e;t?(this.wasScrollLocked=this.isScrollLocked,this.isScrollLocked=!0):this.isScrollLocked=null!==(e=this.wasScrollLocked)&&void 0!==e&&e}}},Ro=i(330);var xo=Object(T.a)(bo,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:[t.$style.experiencePage]},[i("AriaLive",{ref:"ariaLive",attrs:{content:t.ariaLiveContent}}),t._v(" "),t.isInitialized?i("ScrollPage",{ref:"scroll",class:[t.$style.scrollWrapper],attrs:{direction:t.Direction.VERTICAL,"is-locked":t.isScrollLocked,"is-limited":!0,"show-progress":!0},on:{progress:t.onProgress},scopedSlots:t._u([{key:"fixed",fn:function(){return[t._l(t.config.components,(function(e){return[i(e.component,{key:e.id,ref:"component",refInFor:!0,tag:"component",attrs:{inert:t.isComponentInert(e.id),data:e.data,config:e,"scene-config":t.config,"total-progress":t.progress,"total-height":t.totalHeight,"load-progress":t.loadProgress},on:{lockScroll:t.onLockScroll,unlockScroll:t.onUnlockScroll,updateAriaLiveContent:t.updateAriaLiveContent,introContinueClick:t.handleIntroContinueClick,outroContinueClick:t.handleOutroContinueClick}})]}))]},proxy:!0}],null,!1,3420267701)},[t._v(" "),i("div",{ref:"content",class:t.$style.content,style:{height:t.totalHeight+"px"}})]):t._e(),t._v(" "),t.isInitialized&&t.sections.length>0?i("BulletNavigation",{ref:"bulletNavigation",attrs:{"is-active":t.isBulletNavigationActive,sections:t.sections,"total-progress":t.progress,inert:!t.isBulletNavigationActive},on:{scrollTo:t.scrollTo}}):t._e()],1)}),[],!1,(function(t){this.$style=Ro.default.locals||Ro.default}),null,null).exports,wo=i(208),Oo=i.n(wo);class So extends D.AbstractTransitionController{toggleActiveLine(t,e=null){const{line:i}=this.parentController.$refs,s=U.default.timeline();return null!==e&&s.add(se(i[e])),s.add(me(i[t],!1,!1,!0)),s}startTransitionOut(){const t=U.default.timeline(),{texts:e}=this.parentController.$refs,{scroll:i}=this.parentController.$refs;return t.add(se([e,i.$el])),t.add(se(this.parentController.$el,{duration:.01}),4),t}setupTransitionInTimeline(t,e,i){t.add(()=>{},.01)}setupTransitionOutTimeline(t,e,i){}setupLoopingAnimationTimeline(t,e,i){}}const Io=()=>ji("{$versionRoot}video/{deviceState}/intro_masked.mp4",p("configManager").getVariable(S.VERSIONED_STATIC_ROOT),Xi().state.app.deviceState);var Mo={name:"HomePage",components:{ScrollPage:vt,ScrollIndicator:Xs},extends:D.AbstractPageTransitionComponent,data:()=>({videoSrc:Oo.a.get(Io()),isScrollLocked:!0,isScrollInstructionVisible:!1,activeTextIndex:0}),computed:{textLines(){return this.$store.getters.translation.preloader.scrollVideoCopy}},watch:{activeTextIndex(t,e){this.transitionController.toggleActiveLine(t,e)}},async created(){this.flow=D.FlowType.CROSS,jt("/intro")},methods:{handleAllComponentsReady(){this.transitionController=new So(this),this.loadInterval=setInterval(this.checkVideoReadyState,16.6667),this.isReady()},async transitionIn(t){await this.transitionController.transitionIn(t)},async transitionOut(t){this.transitionController.transitionOut(t),await this.transitionController.startTransitionOut(),Oo.a.remove(Io()),this.$webgl.setIntroVideo(void 0)},async checkVideoReadyState(){this.$refs.video.readyState>=2&&(clearInterval(this.loadInterval),setTimeout(()=>{this.$webgl.setIntroVideo(this.$refs.video),this.$refs.video.pause(),this.$webgl.setPreloaderDone(),this.unLockScroll()},200))},async unLockScroll(){this.cancelFirstPlayEvent=!0,await this.transitionController.toggleActiveLine(0).then(()=>{}),this.isScrollLocked=!1,this.showScrollIndicatorTimeout=setTimeout(()=>{this.isScrollInstructionVisible=!0},700)},async onFirstPlay(){this.cancelFirstPlayEvent||(this.cancelFirstPlayEvent=!0,this.$refs.video.pause(),await this.$nextTick())},onVideoEnded(){this.$webgl.setIntroVideo(void 0)},async onScrollProgress(t){if(!this.isScrollLocked)if(this.activeTextIndex=Math.min(Math.floor(this.textLines.length*t),this.textLines.length-1),t>.05&&(clearTimeout(this.showScrollIndicatorTimeout),this.isScrollInstructionVisible=!1),t>=1)this.isScrollLocked=!0,await this.$refs.video.play(),this.$webgl.play(),this.$router.push({name:this.RouteNames.EXPERIENCE});else{this.$refs.video.paused||this.$refs.video.pause();const{duration:e}=this.$refs.video;this.$refs.video.currentTime=e*(.8*t)}}}},Co=i(331);var Lo=Object(T.a)(Mo,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["abs-fill",t.$style.homePage]},[i("div",{ref:"canvasContainer",class:t.$style.canvasContainer},[i("video",{ref:"video",attrs:{src:t.videoSrc,playsinline:"",muted:"",autoplay:"false",preload:"auto"},domProps:{muted:!0},on:{"~play":function(e){return t.onFirstPlay(e)},ended:t.onVideoEnded}})]),t._v(" "),i("ul",{ref:"texts",class:["abs-fill",t.$style.texts]},t._l(t.textLines,(function(e,s){return i("li",{key:"line-"+s,ref:"line",refInFor:!0,class:["heading-04",t.$style.text]},[t._v("\n      "+t._s(e)+"\n    ")])})),0),t._v(" "),i("ScrollIndicator",{class:t.$style.scrollIndicator,attrs:{"is-active":t.isScrollInstructionVisible,"enable-aria":!1,"aria-label":t.$t("scene.scrollToContinue"),label:"scene.scrollToContinue"}}),t._v(" "),i("ScrollPage",{ref:"scroll",class:t.$style.scroll,attrs:{direction:t.Direction.VERTICAL,"is-locked":t.isScrollLocked,"is-forward-only":!1,"show-progress":!0},on:{progress:t.onScrollProgress}},[i("div",{class:t.$style.scrollContent})])],1)}),[],!1,(function(t){this.$style=Co.default.locals||Co.default}),null,null).exports;class Po extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){}setupTransitionOutTimeline(t,e,i){}setupLoopingAnimationTimeline(t,e,i){}}var No={name:"WebglPage",extends:D.AbstractPageTransitionComponent,methods:{handleAllComponentsReady(){this.transitionController=new Po(this),this.isReady()}}},Do=i(332);var Bo=Object(T.a)(No,(function(){var t=this.$createElement;return(this._self._c||t)("div",{class:[this.$style.webglPage]})}),[],!1,(function(t){this.$style=Do.default.locals||Do.default}),null,null).exports,Fo=[{path:"/",component:Lo,name:Gt.HOME},{path:`/experience/:${C.SLUG}?/:${C.ID}?`,component:xo,name:Gt.EXPERIENCE},{path:"/webgl",component:Bo,name:Gt.WEBGL}];s.default.use(E.a);let $o=null;var Uo=()=>{let t=!0;if(!$o){const e=M(),i=p("configManager"),s=e.localeEnabled&&e.localeRoutingEnabled?Object(a.routeParser)(Fo,i.getProperty(I.DEFAULT_LOCALE)):Fo.concat({path:"*",redirect:"/"});t=i.getEnvironment()===b,$o=new E.a({mode:t?"abstract":"history",routes:s,base:i.getVariable(S.PUBLIC_PATH)}),$o.beforeEach((t,e,s)=>{const a=i.getProperty(I.PERSIST_QUERY_PARAMS);let n=!1;const{...r}=t.query;a&&a.length>0&&a.forEach(t=>{"undefined"!==typeof e.query[t]&&"undefined"===typeof r[t]&&(r[t]=e.query[t],n=!0)}),n?s({path:t.path,query:r}):s()})}return t&&$o.push("/"),$o},ko=i(209),Vo=i.n(ko),zo=i(210),Ho=i.n(zo),Go=i(492);class Xo extends G.a{transformDelta(t){return this.options.isLimited?{x:U.default.utils.clamp(-150,150,t.x),y:U.default.utils.clamp(-150,150,t.y)}:t}onRender(t){this.options.isLimited&&this.scrollbar.setMomentum(U.default.utils.clamp(-100,100,t.x),U.default.utils.clamp(-100,100,t.y))}}Xo.pluginName="limit",Xo.defaultOptions={isLimited:!1};var jo=Xo;class Wo extends G.a{transformDelta(t){return this.options.isLock?{x:0,y:0}:t}}Wo.pluginName="lock",Wo.defaultOptions={isLock:!1};var Yo=Wo;class Zo extends G.a{transformDelta(t){return this.options.isForwardOnly?{x:Math.max(0,t.x),y:Math.max(0,t.y)}:t}}Zo.pluginName="forward",Zo.defaultOptions={isForwardOnly:!1};var qo=Zo,Ko={install(t,e){Object.keys(e).forEach(i=>{t.prototype[i]?console.error(`Skipping ${i}. ${i} already exists on the Vue prototype`):Object.defineProperty(t.prototype,i,{get:()=>e[i]})})}};const Qo=(t,e={},i={})=>{const s={...i,...e};return t.replace(/:(\w+)/g,(t,e)=>"undefined"!==typeof s[e]?s[e]||"":t).replace(/\/:(\w+\?+)/g,()=>"").replace(/\?/g,()=>"").replace(/:(\w+)/g,(t,e)=>{throw new Error(`Param "${e}" is missing in params`,s)})},Jo=[];let tl;var el={isLoaded:t=>Jo.includes(t),setLoadCallback(t){tl=t},getTranslation:({translationKey:t,code:e})=>i(837)(`./${t}.json`).then(t=>(Jo.push(e),tl&&setTimeout(()=>{tl(e)}),t))};U.default.registerPlugin(Go.a,H.a,Oe.a,z.a),G.b.use(Yo,jo,qo);const il=t=>new Promise(e=>{el.isLoaded(t.getters.currentLanguage.code)?e():el.setLoadCallback(i=>{i===t.getters.currentLanguage.code&&e()})});var sl=t=>{(()=>{const t=p("configManager"),e=Object.keys(Le.mediaQueries).reduce((t,e)=>(t[e]=Le.mediaQueries[e].replace(/'/g,""),t),{});s.default.use(Ko,{$config:t,$gateway:p("gateway"),$preloader:p("preloader"),$webgl:p("webglManager"),$sound:p("soundManager"),$audioPlayer:p("audioPlayer"),$music:p("musicManager"),$http:Vo.a,$versionRoot:t.getVariable(S.VERSIONED_STATIC_ROOT),$staticRoot:t.getVariable(S.STATIC_ROOT),$hoverSamples:[F.GENERAL_HOVER_1,F.GENERAL_HOVER_2,F.GENERAL_HOVER_3],URLNames:O,PropertyNames:I,VariableNames:S,RouteNames:Gt,Direction:k,Params:C,ButtonType:_e,SampleName:F,LinkType:Ae,createPath:Qo,formatPath:ji,formatImage:Wi,CursorState:ls,$deviceStateTracker:new Ho.a({mediaQueries:e,deviceState:Le.deviceState,showStateIndicator:!1}),DeviceState:Le.deviceState})})();const e=p("configManager");return Promise.all([ha.checkWebpSupported(),ha.checkAvifSupported(),e.getVariable(S.LOCALE_ENABLED)?il(t):Promise.resolve(),Promise.resolve()]).then(([e,i])=>{t.commit("app/setImageSupported",{webp:e,avif:i})})},al=i(493),nl=i.n(al),rl=i(494);class ol{constructor(){this.audio=new Audio,this.subtitles=[],this.currentSubtitle="",this.onTimeUpdate=()=>{var t,e,i,s,a,n;const r=isNaN(this.audio.duration)?0:this.audio.duration,o=this.audio.currentTime;null===(e=null===(t=this.options)||void 0===t?void 0:t.onProgress)||void 0===e||e.call(t,r?o/r:0,o,r);const l=this.subtitles.find(({from:t,to:e})=>1e3*o>=t&&1e3*o<e);l&&l.text!==this.currentSubtitle?(this.currentSubtitle=l.text,null===(s=null===(i=this.options)||void 0===i?void 0:i.onSubtitleUpdate)||void 0===s||s.call(i,this.currentSubtitle)):!l&&this.currentSubtitle&&(this.currentSubtitle="",null===(n=null===(a=this.options)||void 0===a?void 0:a.onSubtitleUpdate)||void 0===n||n.call(a,this.currentSubtitle))},this.onPlay=()=>{var t,e;null===(e=null===(t=this.options)||void 0===t?void 0:t.onPlay)||void 0===e||e.call(t)},this.onPause=()=>{var t,e;null===(e=null===(t=this.options)||void 0===t?void 0:t.onPause)||void 0===e||e.call(t)},this.onEnded=()=>{var t,e;this.audio.currentTime=0,null===(e=null===(t=this.options)||void 0===t?void 0:t.onPause)||void 0===e||e.call(t)},this.audio.addEventListener("timeupdate",this.onTimeUpdate),this.audio.addEventListener("play",this.onPlay),this.audio.addEventListener("pause",this.onPause),this.audio.addEventListener("ended",this.onEnded)}setVolume(t){this.audio.volume=t}pause(){this.audio.pause()}resume(){this.audio.play()}stop(){var t,e;null===(e=null===(t=this.options)||void 0===t?void 0:t.onStop)||void 0===e||e.call(t),this.options=void 0,this.src=void 0,this.audio.currentTime=0,this.pause()}async play(t,e){this.src&&this.stop(),this.src=t,this.options=e,this.audio.src=t,this.audio.play(),this.loadSubtitle()}async loadSubtitle(){var t;if(null===(t=this.options)||void 0===t?void 0:t.subtitle)try{const t=await fetch(this.options.subtitle);t.ok&&this.options.subtitle&&(this.subtitles=Object(rl.parse)(await t.text()).entries),this.currentSubtitle=""}catch(e){}else this.subtitles=[],this.currentSubtitle=""}}class ll extends class{constructor(t){this.options=t,this.isActive=!1,this.loop=null,this.startTime=0}start(){const{sample:t,channel:e,soundManager:i}=this.options;this.loop=i.play(t,e,0,0,!0,!1),this.startTime=this.currentContextTime}activate(t){this.isActive=!1}deactivate(t){this.isActive=!1}get duration(){var t;return(null===(t=this.loop)||void 0===t?void 0:t.sample.audioBuffer.duration)||0}get currentTime(){var t;return(null===(t=this.loop)||void 0===t?void 0:t.context.currentTime)||0-this.startTime}get currentContextTime(){var t;return(null===(t=this.loop)||void 0===t?void 0:t.context.currentTime)||0}get currentLoop(){return Math.floor(this.currentTime/this.duration)}fadeIn(){this.fade(1,this.options.fadeInDuration)}fadeOut(){this.fade(0,this.options.fadeOutDuration)}crossFadeIn(){this.fade(1,this.options.crossFadeInDuration)}crossFadeOut(){this.fade(0,this.options.crossFadeOutDuration)}fade(t,e){this.loop&&At(this.loop.gain,t,e,()=>{this.loop&&(this.loop.gain.gain.value=t)})}}{activate(t){super.activate(t),t?this.crossFadeIn():this.fadeIn()}deactivate(t){super.deactivate(t),t?this.crossFadeOut():this.fadeOut()}}const cl={fadeInDuration:3,fadeOutDuration:3,crossFadeInDuration:3,crossFadeOutDuration:3},hl={intro:F.INTRO_LOOP,[Xt.GATE_OF_ALL_NATIONS]:F.GATE_OF_ALL_NATIONS_LOOP,[Xt.THE_APADANA]:F.APADANA_LOOP,[Xt.PALACE_OF_XERXES]:F.PALACE_OF_XERXES_LOOP,[Xt.HALL_OF_100_COLUMNS]:F.HALL_OF_A_100_COLUMNS_LOOP,[Xt.ROYAL_TREASURY]:F.APADANA_LOOP,[Xt.SOUTH_EASTERN_PALACE]:F.SOUTH_EASTERN_PALACE_LOOP};class dl{constructor(t){this.options=t,this.scene=null,this.isStarted=!1,this.loops={}}updateScene(t){if(this.scene===t)return;const e=this.scene;this.scene=t,this.isStarted&&this.updateLoops(e)}start(){this.isStarted||(this.isStarted=!0,this.createLoops(),this.startLoops(),setTimeout(()=>{this.updateLoops()},150))}createLoops(){const t=Object.assign(Object.assign({},this.options),cl);this.loops[F.INTRO_LOOP]=new ll(Object.assign(Object.assign({},t),{sample:F.INTRO_LOOP})),this.loops[F.GATE_OF_ALL_NATIONS_LOOP]=new ll(Object.assign(Object.assign({},t),{sample:F.GATE_OF_ALL_NATIONS_LOOP})),this.loops[F.APADANA_LOOP]=new ll(Object.assign(Object.assign({},t),{sample:F.APADANA_LOOP})),this.loops[F.PALACE_OF_XERXES_LOOP]=new ll(Object.assign(Object.assign({},t),{sample:F.PALACE_OF_XERXES_LOOP})),this.loops[F.SOUTH_EASTERN_PALACE_LOOP]=new ll(Object.assign(Object.assign({},t),{sample:F.SOUTH_EASTERN_PALACE_LOOP})),this.loops[F.HALL_OF_A_100_COLUMNS_LOOP]=new ll(Object.assign(Object.assign({},t),{sample:F.HALL_OF_A_100_COLUMNS_LOOP}))}startLoops(){var t,e,i,s,a,n;null===(t=this.loops[F.INTRO_LOOP])||void 0===t||t.start(),null===(e=this.loops[F.GATE_OF_ALL_NATIONS_LOOP])||void 0===e||e.start(),null===(i=this.loops[F.APADANA_LOOP])||void 0===i||i.start(),null===(s=this.loops[F.PALACE_OF_XERXES_LOOP])||void 0===s||s.start(),null===(a=this.loops[F.SOUTH_EASTERN_PALACE_LOOP])||void 0===a||a.start(),null===(n=this.loops[F.HALL_OF_A_100_COLUMNS_LOOP])||void 0===n||n.start()}updateLoops(t=null){const e=!!t;if(t){const i=this.getLoopByScene(t);i&&i.deactivate(e)}if(this.scene){const t=this.getLoopByScene(this.scene);t&&t.activate(e)}}getLoopByScene(t){return this.loops[hl[t]]}}const ul={environments:{[b]:{variables:{},urls:{}},[x]:{extends:b,variables:{},urls:{}},[R]:{extends:x,variables:{},urls:{}},[w]:{extends:R,variables:{},urls:{}}},variables:{[S.LOCALE_ENABLED]:!0,[S.LOCALE_ROUTING_ENABLED]:!1,[S.VERSIONED_STATIC_ROOT]:(window.webpackPublicPath||"/")+"version/1654001264885/static/",[S.STATIC_ROOT]:(window.webpackPublicPath||"/")+"",[S.PUBLIC_PATH]:window.webpackPublicPath||"/"},urls:{[O.API]:"/api/"},properties:{[I.DEFAULT_LOCALE]:"en_US",[I.AVAILABLE_LOCALES]:["en_US","ar","es","fa","fr","hi","zh_Hans","zh_Hant"],[I.PERSIST_QUERY_PARAMS]:[]}};let pl=b;const{host:ml}=document.location;switch(ml.split(":").shift()){case"localhost":pl=w;break;case"getty-persepolis.eu.dev.monkapps.com":case"getty-persepolis-development.eu.dev.monkapps.com":pl=R;break;default:pl=b}var fl={config:ul,environment:pl};var gl=i(495),vl=i.n(gl),_l=i(104),Al=i.n(_l);class Tl extends la.a{constructor(){super(),this.taskLoaderOptions=null,this.versionRoot=p("configManager").getVariable(S.VERSIONED_STATIC_ROOT),this.tasks=[],this.taskLoader=new vl.a,this.taskLoader.addEventListener(Al.a.UPDATE,this.onUpdate.bind(this)),this.taskLoader.addEventListener(Al.a.COMPLETE,this.onComplete.bind(this))}addTask(t){this.tasks.push(t)}start(t){return this.loadTasks(this.tasks,t)}onUpdate(t){this.taskLoaderOptions&&this.taskLoaderOptions.onUpdate&&this.taskLoaderOptions.onUpdate(t.data.progress)}onComplete(t){this.taskLoaderOptions&&this.taskLoaderOptions.onComplete&&this.taskLoaderOptions.onComplete()}loadTasks(t,e){return this.taskLoaderOptions=e||null,this.taskLoader.loadTasks(t)}}var yl=i(496),El=i.n(yl),bl=i(497),Rl=i.n(bl);const xl=window.AudioContext||window.webkitAudioContext;class wl extends(Object(oa.createEventClass)()("CONTEXT_UNLOCKED")){}class Ol extends la.a{constructor(t,e){super(),this.channels={},this.isMuted=!1,this.isMusicMuted=!1,Ol.WEBAUDIO_ENABLED&&(this.context=new xl,this.sampleManager=new El.a(this.context,t,e),window.addEventListener("click",()=>{this.initAudioContext()},{once:!0}))}initAudioContext(){Ol.WEBAUDIO_ENABLED&&("suspended"===this.context.state&&this.context.resume(),this.dispatchEvent(new wl(wl.types.CONTEXT_UNLOCKED)))}on3DSoundOrienationChange(t){Ol.WEBAUDIO_ENABLED&&((t,e)=>{if(!e)return;const{listener:i}=t;if(i.forwardX){const s=t.currentTime+.1;i.forwardX.linearRampToValueAtTime(e.forward[0],s),i.forwardY.linearRampToValueAtTime(e.forward[1],s),i.forwardZ.linearRampToValueAtTime(e.forward[2],s),e.position&&(i.positionX.linearRampToValueAtTime(e.position[0],s),i.positionY.linearRampToValueAtTime(e.position[1],s),i.positionZ.linearRampToValueAtTime(e.position[2],s)),i.upX.linearRampToValueAtTime(e.up[0],s),i.upY.linearRampToValueAtTime(e.up[1],s),i.upZ.linearRampToValueAtTime(e.up[2],s)}else e.position&&i.setPosition(e.position[0],e.position[1],e.position[2]),i.setOrientation(e.forward[0],e.forward[1],e.forward[2],e.up[0],e.up[1],e.up[2])})(this.context,t)}stop(t,e,i=0){if(Ol.WEBAUDIO_ENABLED){const s=this.getChannelByName(e).playingSamples.find(e=>e.sample.name===t);s&&Tt(s,i)}}playRandomQueue(t,e="",i=1,s=0,a=!1,n=!1,r,o=null,l=null){let h;if(h=r&&0!==r.length?r:[...t],h.length>0){const r=c()(h),d=h.indexOf(r);h.splice(d,1);const u=this.play(r,e,i,s,!1,n,l);u&&(u.bufferSource.onended=()=>{const r=()=>{a&&0===h.length&&(h=[...t]),h.length>0&&this.playRandomQueue(t,e,i,s,a,n,h,o,l)};o?setTimeout(()=>{r()},1e3*Rl()(o[0],o[1])):r()})}}play(t,e="",i=1,s=0,a=!1,n=!1,r=null){if(Ol.WEBAUDIO_ENABLED){const o=this.sampleManager.getSampleByName(t);if(!o)throw new Error("Cannot find sample '"+t);const l=this.getChannelByName(e);if(l&&l.playingSamples.length>0){const e=l.playingSamples.find(e=>e.sample.name===t);if(e&&(l.isMonophonic&&e.bufferSource.loop&&a||n))return e}const c=((t,e,i,s,a,n,r)=>{if(!e.audioBuffer)throw new Error(`Sample '${e.name}' is not loaded`);const o=t.createBufferSource(),l=t.createGain(),c=i?i.gain:t.destination;o.connect(l),o.buffer=e.audioBuffer,o.loop=n;const h={context:t,sample:e,bufferSource:o,gain:l,channel:i||void 0};if(r){const e=t.createPanner();e.panningModel="HRTF",e.distanceModel="linear",((t,e)=>{t.positionX?(t.positionX.value=e[0],t.positionY.value=e[1],t.positionZ.value=e[2]):t.setPosition(e[0],e[1],e[2])})(e,r),l.connect(e),e.connect(c),h.panner=e}else l.connect(c);if(a){const t={value:0};l.gain.setValueAtTime(t.value,0);const e=_t.w.to(t,a,{value:s,ease:_t.h.easeNone,onUpdate:()=>{l.gain.setValueAtTime(t.value,e.time())}})}else l.gain.setValueAtTime(s,0);return o.start(0),h})(this.context,o,l,i,s,a,r);return l&&(l.isMonophonic&&l.playingSamples.forEach(t=>Tt(t,l.monophonicFadeOutTime)),l.playingSamples.push(c),c.bufferSource.onended=()=>{yt(c)}),c}return null}getChannelByName(t){const e=t?this.channels[t]:null;if(!e)throw new Error(`Channel with name '${t}' does not exist`);return e}stopAllOnChannel(t,e=0){((t,e=0)=>{t.playingSamples.forEach(t=>Tt(t,e))})(this.getChannelByName(t),e)}addFadeToSamples(t){t.forEach(t=>{const e=this.sampleManager.getSampleByName(t);var i;e&&e.audioBuffer&&(i=e.audioBuffer,Array(i.numberOfChannels).fill(null).forEach((t,e)=>{Et(i.getChannelData(e),i.sampleRate,.01)}))})}muteChannel(t,e,i=0,s=!1){if(Ol.WEBAUDIO_ENABLED){const a=this.getChannelByName(t);if(a){const t=e?Math.min(i,a.initialVolume):a.initialVolume;At(a.gain,t,s?0:.25,()=>{a.gain.gain.value=t})}}}muteAllChannels(t,e=!1){this.isMuted=t,Ol.WEBAUDIO_ENABLED&&Object.keys(this.channels).forEach(i=>{i===h.MUSIC?this.muteChannel(i,this.isMusicMuted||t,t?0:.5,e):i!==h.MUSIC&&this.muteChannel(i,t,0,e)})}muteMusic(t){this.isMusicMuted=t,this.isMuted||this.muteChannel(h.MUSIC,this.isMusicMuted,.3)}createChannel(t,e=1,i=!1,s=0){if(Ol.WEBAUDIO_ENABLED){if(""===t)throw new Error("Channel name cannot be blank");if(this.channels[t])throw new Error(`Channel '${t}' already exists`);if(s<0)throw new Error("monophonicFadeOutTime can not be negative");const a=this.context.createGain();a.gain.setValueAtTime(e,0),a.connect(this.context.destination),a.connect(this.context.destination),this.channels[t]={initialVolume:e,isMonophonic:i,monophonicFadeOutTime:s,name:t,gain:a,playingSamples:[]}}}}Ol.WEBAUDIO_ENABLED=void 0!==(window.AudioContext||window.webkitAudioContext);var Sl=()=>{const t=new nl.a;t.init(fl.config,fl.environment);const e=ko.create({baseURL:t.getURL(O.API),headers:{Accept:"application/json"},responseType:"json"});e.interceptors.response.use(t=>(t=>t&&t.data&&"undefined"!==typeof t.data.data?{...t,...t.data}:t)(t),t=>{throw(t=>{if(t&&t.response&&t.response.data&&t.response.data.error){const e={config:t.config,...t.response,...t.response.data};return delete e.data,e}return t})(t)});const i=new Ol(t.getVariable(S.VERSIONED_STATIC_ROOT)+"audio/",Y()||(()=>{if(!j())return X.navigator||(X.navigator=window.navigator),/iP(hone|od|ad)/.test(X.navigator.platform)})()?"mp3":"ogg");u("configManager",t),u("preloader",new Tl),u("webglManager",new Vr),u("gateway",e),u("soundManager",i),u("audioPlayer",new ol),u("musicManager",new dl({channel:h.MUSIC,soundManager:i}))};class Il extends D.AbstractTransitionController{showContent(){const t=U.default.timeline(),{title:e,description:i,caption:s,arrowDown:a}=this.parentController.$refs;return t.add(se([e,i,a],{to:1,duration:.3})),s&&t.add(se(s,{to:1,duration:.3}),"<"),t}hideContent(){const t=U.default.timeline(),{title:e,description:i,caption:s,arrowDown:a}=this.parentController.$refs;return t.add(se([e,i,a],{to:0,duration:.3})),s&&t.add(se(s,{to:0,duration:.3}),"<"),t}setupTransitionInTimeline(t,e,i){const{background:s,title:a,description:n,caption:r,arrowDown:o,container:l}=e.$refs;t.add(ie(e.$el,{to:1,duration:.01}),0),t.add(this.getTimeline(s),0),l&&t.add(ie(l,{to:1,duration:.2}),.1),a&&t.add(fe(a,!0),.7),o&&t.add(pe(o),">-1"),n&&t.add(pe(n),"<0.1"),r&&t.add(pe(r),"<0.1")}setupTransitionOutTimeline(t,e,i){const{background:s}=e.$refs;t.add(se(e.$refs.container,{to:0,duration:.3})),t.add(this.getTimeline(s,gi.a.OUT),"<0.1"),t.add(se(e.$el,{to:0,autoAlpha:!0,duration:.3}))}setupLoopingAnimationTimeline(t,e,i){}}var Ml=i(86);U.default.registerPlugin(Ml.a);class Cl extends D.AbstractTransitionController{openImageTransition(){const t=U.default.timeline(),{image:e,imageWrapper:i,zoom:s,label:a,insideLabel:n,positionDetails:r}=this.parentController.$refs,o=Ml.a.getState(U.default.utils.toArray(e));return t.fromTo(this.parentController.$el,{css:{pointerEvents:"none"}},{css:{pointerEvents:"auto"},duration:.01}),t.set(s,{autoAlpha:1},0),i.appendChild(e),Ml.a.from(o,{targets:e,duration:1,absolute:!0,zIndex:2,ease:re.JorisInOut}),t.add(()=>{this.parentController.initDraggable()}),t.to(a,{autoAlpha:0,duration:.1},0),t.to([n,r],{autoAlpha:1,duration:.3}),t}closeImageTransition(){const t=U.default.timeline(),{image:e,thumbnail:i,zoom:s,label:a,insideLabel:n,positionDetails:r}=this.parentController.$refs,o=Ml.a.getState(U.default.utils.toArray(e));return i.appendChild(e),t.to(this.parentController.$el,{css:{pointerEvents:"none"},duration:.01}),Ml.a.from(o,{targets:e,duration:1,ease:re.JorisInOut,absolute:!0,zIndex:2}),t.set(s,{autoAlpha:0},1),t.to([n,r],{autoAlpha:0,duration:.1},0),t.to(a,{autoAlpha:1,duration:.3},.2),t}setupTransitionInTimeline(t,e,i){const{zoom:s,insideLabel:a,positionDetails:n}=e.$refs;t.set([a,n,s],{autoAlpha:0}),t.add(ie(e.$el,{to:1,duration:.6}),1.2)}setupTransitionOutTimeline(t,e,i){}setupLoopingAnimationTimeline(t,e,i){}}var Ll={name:"ArtDetailImage",extends:D.AbstractTransitionComponent,props:{image:o.default.string},data:()=>({isOpen:!1,naturalImageWidth:1920,maxZoomWidth:1920}),beforeDestroy(){this.draggable&&this.draggable.kill(),this.resizeListener()},methods:{...Object(B.c)({setIsCloseActive:Vt}),handleAllComponentsReady(){this.transitionController=new Cl(this),this.isReady(),this.resizeListener=rt(this.$el,this.onResize)},async handleImageClick(){this.isOpen=!0,await this.$emit("open"),this.$sound.play(F.GENERAL_CLICK,h.UI),this.onResize(),this.transitionController.openImageTransition(),this.setIsCloseActive({active:!0,callback:this.handleImageClose,animate:!1})},async handleImageClose(){this.isOpen=!1,this.stopDraggable(),await this.transitionController.closeImageTransition(),this.$emit("close"),U.default.set(this.$refs.imageWrapper,{clearProps:"all"}),U.default.set(this.$refs.box,{clearProps:"top,left"})},async initDraggable(){[this.draggable]=Oe.a.create(this.$refs.imageWrapper,{type:"x,y",throwProps:!0,overshootTolerance:0,throwResistance:500,edgeResistance:1,bounds:this.getDragBounds(),zIndexBoost:!1,dragStart:this.lockScroll,dragEnd:this.unlockScroll,onDrag:this.handleDrag,onThrowUpdate:this.handleDrag})},getDragBounds(){const t=this.maxZoomWidth*(this.naturalImageHeight/this.naturalImageWidth),{offsetWidth:e,offsetHeight:i}=this.$refs.zoom,s=Math.abs(Math.min(0,e-this.maxZoomWidth)/2);return{minX:-s,maxX:s,minY:Math.min(0,i-t),maxY:0}},stopDraggable(){this.draggable.kill(),this.draggable=null},handleDrag(){const t=this.$refs.positionImage.offsetWidth/this.maxZoomWidth,{x:e,y:i}=this.draggable;U.default.set(this.$refs.box,{x:-e*t,y:-i*t})},onImageLoad({target:t}){this.naturalImageWidth=t.naturalWidth,this.naturalImageHeight=t.naturalHeight,this.onResize()},onResize(){var t;const e=null!==(t=this.naturalImageWidth)&&void 0!==t?t:1920;this.maxZoomWidth=Math.min(e,this.naturalImageWidth,3*this.$refs.thumbnail.offsetWidth,1920);const{offsetWidth:i}=this.$refs.positionDetails,s=Math.min(this.maxZoomWidth,window.innerWidth)/this.$refs.imageWrapper.offsetWidth*i;U.default.set(this.$refs.box,{width:s+"px",left:Math.max(0,(i-s)/2)+"px","--x":window.innerWidth,"--y":window.innerHeight}),this.draggable&&this.draggable.applyBounds(this.getDragBounds())}}},Pl=i(334);var Nl=Object(T.a)(Ll,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:[t.$style.artDetailImage]},[i("div",{ref:"thumbnail",class:t.$style.thumbnail,attrs:{"data-custom-cursor":t.CursorState.SEARCH},on:{click:t.handleImageClick}},[i("img",{ref:"image",class:t.$style.image,attrs:{src:t.image,draggable:"false"},on:{load:t.onImageLoad}})]),t._v(" "),i("div",{ref:"zoom",class:t.$style.zoomWrapper,style:{"--maxZoomWidth":t.maxZoomWidth+"px"}},[i("div",{ref:"bounds",class:t.$style.bounds},[i("div",{ref:"imageWrapper",class:t.$style.imageWrapper})]),t._v(" "),i("div",{ref:"positionDetails",class:t.$style.position},[i("img",{ref:"positionImage",class:t.$style.positionImage,attrs:{src:t.image}}),t._v(" "),i("div",{ref:"box",class:t.$style.box})]),t._v(" "),i("div",{ref:"insideLabel",class:["copy-cta",t.$style.label]},[t._v("\n      "+t._s(t.$t("general.dragToExplore"))+"\n    ")])]),t._v(" "),i("div",{ref:"label",class:["copy-cta",t.$style.label]},[t._v("\n    "+t._s(t.$t("general.tapToEnlargeImage"))+"\n  ")])])}),[],!1,(function(t){this.$style=Pl.default.locals||Pl.default}),null,null).exports,Dl=i(335);class Bl extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){t.add(ie(e.$el,{to:1,duration:.6}),1.2)}setupTransitionOutTimeline(t,e,i){}setupLoopingAnimationTimeline(t,e,i){}}const Fl=i(461);var $l={name:"ArtDetailVideo",extends:D.AbstractTransitionComponent,props:{src:o.default.string},data:()=>({isPlaying:!1}),watch:{async isPlaying(t){t&&W()?(await this.$nextTick(),this.renderer.addImage(this.$refs.video,0),this.renderer.play(),this.tick()):this.isFirstPlay&&t?(await this.$nextTick(),this.renderer.addImage(this.$refs.video,0),this.renderer.play(),this.tick(),await this.$nextTick(),this.$refs.video.pause(),this.isFirstPlay=!1):this.tick()}},mounted(){this.isFirstPlay=!0,this.renderer=Dl.ImageEffectRenderer.createTemporary(this.$el,Fl.default,!1,!0)},beforeDestroy(){this.$refs.video.pause(),Dl.ImageEffectRenderer.releaseTemporary(this.renderer)},methods:{handleAllComponentsReady(){this.transitionController=new Bl(this),this.isReady()},togglePlay(){W()||(this.isPlaying?(this.$emit("pause"),this.$refs.video.pause()):(this.$emit("play"),this.$refs.video.play()))},async onVideoPlay(){this.isPlaying=!0},onVideoPause(){this.isPlaying=!1},tick(){this.isPlaying&&(requestAnimationFrame(this.tick),this.renderer.updateImage(this.$refs.video,0))}}},Ul=i(336);var kl={name:"ArtDetailModal",components:{SolidBackground:Bi,ArtDetailImage:Nl,ArtDetailVideo:Object(T.a)($l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:[t.$style.artDetailVideo],attrs:{"data-custom-cursor":t.isPlaying?t.CursorState.PAUSE:t.CursorState.PLAY}},[i("video",{ref:"video",attrs:{src:t.src,muted:"",autoplay:"",loop:"",playsinline:""},domProps:{muted:!0},on:{click:t.togglePlay,play:t.onVideoPlay,pause:t.onVideoPause}})])}),[],!1,(function(t){this.$style=Ul.default.locals||Ul.default}),null,null).exports,ScrollPage:vt},extends:D.AbstractTransitionComponent,data:()=>({isVisible:!1,data:null,isDetailVisible:!1,openDirection:Si.BOTTOM}),computed:{...Object(B.d)({deviceState:t=>t.app.deviceState}),isMobile(){return this.deviceState<Le.deviceState.MEDIUM},isImageDetail(){var t;return Boolean(null===(t=this.data)||void 0===t?void 0:t.detailImage)},isVideoDetail(){var t;return Boolean(null===(t=this.data)||void 0===t?void 0:t.video)}},created(){this.disposables=new N.DisposableManager},mounted(){s.default.prototype.$artDetailModal=this},methods:{...Object(B.c)({setIsCloseActive:Vt}),handleAllComponentsReady(){this.transitionController=new Il(this),this.disposables.add(Object(it.addEventListener)(this.transitionController,D.TransitionEvent.types.TRANSITION_IN_START,this.onTransitionInStart),Object(it.addEventListener)(this.transitionController,D.TransitionEvent.types.TRANSITION_OUT_START,this.onTransitionOutStart)),this.isReady()},async open(t,e){this.data=t,this.options=e,await this.$nextTick(),this.transitionController&&this.transitionController.resetTimeline(D.TransitionDirection.IN),Array.from(this.$refs.caption.querySelectorAll("a")).forEach(t=>{t.addEventListener("click",()=>{Wt("detail_link",{artObject:qt(this.data.title)})})}),this.$refs.detailImage&&this.$refs.detailImage.transitionIn(!0),this.$refs.detailVideo&&this.$refs.detailVideo.transitionIn(!0),await this.transitionIn(!0),this.$webgl.pause(),this.isVisible=!0,this.$refs.scroll.refreshScroll()},async close(){var t;this.$webgl.play(),await this.$nextTick(),this.transitionController&&this.transitionController.resetTimeline(D.TransitionDirection.OUT),this.$refs.detailImage&&this.$refs.detailImage.transitionOut(!0),await this.transitionOut(!0),(null===(t=this.options)||void 0===t?void 0:t.onClose)&&this.options.onClose(),this.isVisible=!1,this.data=null,this.options=null},onTransitionInStart(){this.setIsCloseActive({active:!0,callback:this.close,animate:!1})},onTransitionOutStart(){this.setIsCloseActive(this.options.closeOptions||{active:!1})},async handleContentShow(){this.isDetailVisible=!1,this.transitionController.showContent(),await this.$nextTick(),this.setIsCloseActive({active:!0,callback:this.close,animate:!1})},async handleContentHide(){this.isDetailVisible=!0,await this.transitionController.hideContent(),Wt("detail_zoom",{artObject:qt(this.data.title)})},onVideoPlay(){Wt("detail_play",{artObject:qt(this.data.title)})},onVideoPause(){Wt("detail_pause",{artObject:qt(this.data.title)})}}},Vl=i(337);var zl=Object(T.a)(kl,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["fill-screen",t.$style.artDetailModal]},[i("SolidBackground",{ref:"background",attrs:{"open-direction":t.openDirection,darken:!0}}),t._v(" "),i("ScrollPage",{ref:"scroll",class:t.$style.scroll,attrs:{"is-locked":!t.isVisible||t.isDetailVisible,direction:t.Direction.VERTICAL}},[t.data?i("div",{ref:"container",class:t.$style.container},[i("h2",{ref:"title",class:["heading-03",t.$style.title]},[t._v("\n        "+t._s(t.$t(t.data.title))+"\n      ")]),t._v(" "),i("div",{ref:"arrowDown",class:t.$style.arrowDown},[i("Icon",{attrs:{name:"chevron-down"}})],1),t._v(" "),i("p",{ref:"description",class:["copy-large serif",t.$style.description],domProps:{innerHTML:t._s(t.$t(t.data.description))}}),t._v(" "),t.data.caption?i("p",{ref:"caption",class:["copy-mini",t.$style.caption]},[i("span",{class:t.$style.captionContent,domProps:{innerHTML:t._s(t.$t(t.data.caption))}})]):t._e(),t._v(" "),t.isImageDetail?i("ArtDetailImage",{ref:"detailImage",class:[t.$style.detail,t.$style.image],attrs:{image:t.formatImage(t.data.image,t.$versionRoot)},on:{open:t.handleContentHide,close:t.handleContentShow}}):t._e(),t._v(" "),t.isVideoDetail?i("ArtDetailVideo",{ref:"detailVideo",class:t.$style.detail,attrs:{src:t.formatPath(t.data.video,t.$versionRoot)},on:{play:t.onVideoPlay,pause:t.onVideoPause}}):t._e()],1):t._e()])],1)}),[],!1,(function(t){this.$style=Vl.default.locals||Vl.default}),null,null).exports;var Hl=i(105),Gl=i.n(Hl);class Xl extends Gl.a{constructor(t){super(Object.assign(t,{batchSize:1,cached:!1}))}loadAsset(t){return Promise.resolve()}load(t){return this.options.loadMethod(e=>{t(e)})}dispose(){super.dispose()}}class jl extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){const{loader:s}=e.$refs;t.add(this.getTimeline(s),.25)}setupTransitionOutTimeline(t,e,i){t.add(se(e.$el))}setupLoopingAnimationTimeline(t,e,i){}}class Wl extends Gl.a{constructor(t){super(Object.assign(t,{batchSize:1,cached:!1}))}loadAsset(t){return Promise.resolve()}load(t){return new Promise(e=>{this.options.loadMethod(()=>e(),e=>{t(e)})})}dispose(){super.dispose()}}class Yl extends D.AbstractTransitionController{getProgressTimeline(){const{progressCircle:t}=this.parentController.$refs,e=U.default.timeline({paused:!0});return e.fromTo(t,{drawSVG:"-25% -25%"},{drawSVG:"-25% 75%",ease:"none"}),e}setupTransitionInTimeline(t,e,i){const{progress:s,wrapper:a,firstRing:n,secondRing:r,thirdRing:o}=e.$refs;t.add(ie(a,{duration:.75})),t.fromTo([n,r,o],{scale:1.35,transformOrigin:"50% 50%"},{scale:1,duration:1,ease:re.JorisInOut,stagger:.05},"<"),s&&t.add(ie(s),"<")}setupTransitionOutTimeline(t,e,i){t.add(se(e.$el))}setupLoopingAnimationTimeline(t,e,i){}startLoopingRotations(){const{$style:t}=this.parentController,e=this.parentController.$el.querySelectorAll("."+t.pathRotation),i=[80,100,80,100,120];e.forEach((t,e)=>{U.default.to(t,{transformOrigin:"50% 50%",rotation:360,duration:i[e],repeat:-1,ease:"none"})})}stopLoopingRotations(){const{$style:t}=this.parentController,e=this.parentController.$el.querySelectorAll("."+t.pathRotation);U.default.killTweensOf(e)}}var Zl={name:"LoaderProgressRing",extends:D.AbstractTransitionComponent,props:{progress:Object(o.number)(),primaryLoader:Object(o.bool)().def(!1)},computed:{id(){return this._uid}},watch:{progress(t){this.progressTimeline.progress(t/100),this.primaryLoader&&this.preloaderText&&(this.preloaderText.textContent=t)}},mounted(){this.primaryLoader&&(this.preloaderElement=document.querySelector("[data-loader-progress]"),this.$el.appendChild(this.preloaderElement),this.preloaderText=this.preloaderElement.querySelector("span"))},methods:{handleAllComponentsReady(){this.transitionController=new Yl(this),this.progressTimeline=this.transitionController.getProgressTimeline(),this.isReady()},start(){this.transitionController.startLoopingRotations()},stop(){this.transitionController.stopLoopingRotations()}}},ql=i(338);var Kl=Object(T.a)(Zl,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:[t.$style.loaderProgressRing]},[i("div",{ref:"wrapper",class:t.$style.loader},[i("svg",{ref:"svgWrapper",attrs:{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 420 420"}},[i("defs",[i("mask",{attrs:{id:"second-ring-mask-"+t.id,width:"420",height:"420"}},[i("rect",{attrs:{fill:"white",width:"420",height:"420"}}),t._v(" "),i("g",{ref:"firstRingMask"},[i("g",{class:t.$style.pathRotation},[i("path",{attrs:{fill:"black",d:"M326.44,210.0214a12.8962,12.8962,0,0,0-2.5362-24.0884,12.2217,12.2217,0,0,0,4.6866-12.6758,12.6938,12.6938,0,0,0-12.2256-10.355,12.1628,12.1628,0,0,0,2.459-12.0234,12.8965,12.8965,0,0,0-12.1133-9.2061,13.5723,13.5723,0,0,0-2.5117.2554,12.0849,12.0849,0,0,0,.53-11.01A13.3575,13.3575,0,0,0,292.8034,122.9a12.9868,12.9868,0,0,0-4.8838,1.0263,11.9994,11.9994,0,0,0-1.043-9.7094,13.6212,13.6212,0,0,0-11.5908-6.8013,12.5031,12.5031,0,0,0-7.0508,2.2549,11.9471,11.9471,0,0,0-2.2285-8.2432,13.7473,13.7473,0,0,0-10.9756-5.5464,12.1331,12.1331,0,0,0-9.0361,3.9727,11.9224,11.9224,0,0,0-3.0039-6.73,13.6252,13.6252,0,0,0-10.0215-4.3462,12.2737,12.2737,0,0,0-10.7764,6.0547,12.638,12.638,0,0,0-12.1748-8.4526l-.1318.0068A12.6189,12.6189,0,0,0,197.82,94.8177a12.1061,12.1061,0,0,0-10.7852-6.0346,13.6132,13.6132,0,0,0-10.001,4.33,11.9532,11.9532,0,0,0-3.02,6.7505,12.1323,12.1323,0,0,0-9.042-3.9761,13.7446,13.7446,0,0,0-10.9678,5.543,11.956,11.956,0,0,0-2.2334,8.2436,12.57,12.57,0,0,0-7.0693-2.2524,13.6136,13.6136,0,0,0-11.5732,6.7827,12.0147,12.0147,0,0,0-1.0469,9.729,12.9954,12.9954,0,0,0-4.8994-1.0278,13.3471,13.3471,0,0,0-11.9073,8.017,12.0862,12.0862,0,0,0,.5293,11.0132,13.6722,13.6722,0,0,0-2.5273-.2568,12.9,12.9,0,0,0-12.1143,9.2163,12.1505,12.1505,0,0,0,2.4649,12.0127,12.687,12.687,0,0,0-12.21,10.3389,12.2356,12.2356,0,0,0,4.6817,12.69,12.8988,12.8988,0,0,0-2.543,24.09,12.8974,12.8974,0,0,0,2.5381,24.0879,12.227,12.227,0,0,0-4.6875,12.6846,12.6942,12.6942,0,0,0,12.2373,10.3525,12.1782,12.1782,0,0,0-2.4112,12.0225,12.891,12.891,0,0,0,12.0967,9.1738,13.48,13.48,0,0,0,2.5157-.2558,12.0982,12.0982,0,0,0-.5264,11.0107,13.3559,13.3559,0,0,0,11.92,8.0195,13.02,13.02,0,0,0,4.8838-1.0283,11.9908,11.9908,0,0,0,1.042,9.7061,13.62,13.62,0,0,0,11.59,6.7988,12.4705,12.4705,0,0,0,7.0567-2.2539,11.9469,11.9469,0,0,0,2.2236,8.2432,13.7524,13.7524,0,0,0,10.9815,5.5459,12.1359,12.1359,0,0,0,9.038-3.9707,11.9211,11.9211,0,0,0,3.002,6.7314,13.6278,13.6278,0,0,0,10.0225,4.3438,12.29,12.29,0,0,0,10.7792-6.0508,12.992,12.992,0,0,0,24.3262.0449,12.0976,12.0976,0,0,0,10.7842,6.0313,13.61,13.61,0,0,0,10.001-4.33,11.9546,11.9546,0,0,0,3.0195-6.7491,12.1315,12.1315,0,0,0,9.041,3.9756,13.7446,13.7446,0,0,0,10.9688-5.541,11.95,11.95,0,0,0,2.2334-8.2422,12.5629,12.5629,0,0,0,7.0625,2.2481,13.6181,13.6181,0,0,0,11.581-6.7891,12.0012,12.0012,0,0,0,1.04-9.7187,13.0554,13.0554,0,0,0,4.8984,1.0312,13.3532,13.3532,0,0,0,11.9131-8.0215,12.0843,12.0843,0,0,0-.5254-11.0068,13.5844,13.5844,0,0,0,2.5176.2549,12.9022,12.9022,0,0,0,12.1142-9.2188,12.1519,12.1519,0,0,0-2.46-12.0107,12.6861,12.6861,0,0,0,12.2041-10.336,12.2421,12.2421,0,0,0-4.6826-12.6992,12.8975,12.8975,0,0,0,2.5449-24.0888Z",transform:"translate(0, 0)"}})])])]),t._v(" "),i("mask",{attrs:{id:"third-ring-mask-"+t.id,width:"420",height:"420"}},[i("rect",{attrs:{fill:"white",width:"420",height:"420"}}),t._v(" "),i("g",{ref:"secondRingMask"},[i("g",{class:t.$style.pathRotation},[i("path",{attrs:{fill:"black",d:"M340.4645,196.6709a14.4921,14.4921,0,0,0-5.6721-26.6213,13.7339,13.7339,0,0,0,3.7442-14.7179A14.2645,14.2645,0,0,0,323.6539,145.2a13.6678,13.6678,0,0,0,1.3317-13.7265,14.4923,14.4923,0,0,0-14.6218-8.8613,15.2578,15.2578,0,0,0-2.7769.5813,13.5806,13.5806,0,0,0-.7044-12.3665,15.0109,15.0109,0,0,0-14.2724-7.5562,14.5907,14.5907,0,0,0-5.3369,1.7224,13.4846,13.4846,0,0,0-2.3095-10.728A15.3069,15.3069,0,0,0,271.2091,88.03a14.049,14.049,0,0,0-7.6139,3.3506,13.4259,13.4259,0,0,0-3.4616-8.95,15.4487,15.4487,0,0,0-12.9192-4.9054,13.6349,13.6349,0,0,0-9.63,5.5042,13.3972,13.3972,0,0,0-4.15-7.1678,15.3112,15.3112,0,0,0-11.7116-3.6765,13.7927,13.7927,0,0,0-11.33,8.036,14.2017,14.2017,0,0,0-14.6017-8.012l-.1466.0232A14.18,14.18,0,0,0,183.1529,83.077a13.6044,13.6044,0,0,0-12.764-5.4735A15.2978,15.2978,0,0,0,159.7224,83.62a13.4315,13.4315,0,0,0-2.5793,7.9A13.634,13.634,0,0,0,146.57,88.1417a15.4456,15.4456,0,0,0-11.6041,7.4867,13.4358,13.4358,0,0,0-1.5247,9.4758,14.126,14.126,0,0,0-8.1658-1.6844,15.2985,15.2985,0,0,0-12.1346,8.9434,13.5017,13.5017,0,0,0-.0238,10.9961,14.6038,14.6038,0,0,0-5.5965-.5715A14.9987,14.9987,0,0,0,95.1578,133.15a13.5815,13.5815,0,0,0,1.889,12.2454,15.377,15.377,0,0,0-2.8547.0107A14.4967,14.4967,0,0,0,81.74,157.1331a13.6539,13.6539,0,0,0,4.17,13.1345A14.2568,14.2568,0,0,0,73.482,183.26a13.75,13.75,0,0,0,6.7269,13.63,14.4949,14.4949,0,0,0-.0039,27.2212,14.4934,14.4934,0,0,0,5.6741,26.62A13.74,13.74,0,0,0,82.1349,265.46,14.265,14.265,0,0,0,97.03,275.5879a13.6853,13.6853,0,0,0-1.2782,13.72,14.4862,14.4862,0,0,0,14.5994,8.8272,15.1566,15.1566,0,0,0,2.7812-.5823,13.5957,13.5957,0,0,0,.7089,12.3671,15.0089,15.0089,0,0,0,14.2659,7.558,14.6357,14.6357,0,0,0,5.3368-1.7245,13.4746,13.4746,0,0,0,2.3079,10.7242,15.3057,15.3057,0,0,0,13.7532,6.2327,14.0146,14.0146,0,0,0,7.6207-3.35,13.4256,13.4256,0,0,0,3.4561,8.95,15.4543,15.4543,0,0,0,12.9257,4.9041,13.638,13.638,0,0,0,9.6328-5.5022,13.3953,13.3953,0,0,0,4.1478,7.1691,15.314,15.314,0,0,0,11.7124,3.6737,13.8114,13.8114,0,0,0,11.3336-8.032,14.6,14.6,0,0,0,27.1911-2.8156,13.5944,13.5944,0,0,0,12.7624,5.47,15.2941,15.2941,0,0,0,10.6665-6.0172,13.4327,13.4327,0,0,0,2.5794-7.8982,13.6331,13.6331,0,0,0,10.5722,3.3779,15.4454,15.4454,0,0,0,11.6054-7.4846,13.4287,13.4287,0,0,0,1.5249-9.4742,14.1172,14.1172,0,0,0,8.1576,1.68,15.3032,15.3032,0,0,0,12.1427-8.9515,13.4864,13.4864,0,0,0,.0173-10.9837,14.67,14.67,0,0,0,5.5958.5754,15.0057,15.0057,0,0,0,12.3685-10.3679,13.58,13.58,0,0,0-1.8838-12.2388,15.2571,15.2571,0,0,0,2.8435-.0117,14.4988,14.4988,0,0,0,12.4523-11.73,13.6558,13.6558,0,0,0-4.1641-13.1329,14.2556,14.2556,0,0,0,12.4211-12.9887,13.7567,13.7567,0,0,0-6.7291-13.64,14.4936,14.4936,0,0,0,.0063-27.22Z",transform:"translate(0,0)"}})])])])]),t._v(" "),i("g",{ref:"firstRing",class:t.$style.ring},[i("g",{class:t.$style.pathRotation},[i("path",{attrs:{fill:"#f6cea0",d:"M323.4379,210.9988l-2.976-.6411,2.976-.641a11.1918,11.1918,0,0,0-2.319-22.1519h-3.041l2.764-1.225a10.79,10.79,0,0,0,6.443-12.4511c-.953-4.4879-4.639-9.021-10.709-9.021a12.9126,12.9126,0,0,0-2.68.2881l-2.983.641,2.474-1.782a10.5093,10.5093,0,0,0,4.182-12.3362,11.23,11.23,0,0,0-10.529-8.0338,11.8988,11.8988,0,0,0-4.845,1.0835l-2.784,1.2375,2.043-2.2569a10.5867,10.5867,0,0,0,2.075-11.8294,11.6924,11.6924,0,0,0-10.393-7.008,11.2174,11.2174,0,0,0-6.663,2.2888l-2.461,1.7826,1.527-2.6225a10.54,10.54,0,0,0,.213-11.0022,11.9576,11.9576,0,0,0-10.149-5.8988,10.8858,10.8858,0,0,0-8.189,3.847l-2.036,2.2569.947-2.8854a10.7043,10.7043,0,0,0-1.366-9.9058,12.0558,12.0558,0,0,0-9.613-4.8409,10.6753,10.6753,0,0,0-9.472,5.6871l-1.521,2.6288.322-3.0135a10.7933,10.7933,0,0,0-2.577-8.6236,11.9794,11.9794,0,0,0-8.782-3.7829,10.6876,10.6876,0,0,0-10.503,7.7708l-.941,2.8852-.315-3.0134c-.722-6.9374-6.141-10.0407-11.192-10.0407h-.045c-5.046,0-10.465,3.1032-11.193,10.0406l-.315,3.0134-.935-2.8853a10.7,10.7,0,0,0-10.509-7.7708,11.9792,11.9792,0,0,0-8.782,3.7827,10.7937,10.7937,0,0,0-2.577,8.6238l.322,3.0134-1.521-2.6289a10.6754,10.6754,0,0,0-9.472-5.687,12.056,12.056,0,0,0-9.6131,4.8407,10.7208,10.7208,0,0,0-1.36,9.906l.9407,2.8852-2.0361-2.2569a10.8711,10.8711,0,0,0-8.19-3.847,11.9428,11.9428,0,0,0-10.1289,5.9307,10.57,10.57,0,0,0,.2125,11.0024l1.5271,2.6223-2.4678-1.7825a11.2163,11.2163,0,0,0-6.6624-2.289,11.693,11.693,0,0,0-10.3932,7.008,10.6344,10.6344,0,0,0,2.0812,11.8294l2.0425,2.2569-2.7835-1.2375a11.9245,11.9245,0,0,0-4.8518-1.0835,11.3362,11.3362,0,0,0-10.5285,8.0337,10.617,10.617,0,0,0,4.1881,12.336l2.5,1.782-2.9832-.641a12.9083,12.9083,0,0,0-2.6805-.288c-6.07,0-9.7488,4.533-10.7089,9.0209a10.7356,10.7356,0,0,0,6.4433,12.4511l2.7062,1.199H99.6286a11.192,11.192,0,0,0-2.3455,22.1519l2.9833.641-2.9833.6421a11.1919,11.1919,0,0,0,2.3195,22.1519h3.0091l-2.7578,1.224a10.792,10.792,0,0,0-6.4434,12.4521c.96,4.494,4.6392,9.0269,10.7088,9.0269a12.52,12.52,0,0,0,2.6805-.2949l2.9833-.641-2.4678,1.776a10.5017,10.5017,0,0,0-4.1883,12.336,11.2267,11.2267,0,0,0,10.5284,8.04,11.9148,11.9148,0,0,0,4.8519-1.0831l2.7835-1.237-2.0425,2.25a10.5909,10.5909,0,0,0-2.0813,11.8291A11.6983,11.6983,0,0,0,127.56,295.85a11.2561,11.2561,0,0,0,6.6625-2.289l2.4935-1.7949-1.527,2.6279a10.5421,10.5421,0,0,0-.2127,11.003,11.959,11.959,0,0,0,10.1611,5.924,10.8858,10.8858,0,0,0,8.19-3.8469l2.0361-2.2571-.9407,2.8791a10.732,10.732,0,0,0,1.3595,9.912,12.07,12.07,0,0,0,9.613,4.835,10.676,10.676,0,0,0,9.472-5.687l1.521-2.6291-.322,3.02a10.8066,10.8066,0,0,0,2.577,8.624,11.9767,11.9767,0,0,0,8.782,3.776,10.6993,10.6993,0,0,0,10.509-7.7711l.935-2.8849.315,3.02c.728,6.9311,6.141,10.034,11.192,10.034s10.471-3.1029,11.193-10.034l.315-3.02.941,2.8849a10.6872,10.6872,0,0,0,10.503,7.7711,11.9767,11.9767,0,0,0,8.782-3.776,10.8037,10.8037,0,0,0,2.577-8.624l-.322-3.013,1.521,2.622a10.6743,10.6743,0,0,0,9.472,5.687,12.0654,12.0654,0,0,0,9.613-4.8341,10.7174,10.7174,0,0,0,1.366-9.912l-.947-2.8789,2.036,2.2569a10.8964,10.8964,0,0,0,8.19,3.8471,11.962,11.962,0,0,0,10.135-5.9251,10.5811,10.5811,0,0,0-.213-11.0019l-1.527-2.629,2.462,1.789a11.2566,11.2566,0,0,0,6.662,2.289,11.6987,11.6987,0,0,0,10.393-7.014,10.6346,10.6346,0,0,0-2.075-11.83l-2.042-2.25,2.783,1.237a11.9055,11.9055,0,0,0,4.846,1.0839,11.3428,11.3428,0,0,0,10.528-8.04,10.6213,10.6213,0,0,0-4.181-12.336l-2.475-1.776,2.984.641a12.5754,12.5754,0,0,0,2.68.2949c6.07,0,9.749-4.54,10.709-9.0279a10.79,10.79,0,0,0-6.443-12.4511l-2.713-1.193,2.964-.0319a11.192,11.192,0,0,0,2.345-22.152Zm7.8719,12.0123a9.8884,9.8884,0,0,1-10.2276,9.14l-2.9638.0322-.3916,1.915,2.7363,1.2032a9.7906,9.7906,0,0,1,5.8447,11.3164c-.8769,4.1-4.2266,8.2373-9.7295,8.2373a11.6477,11.6477,0,0,1-2.4726-.2725l-2.9834-.6416-.793,1.79,2.4726,1.7745a9.6609,9.6609,0,0,1,3.8145,11.2158,10.3928,10.3928,0,0,1-9.5664,7.35,10.8543,10.8543,0,0,1-4.45-.9981l-2.7822-1.2373-1.1465,1.586,2.041,2.25a9.6682,9.6682,0,0,1,1.9023,10.75,10.6814,10.6814,0,0,1-9.4667,6.4228,10.3436,10.3436,0,0,1-6.087-2.0976l-2.4619-1.7891-1.4521,1.3106,1.5273,2.63a9.611,9.611,0,0,1,.2129,9.9952,10.9618,10.9618,0,0,1-9.26,5.4287,9.9067,9.9067,0,0,1-7.4589-3.5166l-2.0362-2.2569-1.6924.9824.9581,2.9083a9.7176,9.7176,0,0,1-1.2276,8.9716,11.0695,11.0695,0,0,1-8.8125,4.4326,9.712,9.712,0,0,1-8.6064-5.1894l-1.5215-2.6221-1.8594.6084.3262,3.0449a9.8046,9.8046,0,0,1-2.3164,7.8018,10.88,10.88,0,0,1-3.66,2.5664,11.15,11.15,0,0,1-4.3916.8936,9.7212,9.7212,0,0,1-9.5517-7.0811l-.9414-2.8857-1.9454.207-.3164,3.0205c-.6572,6.3125-5.5947,9.1377-10.1972,9.1377-4.5977,0-9.5342-2.8262-10.1973-9.1377l-.3154-3.0205-1.9453-.2051-.9356,2.8848a9.737,9.737,0,0,1-9.5615,7.08,10.9839,10.9839,0,0,1-8.0254-3.4336,9.7772,9.7772,0,0,1-2.0244-3.6631,9.89,9.89,0,0,1-.3115-4.1973l.3222-3.0195-1.8593-.6074-1.5206,2.6289a9.7126,9.7126,0,0,1-8.6025,5.1884,11.0735,11.0735,0,0,1-8.8047-4.4169,9.7408,9.7408,0,0,1-1.2226-9.02l.9414-2.8789-1.6924-.9805-2.0576,2.28a9.7953,9.7953,0,0,1-3.335,2.5537,9.9292,9.9292,0,0,1-4.0762.94,10.9624,10.9624,0,0,1-9.31-5.4248,9.5762,9.5762,0,0,1,.2109-9.999l1.5274-2.628-1.4483-1.3144-2.5136,1.81a10.3217,10.3217,0,0,1-6.0586,2.085,10.685,10.685,0,0,1-9.48-6.4229,9.624,9.624,0,0,1,1.9082-10.749l2.0429-2.25-1.1464-1.5859-2.795,1.2412a10.8189,10.8189,0,0,1-4.4345.9922,10.2452,10.2452,0,0,1-9.5772-7.3477A9.5383,9.5383,0,0,1,107.9,257.5111l2.4678-1.7754-.794-1.789-2.99.6416a11.4855,11.4855,0,0,1-2.4639.2714c-5.5068,0-8.8554-4.1367-9.7353-8.2558a9.7655,9.7655,0,0,1,.834-6.7168,9.8689,9.8689,0,0,1,5.042-4.5918l2.7578-1.2246-.4063-1.9141H99.6027a10.1915,10.1915,0,0,1-2.1084-20.1738l2.9834-.6426-.0009-1.9551-2.9883-.6421A10.192,10.192,0,0,1,99.6291,188.57h2.9639l.4052-1.9145-2.7089-1.1993A9.7579,9.7579,0,0,1,94.42,174.1293c.8779-4.0967,4.2266-8.2305,9.73-8.2305a11.9644,11.9644,0,0,1,2.4727.2656l2.9834.6411.79-1.7919-2.4951-1.7789a9.6578,9.6578,0,0,1-3.8223-11.2148,10.39,10.39,0,0,1,9.5684-7.3437,10.8615,10.8615,0,0,1,4.4551.997l2.7832,1.2373,1.1474-1.5844-2.043-2.2583a9.6768,9.6768,0,0,1-1.9091-10.7491,10.68,10.68,0,0,1,9.4687-6.416,10.2968,10.2968,0,0,1,6.0879,2.1l2.4678,1.7827,1.45-1.3134-1.5264-2.6231a9.6076,9.6076,0,0,1-.2119-9.9971,10.9466,10.9466,0,0,1,9.2529-5.4326,9.8242,9.8242,0,0,1,4.1026.938,9.9534,9.9534,0,0,1,3.3554,2.5791l2.0362,2.2569,1.6933-.98-.9521-2.917a9.7282,9.7282,0,0,1,1.2217-8.9668,11.0578,11.0578,0,0,1,8.8115-4.438,9.7125,9.7125,0,0,1,8.6064,5.188l1.5215,2.6289,1.8594-.6074-.3262-3.0469a9.7927,9.7927,0,0,1,2.3164-7.8,10.8824,10.8824,0,0,1,3.66-2.5693,11.1845,11.1845,0,0,1,4.3926-.897,9.7366,9.7366,0,0,1,9.5576,7.0791l.9345,2.8848,1.9454-.2041.3154-3.0127A9.8759,9.8759,0,0,1,210.32,89.389h.0449c4.6026,0,9.5411,2.8277,10.1983,9.1446l.3154,3.0136,1.9453.2061.9405-2.8867a9.7242,9.7242,0,0,1,9.5547-7.08,11.7042,11.7042,0,0,1,4.39.897,10.8708,10.8708,0,0,1,3.6377,2.5459,9.79,9.79,0,0,1,2.335,7.8574l-.3223,3.0132,1.8594.6074,1.5224-2.6289a9.7074,9.7074,0,0,1,8.6-5.1875h.002a11.0575,11.0575,0,0,1,8.8047,4.4238,9.7026,9.7026,0,0,1,1.2285,9.0108l-.9473,2.8852,1.6924.9819,2.0576-2.2807a9.78,9.78,0,0,1,3.334-2.5542,9.9553,9.9553,0,0,1,4.0762-.939,10.9557,10.9557,0,0,1,9.2988,5.4,9.5822,9.5822,0,0,1-.2119,9.9976l-1.5273,2.622,1.4511,1.3135,2.48-1.7969a10.2785,10.2785,0,0,1,6.0576-2.0844,10.6813,10.6813,0,0,1,9.48,6.416,9.6253,9.6253,0,0,1-1.9023,10.7505l-2.043,2.2568,1.1475,1.5845,2.7939-1.2422a10.8212,10.8212,0,0,1,4.4287-.9922,10.2454,10.2454,0,0,1,9.5772,7.3423,9.5356,9.5356,0,0,1-3.8155,11.2158l-2.4736,1.7822.7949,1.7891,2.9825-.6411a11.9924,11.9924,0,0,1,2.4707-.2656c5.5146,0,8.8613,4.1328,9.7353,8.2495a9.7664,9.7664,0,0,1-.833,6.7168,9.8826,9.8826,0,0,1-5.042,4.5918l-2.7637,1.2251.4053,1.914h3.041a10.1917,10.1917,0,0,1,2.1075,20.1743l-2.9756.6412v1.955l2.98.6416A9.8361,9.8361,0,0,1,331.31,223.0111Z",transform:"translate(0, 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M326.7736,210.3842a12.8962,12.8962,0,0,0-2.5361-24.0884A12.2218,12.2218,0,0,0,328.924,173.62a12.6936,12.6936,0,0,0-12.2256-10.355,12.1626,12.1626,0,0,0,2.459-12.0234,12.8964,12.8964,0,0,0-12.1133-9.2061,13.574,13.574,0,0,0-2.5117.2554,12.0849,12.0849,0,0,0,.53-11.01,13.3576,13.3576,0,0,0-11.9258-8.0185,12.9872,12.9872,0,0,0-4.8838,1.0263A12,12,0,0,0,287.21,114.58a13.6215,13.6215,0,0,0-11.5909-6.8013,12.502,12.502,0,0,0-7.0507,2.2549A11.9466,11.9466,0,0,0,266.34,101.79a13.7472,13.7472,0,0,0-10.9756-5.5464,12.1333,12.1333,0,0,0-9.0361,3.9727,11.9217,11.9217,0,0,0-3.0039-6.7305A13.625,13.625,0,0,0,233.3029,89.14a12.2737,12.2737,0,0,0-10.7763,6.0547,12.638,12.638,0,0,0-12.1748-8.4526l-.1319.0068a12.619,12.619,0,0,0-12.0664,8.4321,12.1061,12.1061,0,0,0-10.7851-6.0346,13.6128,13.6128,0,0,0-10.001,4.33,11.9526,11.9526,0,0,0-3.02,6.7505,12.1321,12.1321,0,0,0-9.0419-3.9761,13.7445,13.7445,0,0,0-10.9678,5.543,11.956,11.956,0,0,0-2.2334,8.2436,12.5712,12.5712,0,0,0-7.0694-2.2524,13.6138,13.6138,0,0,0-11.5732,6.7827,12.0155,12.0155,0,0,0-1.0469,9.729,12.995,12.995,0,0,0-4.8994-1.0278,13.3469,13.3469,0,0,0-11.9072,8.017,12.0856,12.0856,0,0,0,.5293,11.0132,13.6733,13.6733,0,0,0-2.5274-.2568,12.9,12.9,0,0,0-12.1142,9.2163,12.15,12.15,0,0,0,2.4648,12.0127,12.6869,12.6869,0,0,0-12.21,10.3389,12.2354,12.2354,0,0,0,4.6816,12.69,12.8988,12.8988,0,0,0-2.543,24.09,12.8974,12.8974,0,0,0,2.5381,24.0879A12.2272,12.2272,0,0,0,91.74,247.1615a12.6942,12.6942,0,0,0,12.2373,10.3525,12.1784,12.1784,0,0,0-2.4111,12.0225,12.891,12.891,0,0,0,12.0967,9.1738,13.4789,13.4789,0,0,0,2.5156-.2558,12.0985,12.0985,0,0,0-.5264,11.0107,13.356,13.356,0,0,0,11.92,8.0195,13.02,13.02,0,0,0,4.8837-1.0283,11.9912,11.9912,0,0,0,1.042,9.7061,13.6205,13.6205,0,0,0,11.59,6.7988,12.4694,12.4694,0,0,0,7.0566-2.2539,11.947,11.947,0,0,0,2.2237,8.2432,13.7523,13.7523,0,0,0,10.9814,5.5459,12.1361,12.1361,0,0,0,9.0381-3.9707,11.92,11.92,0,0,0,3.0019,6.7314,13.6278,13.6278,0,0,0,10.0225,4.3438,12.29,12.29,0,0,0,10.7793-6.0508,12.992,12.992,0,0,0,24.3262.0449,12.0975,12.0975,0,0,0,10.7841,6.0313,13.61,13.61,0,0,0,10.001-4.33,11.954,11.954,0,0,0,3.02-6.7491,12.1315,12.1315,0,0,0,9.041,3.9756,13.7444,13.7444,0,0,0,10.9687-5.541,11.95,11.95,0,0,0,2.2334-8.2422,12.564,12.564,0,0,0,7.0625,2.2481,13.6181,13.6181,0,0,0,11.5811-6.7891,12.0011,12.0011,0,0,0,1.04-9.7187,13.0559,13.0559,0,0,0,4.8985,1.0312,13.3532,13.3532,0,0,0,11.913-8.0215,12.084,12.084,0,0,0-.5254-11.0068,13.5853,13.5853,0,0,0,2.5176.2549,12.9023,12.9023,0,0,0,12.1143-9.2188,12.152,12.152,0,0,0-2.46-12.0107,12.6859,12.6859,0,0,0,12.2041-10.336,12.2421,12.2421,0,0,0-4.6826-12.6992,12.8975,12.8975,0,0,0,2.5449-24.0888Zm-5.6747,23.4206c12.146,5.392,7.455,22.7039-4.51,22.7039a13.26,13.26,0,0,1-2.816-.3079c10.033,7.22,3.628,21.5369-6.72,21.5369a12.4694,12.4694,0,0,1-5.11-1.1419c7.655,8.438.348,19.9149-8.795,19.9149a11.95,11.95,0,0,1-7.043-2.411c5.239,8.9961-2.306,17.888-10.477,17.888a11.4916,11.4916,0,0,1-8.666-4.052c2.912,8.9121-4.298,15.5871-11.598,15.5871a11.3535,11.3535,0,0,1-10.032-6.008c.857,8.22-5.587,13.112-12.03,13.112a11.3373,11.3373,0,0,1-11.115-8.2141c-.741,7.0531-6.276,10.5861-11.823,10.5861a11.5117,11.5117,0,0,1-11.83-10.611,11.4036,11.4036,0,0,1-11.122,8.213c-6.437,0-12.906-4.8861-12.029-13.112a11.3549,11.3549,0,0,1-10.033,6.008c-7.3128,0-14.5229-6.675-11.5976-15.5871a11.5182,11.5182,0,0,1-8.6728,4.052c-8.17,0-15.7153-8.9119-10.4768-17.888a11.9333,11.9333,0,0,1-7.0426,2.411c-9.1367-.0009-16.4434-11.4769-8.7887-19.9149a12.516,12.516,0,0,1-5.116,1.141c-10.348,0-16.6947-14.285-6.7654-21.504a13.198,13.198,0,0,1-2.8158.3069c-11.9782,0-16.6689-17.33-4.51-22.703-14.2849,0-16.4369-20.4789-2.4548-23.422-13.9821-2.9359-11.8235-23.422,2.455-23.422-12.1457-5.3849-7.4549-22.6969,4.51-22.6969a13.6648,13.6648,0,0,1,2.8157.302c-10.0322-7.22-3.6274-21.53,6.7206-21.53a12.622,12.622,0,0,1,5.116,1.1349c-7.6547-8.4377-.3479-19.9081,8.7888-19.908a11.8877,11.8877,0,0,1,7.0426,2.4106c-5.232-9.0019,2.3068-17.8947,10.4769-17.8947a11.5248,11.5248,0,0,1,8.6728,4.0522c-2.9124-8.9058,4.2978-15.5867,11.5979-15.5867a11.3543,11.3543,0,0,1,10.032,6.0078c-.856-8.22,5.587-13.1117,12.03-13.1117a11.35,11.35,0,0,1,11.121,8.22c.735-7.0785,6.283-10.6176,11.831-10.6176l.032-.0064a11.528,11.528,0,0,1,11.836,10.6177,11.3876,11.3876,0,0,1,11.115-8.22c6.437,0,12.906,4.8921,12.03,13.1118a11.3667,11.3667,0,0,1,10.032-6.0076c7.307,0,14.517,6.6809,11.598,15.5867a11.5219,11.5219,0,0,1,8.666-4.0521c8.17,0,15.716,8.9185,10.477,17.8949a11.9014,11.9014,0,0,1,7.043-2.4108c9.143,0,16.449,11.4705,8.795,19.9081a12.57,12.57,0,0,1,5.109-1.1348c10.348,0,16.734,14.3107,6.721,21.53a13.7347,13.7347,0,0,1,2.815-.3009c11.979,0,16.669,17.33,4.511,22.6969,14.285,0,16.443,20.479,2.454,23.422C337.5369,213.3268,335.3779,233.8048,321.0989,233.8048Z",transform:"translate(0, 0)"}})])]),t._v(" "),i("g",{ref:"secondRing",class:t.$style.ring,attrs:{mask:"url(#second-ring-mask-"+t.id+")"}},[i("g",{class:t.$style.pathRotation},[i("path",{attrs:{fill:"#f6cea0",d:"M340.1446,223.5671a14.5237,14.5237,0,0,0-.0329-27.2629,13.7629,13.7629,0,0,0,6.7124-13.6448,14.277,14.277,0,0,0-12.46-13.0169,13.7037,13.7037,0,0,0,4.1469-13.174,14.5017,14.5017,0,0,0-12.4682-11.7176,15.2372,15.2372,0,0,0-2.8371-.0067,13.6208,13.6208,0,0,0,1.8733-12.2639,15.0168,15.0168,0,0,0-12.3968-10.3663,14.5711,14.5711,0,0,0-5.5779.58,13.5264,13.5264,0,0,0-.0365-10.9915,15.3088,15.3088,0,0,0-12.1639-8.9644,14.0319,14.0319,0,0,0-8.1429,1.7029,13.4658,13.4658,0,0,0-1.532-9.488,15.4465,15.4465,0,0,0-11.6223-7.4879A13.62,13.62,0,0,0,263.0449,90.86a13.4331,13.4331,0,0,0-2.5746-7.8848,15.3055,15.3055,0,0,0-10.6955-6.0332,13.7827,13.7827,0,0,0-12.7489,5.523,14.2081,14.2081,0,0,0-12.6246-10.8813l-.1481-.0077A14.1752,14.1752,0,0,0,209.7859,79.61a13.6052,13.6052,0,0,0-11.3526-8.0124,15.2812,15.2812,0,0,0-11.6816,3.682,13.4586,13.4586,0,0,0-4.16,7.2055,13.6288,13.6288,0,0,0-9.6437-5.5047,15.4315,15.4315,0,0,0-12.9033,4.9278A13.47,13.47,0,0,0,156.59,90.877a14.1155,14.1155,0,0,0-7.6394-3.3452,15.2881,15.2881,0,0,0-13.7242,6.2451,13.5411,13.5411,0,0,0-2.3017,10.77,14.5866,14.5866,0,0,0-5.3565-1.7215,14.9922,14.9922,0,0,0-14.2411,7.5881,13.6232,13.6232,0,0,0-.6893,12.3912,15.3371,15.3371,0,0,0-2.795-.582A14.4938,14.4938,0,0,0,95.23,131.1291a13.6947,13.6947,0,0,0,1.3577,13.7357,14.2574,14.2574,0,0,0-14.8495,10.1521,13.7868,13.7868,0,0,0,3.7567,14.752,14.525,14.525,0,0,0-5.6441,26.6729,14.525,14.525,0,0,0,.0351,27.2625,13.77,13.77,0,0,0-6.7145,13.6546,14.2776,14.2776,0,0,0,12.4735,13.0155,13.7211,13.7211,0,0,0-4.0933,13.1785,14.4956,14.4956,0,0,0,12.4534,11.6795,15.1309,15.1309,0,0,0,2.8415.0067,13.6361,13.6361,0,0,0-1.869,12.2654,15.0148,15.0148,0,0,0,12.39,10.3667,14.61,14.61,0,0,0,5.5782-.5823,13.5168,13.5168,0,0,0,.0357,10.9876,15.3081,15.3081,0,0,0,12.1631,8.9616,13.9954,13.9954,0,0,0,8.1494-1.7012,13.465,13.465,0,0,0,1.5266,9.4874,15.452,15.452,0,0,0,11.6288,7.4881,13.6235,13.6235,0,0,0,10.5637-3.3923,13.4324,13.4324,0,0,0,2.5723,7.8857,15.308,15.308,0,0,0,10.6968,6.03,13.8014,13.8014,0,0,0,12.7518-5.5182,14.5916,14.5916,0,0,0,27.184,2.8843,13.5953,13.5953,0,0,0,11.3519,8.0084,15.2771,15.2771,0,0,0,11.6816-3.6825,13.459,13.459,0,0,0,4.16-7.2039,13.628,13.628,0,0,0,9.6427,5.5041,15.4317,15.4317,0,0,0,12.9042-4.9255,13.4623,13.4623,0,0,0,3.4549-8.9671,14.107,14.107,0,0,0,7.6323,3.3395,15.2929,15.2929,0,0,0,13.7337-6.2513,13.526,13.526,0,0,0,2.2928-10.7592,14.654,14.654,0,0,0,5.355,1.7252,14.9994,14.9994,0,0,0,14.2482-7.5923,13.6213,13.6213,0,0,0,.6929-12.3836,15.2374,15.2374,0,0,0,2.7843.5786,14.496,14.496,0,0,0,14.6122-8.9093,13.6964,13.6964,0,0,0-1.3525-13.7328,14.2562,14.2562,0,0,0,14.8426-10.1495,13.7942,13.7942,0,0,0-3.7567-14.7626,14.5235,14.5235,0,0,0,5.6462-26.6715Zm-9.0665,25.5587c12.9483,7.4515,5.6916,26.2861-7.6815,24.8922a14.8777,14.8777,0,0,1-3.1117-.6729c10.3741,9.2518,1.55,24.5338-10.0158,23.3283a13.9972,13.9972,0,0,1-5.5786-1.8738c7.5745,10.3383-1.9274,22.3358-12.1465,21.2706a13.42,13.42,0,0,1-7.5914-3.52c4.8093,10.6816-4.658,19.7574-13.7906,18.8055a12.9113,12.9113,0,0,1-9.2147-5.5459c2.2181,10.3164-6.6168,16.9493-14.776,16.0988a12.76,12.76,0,0,1-10.5139-7.8948c.0018,9.3023-7.77,14.0283-14.9709,13.2777a12.7474,12.7474,0,0,1-11.4678-10.4907c-1.6485,7.81-8.2459,11.12-14.4458,10.4739s-11.9881-5.2759-11.9882-13.2574a12.8112,12.8112,0,0,1-13.3861,7.8989c-7.1947-.75-13.8567-6.9735-11.92-16.08a12.7515,12.7515,0,0,1-11.9127,5.5572c-8.1735-.8519-15.4558-9.1646-11.15-18.8011a12.932,12.932,0,0,1-10.1648,3.526c-9.1319-.9519-16.5284-11.808-9.6294-21.2466a13.3926,13.3926,0,0,1-8.1519,1.8787c-10.2119-1.0655-17.0438-14.7643-7.5068-23.3191a14.04,14.04,0,0,1-5.8508.6814c-11.5659-1.2055-16.9981-17.9373-5.06-24.8623a14.8153,14.8153,0,0,1-3.1829.0156c-13.388-1.3955-16.6151-21.3432-2.4005-25.9419-15.9661-1.6642-15.99-24.8415-.0195-26.5074-15.2863-4.9158-10.4909-27.5989,5.4681-25.9354-12.9488-7.4436-5.6924-26.2782,7.6811-24.8843a15.3363,15.3363,0,0,1,3.112.6661c-10.3732-9.2514-1.55-24.5264,10.0158-23.3209a14.1707,14.1707,0,0,1,5.5861,1.8666c-7.5742-10.338,1.9267-22.3281,12.1386-21.2635a13.3479,13.3479,0,0,1,7.5911,3.5192c-4.8007-10.6873,4.66-19.7648,13.7914-18.813a12.9478,12.9478,0,0,1,9.2222,5.5469c-2.2194-10.3094,6.6165-16.9489,14.7758-16.0984a12.7609,12.7609,0,0,1,10.5139,7.8945c-.0007-9.3019,7.77-14.0279,14.9709-13.2773A12.7621,12.7621,0,0,1,209.79,83.2148c1.6448-7.8389,8.2574-11.1547,14.4584-10.5084l.0365-.0034c6.2.6462,11.9862,5.2835,11.9941,13.2657a12.7935,12.7935,0,0,1,13.3792-7.9073c7.1946.75,13.856,6.98,11.9208,16.08a12.7651,12.7651,0,0,1,11.9115-5.5569c8.167.8512,15.4485,9.1706,11.15,18.8008a12.9354,12.9354,0,0,1,10.1573-3.5268c9.1315.9518,16.5284,11.8154,9.6287,21.2542a13.3568,13.3568,0,0,1,8.1524-1.8784c10.2191,1.0652,17.0508,14.7577,7.5146,23.3122a14.104,14.104,0,0,1,5.8423-.6753c11.5659,1.2055,17.039,17.9707,5.0079,24.8864a15.3964,15.3964,0,0,1,3.1813-.009c13.3888,1.3955,16.6152,21.3432,2.402,25.9352,15.9663,1.6642,15.9964,24.8423.0186,26.5073C351.8325,228.1153,347.0376,250.7893,331.0781,249.1258Z",transform:"translate(-0 0)"}}),t._v(" "),i("g",[i("path",{attrs:{fill:"#f6cea0",d:"M210.0845,85.4182l.1792,122.0371,25.2936-119.29.5224.1111L210.7876,207.56,260.413,96.0333l.1631.0728-.1587-.0709.4332-2.0347a12.1646,12.1646,0,0,0-1.8772-9.9545,13.4572,13.4572,0,0,0-9.3757-5.2581,12.0073,12.0073,0,0,0-12.6429,7.476l-.8932,2.009-.4947-.1053-.0011-2.1935c0-7.8507-5.6959-11.9562-11.3413-12.5447l-.05-.0052c-5.64-.5879-12.0576,2.2549-13.6782,9.9367l-.433,2.0573Zm26.5443,4.348,1.353-3.0459a10.9249,10.9249,0,0,1,11.5026-6.8126,13.1351,13.1351,0,0,1,4.8019,1.5155,12.2238,12.2238,0,0,1,3.77,3.274,11.0353,11.0353,0,0,1,1.6959,9.0686l-.6832,3.2066L213.2829,199.87Zm-25.0335-6.1725c1.4758-6.9952,7.3222-9.5857,12.4622-9.05l.05.0053c5.1442.5362,10.3351,4.2771,10.3349,11.4255l.002,3.3612L211.0976,199.4439l-.1655-112.7033Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M336.3449,223.8666l-2.0312-.6649.0559-.5387,2.1244-.2317c7.83-.8089,11.3214-6.8806,11.32-12.5333s-3.515-11.7213-11.3355-12.5365l-1.9957-.208-.0086-.0816.0055.0524-121.9249,12.86,121.8139,12.6878-.055.53-121.803-12.6866,116.5055,37.666-.0041.0125,2.1353.1993c7.8495.8181,12.5264-4.3967,13.6975-9.9272S343.84,226.2807,336.3449,223.8666Zm-3.327-2.1883L220.6935,209.9789l112.32-11.8468,3.3489.3491a11.0941,11.0941,0,0,1,10.328,11.4176c.0012,5.15-3.1868,10.6765-10.319,11.4134Zm10.7281,16.5534a11.1144,11.1144,0,0,1-12.4943,9.0405l-3.2281-.301L220.46,212.1962,332.83,223.9l3.1705,1.0373A11.0734,11.0734,0,0,1,343.746,238.2317Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M318.272,147.8646l-.1665-.29.16.2781L212.32,208.9538l116.4882-37.835.1631.5038L212.49,209.4554l121.9337-12.8608-.0024-.0231,1.89-.6136a12.1452,12.1452,0,0,0,8.6494-13.1886c-.5431-5.1354-4.1358-10.64-10.92-11.3468a14.4871,14.4871,0,0,0-3.0291.01l-2.03.22-.1753-.5412,1.7692-1.0159c5.0232-2.8725,7.2978-7.7359,6.109-13.3234a12.6279,12.6279,0,0,0-10.8338-10.2206,13.3506,13.3506,0,0,0-5.5412.6486Zm12.8605,24.6868a13.4547,13.4547,0,0,1,2.7923-.01c6.1638.6424,9.4237,5.6591,9.9217,10.37a11.019,11.019,0,0,1-7.8817,11.9758l-3.1536,1.0243L220.4544,207.7622l107.27-34.8408,0,0Zm-5.3978-24.88a11.5208,11.5208,0,0,1,9.8505,9.3356c1.0765,5.0582-.9521,9.4722-5.569,12.1118l-2.8607,1.6432L219.7581,205.6445l97.6439-56.3133,0,.0005,3.2672-1.0652A12.1435,12.1435,0,0,1,325.7347,147.6717Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M211.2754,207.7765l71.7758-98.6974.01.0071.8893-1.99a12.0672,12.0672,0,0,0-.3745-11.2489,13.5461,13.5461,0,0,0-10.1814-6.5394,11.9889,11.9889,0,0,0-11.2483,5.2633L260.921,96.26l-.0206-.0092ZM263.0562,95.2324a10.9023,10.9023,0,0,1,10.2151-4.8057l.0022,0A12.4241,12.4241,0,0,1,282.6,96.4053a10.9371,10.9371,0,0,1,.325,10.2308l-1.3673,3.0591L215.31,200.7909,261.05,97.9967Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M330.7243,249.7351l-1.8656-1.0649.0167-.052-.0239.0743-116.5084-37.667,106.1036,60.9439-.2635.4606L212.0579,211.4737,303.0932,293.01l-.3523.3946-91.0293-81.53,72.1756,98.719-.4311.3162-72.1738-98.7166,49.9558,111.379-.1532.0689.1436-.0646,1.291,1.7724a12.2421,12.2421,0,0,0,8.7064,5.261,13.4339,13.4339,0,0,0,12.0171-5.4525,11.9264,11.9264,0,0,0,1.0416-12.3417l-.8488-1.891.4488-.3292,1.5427,1.3887a12.6405,12.6405,0,0,0,7.18,3.3387,13.1409,13.1409,0,0,0,12.432-6.6415,11.9858,11.9858,0,0,0-.9433-13.4857l-1.3316-1.8166.32-.3588,1.9572,1.1276a13.3632,13.3632,0,0,0,5.29,1.7781,12.744,12.744,0,0,0,12.7022-7.7743,11.9683,11.9683,0,0,0-3.2383-14.2976l-1.6086-1.4307.258-.4508,2.0514.67a14.1147,14.1147,0,0,0,2.9612.6424c6.7844.7071,11.4244-3.9468,13.0195-8.8594a12.1535,12.1535,0,0,0-5.7533-14.69ZM283.26,313.2773a10.8319,10.8319,0,0,1-.9245,11.2145,12.31,12.31,0,0,1-10.9811,4.9989,11.1292,11.1292,0,0,1-7.9279-4.806l-1.9818-2.7207L215.3462,219.1846l66.517,90.98ZM303.19,295.86a10.8966,10.8966,0,0,1,.8759,12.2564,11.998,11.998,0,0,1-11.328,6.0876,11.6148,11.6148,0,0,1-6.5593-3.0574l-2.45-2.2055-66.5641-91.0438,84.0787,75.3052Zm15.8583-21.1679a10.886,10.886,0,0,1,2.9588,13.0008,11.6764,11.6764,0,0,1-11.5471,7.1135,12.1836,12.1836,0,0,1-4.8578-1.6358l-2.96-1.7058L218.6549,216.242l97.8962,56.23ZM335.41,264.0768c-1.457,4.4875-5.6821,8.73-11.8326,8.0884a13.068,13.068,0,0,1-2.7321-.5931l-3.2162-1.0516-97.8453-56.2,107.5344,34.7657,2.8754,1.6412a11.0274,11.0274,0,0,1,5.2164,13.35Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M302.8747,126.8023l.0192.0215-90.838,81.67L318.001,147.3932l.0064.0112L319.6,145.973a11.9284,11.9284,0,0,0,3.6951-13.0016,13.1447,13.1447,0,0,0-10.8011-9.0563,12.5883,12.5883,0,0,0-7.7134,1.7862Zm9.5029-1.7677a12.0081,12.0081,0,0,1,9.8489,8.2872,10.8449,10.8449,0,0,1-3.3766,11.8138l-2.4451,2.1979-97.7672,56.3846,83.8652-75.4013,2.8619-1.6543A11.5346,11.5346,0,0,1,312.3776,125.0346Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M283.4844,109.3952l-71.7773,98.6993L302.54,126.4287l-.0008-.0009,1.2951-1.7756a11.88,11.88,0,0,0,1.5177-12.2924,13.4387,13.4387,0,0,0-10.6573-7.7862,12.2212,12.2212,0,0,0-9.6,3.3528l-1.62,1.4614Zm2.3887-.6565a10.9871,10.9871,0,0,1,4.0235-2.4711,11.1693,11.1693,0,0,1,4.665-.5763,12.3128,12.3128,0,0,1,9.7653,7.1291,10.8,10.8,0,0,1-1.4,11.1678l-2.0122,2.7576.0013.0013-83.7916,75.3351,66.2317-91.0734Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M183.9205,331.6948l25.2922-119.283L159.5873,323.9383l-.2743-.1225.35.1561-.4273,2.0086a12.1806,12.1806,0,0,0,1.8773,9.955,13.4535,13.4535,0,0,0,9.3764,5.25,12.0206,12.0206,0,0,0,12.65-7.4756l.8821-1.9941Zm-.6306-1.1037-1.1784,2.6623a10.94,10.94,0,0,1-11.51,6.8124,12.0836,12.0836,0,0,1-4.8-1.5115,12.2184,12.2184,0,0,1-3.77-3.2674,11.0136,11.0136,0,0,1-1.8368-4.3368,11.1543,11.1543,0,0,1,.14-4.7352l.7114-3.3429-.0476-.0213,45.72-102.7492Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M89.3469,170.2514l1.8,1.034-.1442.4475.1464-.4538,116.5083,37.667-106.1038-60.944.0051-.0091-1.9841-.6483a14.494,14.494,0,0,0-2.9625-.6348c-6.7841-.707-11.4235,3.9391-13.0186,8.8517A12.0928,12.0928,0,0,0,89.3469,170.2514ZM84.6613,155.91c1.4576-4.4841,5.6812-8.7218,11.8318-8.0807a13.4185,13.4185,0,0,1,2.7327.5854l3.1119,1.0169,97.879,56.22L92.7475,170.9067l-2.8438-1.6325A10.9914,10.9914,0,0,1,84.6613,155.91Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M100.2472,146.1236l1.5816,1.3977-.1527.2667.1412-.2464,106.1252,60.9562L116.9071,126.962l.1248-.14-.1091.1221L115,125.8362a13.382,13.382,0,0,0-5.2969-1.7782,12.7365,12.7365,0,0,0-12.702,7.7673A11.9631,11.9631,0,0,0,100.2472,146.1236Zm-2.22-13.84a11.6739,11.6739,0,0,1,11.5486-7.1068,12.191,12.191,0,0,1,4.8634,1.6352l2.8778,1.6581,84.0282,75.26L103.574,147.5715l.0032-.0056-2.5818-2.2821A10.8824,10.8824,0,0,1,98.0276,132.2833Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M209.916,334.5534l-.1794-122.0372L184.443,331.806l.0767.0162,0,2.1849c.0076,7.8442,5.6967,11.9487,11.3423,12.5371s12.0642-2.2539,13.6774-9.9292l.4335-2.0617Zm-1.4768,1.83c-1.4687,6.99-7.3161,9.578-12.46,9.0418-5.1387-.5356-10.3276-4.2746-10.3347-11.4178l-.0012-3.4183-.0739-.0156,23.3335-110.0456.1659,112.8694Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M83.7215,196.09l1.969.6434-.0038.0364L207.49,209.4566,90.9842,171.79l.0036-.0111-2.0684-.2156c-7.85-.8182-12.5338,4.397-13.698,9.9271S76.2331,193.6845,83.7215,196.09Zm-7.4009-14.3668a11.1,11.1,0,0,1,12.4831-9.04l3.2349.3372,107.5021,34.7553L87.33,196.0881l0-.0028-3.2653-1.067C77.2445,192.827,75.2607,186.7621,76.3206,181.7232Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M117.1325,293.1769l.1676.187-.1936-.2161,90.8378-81.67-105.945,61.1007-.2643-.46L207.68,211.0177,91.1917,248.8527l-.1631-.5038L207.51,210.5162,85.5763,223.3769l-.0557-.53,121.9241-12.86L85.6318,197.3l.0145-.1393-.0148.1416-2.0594.2243c-7.83.8157-11.3213,6.8806-11.3189,12.5334s3.5141,11.7212,11.335,12.5364l1.9271.2009.0627.5964-1.8513.6023a12.1469,12.1469,0,0,0-8.65,13.19c.55,5.143,4.1353,10.6464,10.9192,11.3535a14.0444,14.0444,0,0,0,3.03-.018l1.988-.2158.18.5573-1.7244.9892c-5.03,2.8718-7.3038,7.7284-6.116,13.3225a12.6241,12.6241,0,0,0,10.8324,10.2275,13.3688,13.3688,0,0,0,5.5489-.6472l1.9917-.649.2734.4757-1.5548,1.3937a11.933,11.933,0,0,0-3.7021,13,13.1514,13.1514,0,0,0,10.8006,9.0641,12.633,12.633,0,0,0,7.7128-1.7864Zm-33.4278-71.7a11.4732,11.4732,0,0,1-.01-22.8307l3.2593-.3555,112.3524,11.7023L87.068,221.8308l-.0005-.0037Zm5.193,25.9259a12.895,12.895,0,0,1-2.7855.0169c-6.155-.6416-9.4165-5.6628-9.9209-10.3768a11.0215,11.0215,0,0,1,7.8829-11.9757l3.0833-1.0036L199.546,212.2094,92.316,247.0373l-.0015-.0048Zm10.4774,24.2852a12.1383,12.1383,0,0,1-5.0719.5942,11.5206,11.5206,0,0,1-9.85-9.3416c-1.074-5.0618.958-9.476,5.5756-12.1123l2.832-1.624,107.3813-34.877-97.6361,56.3088ZM107.66,294.92a12.0124,12.0124,0,0,1-9.8482-8.2948,10.8437,10.8437,0,0,1,3.383-11.8115l2.4772-2.22,97.69-56.34-83.9139,75.4451-2.7742,1.593A11.5828,11.5828,0,0,1,107.66,294.92Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M159.1,323.7207l49.625-111.5255-71.7758,98.6972-.4332-.3161,71.7775-98.6994L117.46,293.5427l.0321.0359-1.2519,1.7195a11.8817,11.8817,0,0,0-1.5175,12.2933,13.44,13.44,0,0,0,10.6681,7.8158,12.22,12.22,0,0,0,9.6007-3.3527l1.5874-1.4319.43.3134-.8648,1.9424a12.0966,12.0966,0,0,0,.3666,11.2551,13.5616,13.5616,0,0,0,10.182,6.5328,11.99,11.99,0,0,0,11.2483-5.2632l1.205-1.6619Zm-24.886-12.4786a11.0048,11.0048,0,0,1-4.0244,2.47,11.14,11.14,0,0,1-4.6653.5768,12.32,12.32,0,0,1-9.7754-7.1578,10.793,10.793,0,0,1,1.3988-11.17l2.0128-2.7641-.0209-.0233,83.736-75.2852L136.4584,309.218Zm22.8187,13.4993a10.9079,10.9079,0,0,1-10.2185,4.8064,12.4425,12.4425,0,0,1-9.3273-5.9707,10.98,10.98,0,0,1-.3174-10.24l1.3871-3.1133-.05-.036L204.69,219.1807l-45.88,103.1079Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M136.5936,109.0265l-.0494.0362,72.1739,98.7165L158.7621,96.4l.0339-.0152-1.28-1.7569a12.2141,12.2141,0,0,0-8.706-5.2609,13.4123,13.4123,0,0,0-12.0108,5.46,11.913,11.913,0,0,0-1.0421,12.3423Zm1.1145-13.5371a12.2927,12.2927,0,0,1,10.9738-5.004,11.025,11.025,0,0,1,4.4763,1.5281,11.1909,11.1909,0,0,1,3.45,3.2783l1.8964,2.6032,46.1493,102.8919-66.4948-90.9491.0236-.0174-1.4008-3.1144A10.8284,10.8284,0,0,1,137.7081,95.4894Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M260.7667,323.7835l-.0151.0068-49.96-111.3875,25.6115,119.255.0093-.002.9058,2.0209a11.9967,11.9967,0,0,0,9.9254,7.47A13.5454,13.5454,0,0,0,258.55,336.855a12.0771,12.0771,0,0,0,2.68-10.9375Zm-.6142,7.6648a11.0083,11.0083,0,0,1-2.4276,4.6437,12.4277,12.4277,0,0,1-10.3652,3.9358,10.9161,10.9161,0,0,1-9.0158-6.8123l-1.3956-3.1128-.0127.0028-23.63-110.03L259.4246,322.9l.7158,3.2911A10.9891,10.9891,0,0,1,260.1525,331.4483Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M117.2552,126.5719l.0042-.0046,91.0293,81.5305-72.1756-98.719.02-.0146L134.6081,108a12.5941,12.5941,0,0,0-7.18-3.3388,13.1346,13.1346,0,0,0-12.4315,6.6348,11.9857,11.9857,0,0,0,.95,13.4857Zm-1.2862-14.7133a11.9971,11.9971,0,0,1,11.3294-6.08,11.5626,11.5626,0,0,1,6.56,3.06l2.3475,2.1012,66.63,91.134-83.9806-75.2174-2.0029-2.7417A10.9058,10.9058,0,0,1,115.969,111.8586Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M159.2681,96.1726l-.1244.056.1052-.0473,49.96,111.3874L183.5934,88.2964l.0188-.004-.894-2.0007a11.9985,11.9985,0,0,0-9.9254-7.47,13.5358,13.5358,0,0,0-11.3075,4.2993,12.0817,12.0817,0,0,0-2.6717,10.9316Zm.6231-7.648a10.9845,10.9845,0,0,1,2.4207-4.6417,12.4153,12.4153,0,0,1,10.3649-3.9418,10.9164,10.9164,0,0,1,9.0159,6.8107l1.3533,3.0275,23.649,110.117L160.616,97.1613l.0125-.0056-.725-3.3766A10.978,10.978,0,0,1,159.8912,88.5246Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M184.1092,88.1853l.0052-.0012,25.6148,119.2707L209.55,85.4315h-.0255l-.44-2.0728a12.0311,12.0311,0,0,0-10.842-9.9239,13.4464,13.4464,0,0,0-10.2555,3.2118,12.1587,12.1587,0,0,0-3.8834,9.3542Zm1.9518-6.8519a10.9313,10.9313,0,0,1,2.6614-3.8364,12.2241,12.2241,0,0,1,4.39-2.45,12.5508,12.5508,0,0,1,5.0139-.4924,10.9479,10.9479,0,0,1,9.8591,9.0387l.7091,3.3384h.0122l.1651,112.4988L185.2362,89.3763l-.01-3.4166A10.9436,10.9436,0,0,1,186.061,81.3334Z",transform:"translate(-0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M235.9268,331.7787l-.0409.0087L210.2712,212.5168,210.45,334.54l.065,0,.444,2.07a12.0167,12.0167,0,0,0,10.8352,9.9234,13.4421,13.4421,0,0,0,10.2548-3.2042,12.17,12.17,0,0,0,3.8834-9.3545Zm-1.9531,6.8627a10.9576,10.9576,0,0,1-2.66,3.8371,12.22,12.22,0,0,1-4.3895,2.4467,12.5086,12.5086,0,0,1-5.0124.4887,10.9308,10.9308,0,0,1-9.8523-9.04l-.7166-3.34-.0485,0-.1654-112.4925L234.8,330.7623l.01,3.2518A10.9589,10.9589,0,0,1,233.9737,338.6414Z",transform:"translate(-0 0)"}})])])]),t._v(" "),i("g",{ref:"thirdRing",class:t.$style.ring,attrs:{mask:"url(#third-ring-mask-"+t.id+")"}},[i("g",{class:t.$style.pathRotation},[i("path",{attrs:{fill:"#f6cea0",d:"M357.3833,209.4988a16.3231,16.3231,0,0,0-3.3175-30.478,15.47,15.47,0,0,0,5.8754-16.065,16.0671,16.0671,0,0,0-15.52-13.0521,15.3946,15.3946,0,0,0,3.0588-15.2293,16.3233,16.3233,0,0,0-15.3731-11.5983,17.1715,17.1715,0,0,0-3.178.3344,15.2964,15.2964,0,0,0,.622-13.9377A16.9069,16.9069,0,0,0,314.42,99.3767a16.4367,16.4367,0,0,0-6.177,1.3208A15.1877,15.1877,0,0,0,306.88,88.4127a17.2411,17.2411,0,0,0-14.7011-8.5569,15.8235,15.8235,0,0,0-8.9143,2.8855,15.1215,15.1215,0,0,0-2.8575-10.4237A17.4006,17.4006,0,0,0,266.49,65.3464a15.3575,15.3575,0,0,0-11.42,5.0686,15.09,15.09,0,0,0-3.8321-8.5056,17.246,17.246,0,0,0-12.7038-5.4564,15.5352,15.5352,0,0,0-13.613,7.7117A15.9962,15.9962,0,0,0,209.4737,53.52l-.1669.0093a15.9721,15.9721,0,0,0-15.2352,10.7266,15.3229,15.3229,0,0,0-13.6779-7.59,17.23,17.23,0,0,0-12.6392,5.5247,15.1291,15.1291,0,0,0-3.7918,8.5577A15.3567,15.3567,0,0,0,152.5,65.756a17.397,17.397,0,0,0-13.8575,7.0648,15.1332,15.1332,0,0,0-2.79,10.4442,15.9119,15.9119,0,0,0-8.9579-2.82,17.2313,17.2313,0,0,0-14.6183,8.6367,15.2073,15.2073,0,0,0-1.2817,12.3189,16.4511,16.4511,0,0,0-6.2059-1.2791,16.8939,16.8939,0,0,0-15.0356,10.2006,15.2978,15.2978,0,0,0,.7191,13.9373,17.3157,17.3157,0,0,0-3.2-.3138A16.3282,16.3282,0,0,0,71.98,135.6654a15.3788,15.3788,0,0,0,3.1734,15.1938A16.0585,16.0585,0,0,0,59.7451,164a15.4869,15.4869,0,0,0,5.9823,16.0411,16.3265,16.3265,0,0,0-3.1113,30.5025,16.3247,16.3247,0,0,0,3.32,30.4774A15.4763,15.4763,0,0,0,60.06,257.097a16.0676,16.0676,0,0,0,15.5353,13.0489,15.4142,15.4142,0,0,0-2.9983,15.2279,16.3166,16.3166,0,0,0,15.352,11.5576,17.07,17.07,0,0,0,3.183-.3351,15.3135,15.3135,0,0,0-.6171,13.939,16.9052,16.9052,0,0,0,15.1231,10.0973,16.48,16.48,0,0,0,6.1769-1.3233,15.1772,15.1772,0,0,0,1.3622,12.2806,17.24,17.24,0,0,0,14.7,8.5537,15.7831,15.7831,0,0,0,8.9217-2.8843A15.1215,15.1215,0,0,0,139.65,347.683a17.4066,17.4066,0,0,0,13.9242,6.9706,15.3611,15.3611,0,0,0,11.4221-5.0661,15.0889,15.0889,0,0,0,3.83,8.5068,17.2491,17.2491,0,0,0,12.7051,5.4533,15.5564,15.5564,0,0,0,13.6167-7.7067,16.4444,16.4444,0,0,0,30.7905-.0516,15.3124,15.3124,0,0,0,13.6767,7.5858,17.2272,17.2272,0,0,0,12.6392-5.5253,15.1308,15.1308,0,0,0,3.7918-8.5559,15.3555,15.3555,0,0,0,11.4612,4.9917,17.3971,17.3971,0,0,0,13.8587-7.0623,15.125,15.125,0,0,0,2.79-10.4424,15.9,15.9,0,0,0,8.9492,2.814,17.2368,17.2368,0,0,0,14.6282-8.6448,15.1906,15.1906,0,0,0,1.2731-12.3059,16.5248,16.5248,0,0,0,6.2046,1.2834,16.9018,16.9018,0,0,0,15.043-10.2061,15.2958,15.2958,0,0,0-.7141-13.9293,17.1924,17.1924,0,0,0,3.1877.3114,16.3307,16.3307,0,0,0,15.2922-11.7225,15.381,15.381,0,0,0-3.1672-15.1913,16.057,16.057,0,0,0,15.401-13.1369A15.4953,15.4953,0,0,0,354.27,240a16.3248,16.3248,0,0,0,3.1137-30.5012Zm-7.0782,29.6693c15.3976,6.7707,9.5372,28.7038-5.6071,28.7572a16.7875,16.7875,0,0,1-3.5658-.3773c12.7313,9.0939,4.6882,27.2438-8.41,27.29a15.7819,15.7819,0,0,1-6.4729-1.4226c9.7267,10.6461.5292,25.2054-11.0433,25.2461a15.1261,15.1261,0,0,1-8.9252-3.02c6.6712,11.3631-2.8391,22.6516-13.1813,22.688a14.5453,14.5453,0,0,1-10.9868-5.09c3.7255,11.2673-5.3707,19.7481-14.6105,19.7807a14.37,14.37,0,0,1-12.7245-7.56c1.1214,10.4005-7.0132,16.6212-15.1683,16.65a14.35,14.35,0,0,1-14.1051-10.3472c-.9064,8.93-7.8965,13.4271-14.9175,13.4518s-14.06-4.454-15.0209-13.3779a14.4339,14.4339,0,0,1-14.0407,10.445c-8.1475.0287-16.3573-6.1268-15.2839-16.5425a14.3724,14.3724,0,0,1-12.6723,7.6492c-9.256.0326-18.4117-8.384-14.7489-19.6772a14.58,14.58,0,0,1-10.9593,5.1674c-10.3413.0364-19.931-11.21-13.34-22.5946a15.1062,15.1062,0,0,1-8.9033,3.0831c-11.5646.0395-20.864-14.4534-11.2129-25.1678a15.84,15.84,0,0,1-6.47,1.467c-13.0977.0462-21.1946-18.0064-8.659-27.1879a16.7041,16.7041,0,0,1-3.5627.401c-15.1611.0534-21.1755-21.8606-5.81-28.7157-18.0808.0637-20.896-25.8474-3.2116-29.6349-17.7106-3.6537-15.07-29.5931,3.003-29.6568-15.3972-6.7617-9.5371-28.6949,5.6076-28.7482a17.29,17.29,0,0,1,3.5653.37c-12.73-9.0936-4.6873-27.2356,8.41-27.2817a15.9787,15.9787,0,0,1,6.4806,1.4136c-9.7264-10.6457-.5291-25.1966,11.0354-25.2372a15.045,15.045,0,0,1,8.9247,3.02c-6.6624-11.3706,2.84-22.66,13.1812-22.6966a14.5872,14.5872,0,0,1,10.9954,5.09c-3.726-11.2592,5.37-19.7476,14.61-19.78a14.3715,14.3715,0,0,1,12.7245,7.56c-1.12-10.4,7.0132-16.6208,15.1683-16.65A14.3666,14.3666,0,0,1,194.51,68.2858c.8987-8.9627,7.9052-13.467,14.9274-13.4917l.04-.0083c7.021-.0247,14.0591,4.4627,15.0285,13.3864a14.4139,14.4139,0,0,1,14.0319-10.4535c8.1475-.0287,16.3573,6.1345,15.2851,16.5423a14.3872,14.3872,0,0,1,12.6711-7.6487c9.2486-.0326,18.4043,8.3914,14.7493,19.6768a14.5848,14.5848,0,0,1,10.9508-5.1675c10.3409-.0365,19.9319,11.2184,13.3408,22.6033a15.0633,15.0633,0,0,1,8.9038-3.0828c11.5725-.0408,20.871,14.4451,11.2208,25.159a15.9113,15.9113,0,0,1,6.4615-1.4592c13.0978-.0461,21.2445,18.0389,8.603,27.2212a17.3794,17.3794,0,0,1,3.5617-.3934c15.1621-.0535,21.1757,21.8607,5.8109,28.708,18.0809-.0637,20.9037,25.8475,3.21,29.6349C371.02,213.1753,368.3785,239.1045,350.3051,239.1681Z",transform:"translate(0 0)"}}),t._v(" "),i("g",[i("path",{attrs:{fill:"#f6cea0",d:"M195.1049,70.714l14.8858,136.425L223.9626,70.7156l.5984.0612L210.59,207.1925,252.7453,76.5163l.1914.0618-.1863-.06.24-2.3272a13.6618,13.6618,0,0,0-3.3-10.9036,15.1634,15.1634,0,0,0-11.1326-4.7489,13.5275,13.5275,0,0,0-13.2592,9.8826l-.7586,2.3538-.5666-.058-.2652-2.4525c-.9448-8.7776-7.8176-12.6813-14.2107-12.6589l-.0571,0c-6.3867.0225-13.2319,3.9745-14.1224,12.7586l-.2375,2.3525Zm30.25,1.662,1.1486-3.5686a12.3083,12.3083,0,0,1,12.062-9.0035,14.8151,14.8151,0,0,1,5.56,1.1158,13.7607,13.7607,0,0,1,4.6157,3.2061,12.3925,12.3925,0,0,1,2.99,9.935l-.3791,3.6676L212.459,198.2941Zm-28.7779-3.8841c.8111-7.999,7.0468-11.6,12.8675-11.6206l.0567,0c5.8256-.02,12.089,3.5365,12.949,11.529l.4066,3.7578L209.9605,198.0811,196.2133,72.09Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M353.164,210.2916l-2.3547-.4986-.0022-.6091,2.3512-.515c8.6713-1.8482,11.8509-9.0576,11.1691-15.3776s-5.3469-12.6816-14.2032-12.65l-2.26.0079-.0194-.09.0124.058L212.8608,209.69l137.9463-.4961.0022.5991-137.934.4962,135.0071,28.0711-.0031.0145,2.4153-.0346c8.8892-.0313,13.4993-6.4256,14.1453-12.75S361.8482,212.0874,353.164,210.2916Zm-3.9893-2.0457-127.2.4575L346.3368,181.92l3.7924-.0133c8.0764-.0285,12.318,5.7655,12.94,11.521.6211,5.7579-2.2842,12.3212-10.1829,14.0047Zm14.0064,17.2149c-.5891,5.761-4.8034,11.5854-12.9046,11.6139l-3.6513.0525L221.98,211.2106l127.2513-.4577,3.6755.7777C360.8227,213.1677,363.77,219.706,363.1811,225.4608Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M323.7786,127.494l-.2213-.3038.2124.2917L212.4743,208.5665,338.3769,152.224l.2433.5436L212.7248,209.1069,347.731,180.0311l-.0055-.0256,2.0427-.9139a13.6573,13.6573,0,0,0,8.1-15.7883c-1.2262-5.6764-5.912-11.3975-13.5948-11.37a16.3464,16.3464,0,0,0-3.391.3765l-2.247.4911-.2613-.584,1.859-1.349c5.28-3.8172,7.2419-9.529,5.2383-15.6329a14.214,14.214,0,0,0-13.3627-10.1216,15.0591,15.0591,0,0,0-6.1276,1.393Zm17.3732,26.0516a15.185,15.185,0,0,1,3.126-.3472c6.98-.0246,11.2345,5.1915,12.3591,10.3982a12.3614,12.3614,0,0,1-1.0244,8.5054,12.508,12.508,0,0,1-6.3613,5.8344l-3.4085,1.5254L221.44,206.2538,337.38,154.37l0,0Zm-9.0388-27.1668a12.9682,12.9682,0,0,1,12.1549,9.2506c1.8142,5.5257.0736,10.7055-4.7793,14.2132l-3.006,2.182L220.4056,203.97l102.5752-74.7314,0,.0006,3.5308-1.5848A13.6986,13.6986,0,0,1,332.113,126.3788Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M211.1623,207.3761l68.5054-119.002.0117.0067.7564-2.3325a13.55,13.55,0,0,0-1.773-12.532,15.26,15.26,0,0,0-12.1891-6.0843,13.5118,13.5118,0,0,0-11.9636,7.24l-1.1686,2.0362-.0242-.0078ZM255.6091,75.3024a12.2873,12.2873,0,0,1,10.8615-6.6044h.0026a13.9966,13.9966,0,0,1,11.1641,5.56,12.2816,12.2816,0,0,1,1.5951,11.4l-1.1631,3.5851L214.84,199.08,253.6948,78.6348Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M349.9824,239.892l-2.2176-.9658.0125-.06-.0178.086L212.749,210.88l126.1591,55.3513-.24.5467L212.4835,211.4156l111.762,80.1908-.347.4837L212.1439,211.9046l92.7086,101.676-.4447.4055L211.7013,212.3125,281.05,330.8215l-.1633.0955.153-.0895,1.6591,1.826a13.7926,13.7926,0,0,0,10.3834,4.8329,15.1416,15.1416,0,0,0,12.8018-7.5448,13.3933,13.3933,0,0,0-.3186-13.9245l-1.1781-2.0119.463-.4221,1.8948,1.3667a14.2473,14.2473,0,0,0,8.4423,2.8674,14.8076,14.8076,0,0,0,13.1236-8.924,13.4607,13.4607,0,0,0-2.6792-14.9644l-1.71-1.8706.3156-.44,2.3276,1.0249a15.07,15.07,0,0,0,6.1387,1.35c5.9856-.0211,11.3614-4.236,13.29-10.2234s-.0734-11.8167-5.3471-15.5954l-1.9736-1.4057.2347-.5352,2.3781.5021a15.926,15.926,0,0,0,3.3935.3614c7.6829-.0271,12.3193-5.79,13.5144-11.4747a13.6573,13.6573,0,0,0-8.2106-15.7309Zm-45.5088,76.7657a12.1643,12.1643,0,0,1,.314,12.65,13.8748,13.8748,0,0,1-11.6961,6.9126,12.5386,12.5386,0,0,1-9.4568-4.4178l-2.5469-2.8032L217.0939,219.6407l85.44,93.7046Zm20.223-21.8756a12.2375,12.2375,0,0,1,2.4558,13.5981,13.52,13.52,0,0,1-11.9537,8.1717,13.0926,13.0926,0,0,1-7.7138-2.6278l-3.0091-2.1706L218.975,217.9826l103.2216,74.0629Zm15.2125-25.5786c4.8045,3.4428,6.6289,8.7429,4.8781,14.1792-1.7655,5.4833-6.736,9.3264-12.0757,9.3452a13.7407,13.7407,0,0,1-5.6371-1.2434l-3.52-1.55L220.4452,215.9518l116.4,51.07Zm17.0462-13.8411c-1.0917,5.1929-5.313,10.4451-12.2781,10.47a14.7418,14.7418,0,0,1-3.131-.3338l-3.7284-.7881L221.478,213.667l124.6113,25.91,3.4177,1.4884a12.3923,12.3923,0,0,1,7.4483,14.2974Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M304.0007,105.8006l.0241.0216L212.1227,208.0843,323.4184,127l.0085.0118,1.6112-1.7924c3.9489-4.3881,4.8915-9.8451,2.5736-14.9821a14.7994,14.7994,0,0,0-13.1859-8.8238,14.1973,14.1973,0,0,0-8.4233,2.9268Zm10.43-3.1218a13.52,13.52,0,0,1,12.027,8.0786c2.1005,4.6527,1.24,9.6148-2.36,13.6157l-2.4738,2.7521-102.7048,74.826,84.8475-94.4125,3.006-2.1945A13.0089,13.0089,0,0,1,314.43,102.6788Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M280.1908,88.6752,211.684,207.68l91.8969-102.2564-.0011-.001,1.2368-2.1413a13.3415,13.3415,0,0,0,.22-13.9268,15.1348,15.1348,0,0,0-12.872-7.421,13.7781,13.7781,0,0,0-10.3479,4.9057l-1.6386,1.8292Zm2.5961-1.0219a12.38,12.38,0,0,1,4.2086-3.2478,12.6007,12.6007,0,0,1,5.1551-1.2067,13.8671,13.8671,0,0,1,11.7939,6.794,12.1288,12.1288,0,0,1-.2236,12.6551l-1.9217,3.3257.0016.0014-84.773,94.33,63.2138-109.81Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M195.4389,349.2232,209.41,212.8074,167.2547,343.4836l-.3219-.1038.41.1324-.2368,2.2972a13.678,13.678,0,0,0,3.3,10.9041,15.1585,15.1585,0,0,0,11.1324,4.74,13.5426,13.5426,0,0,0,13.2669-9.8829l.7479-2.3359Zm-.8391-1.1581-.9993,3.1187a12.3245,12.3245,0,0,1-12.0708,9.0041,13.9012,13.9012,0,0,1-10.1731-4.31,12.3747,12.3747,0,0,1-2.5788-4.6274,12.5219,12.5219,0,0,1-.413-5.3112l.3944-3.8233-.0559-.0181,38.8376-120.3919Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M70.0988,180.1162l2.14.9391-.1075.5178.1093-.5251L207.2512,209.12l-126.16-55.3514.0047-.0107-2.3-.4858a16.3539,16.3539,0,0,0-3.394-.3526c-7.6826.0271-12.3192,5.7811-13.5144,11.4659A13.5885,13.5885,0,0,0,70.0988,180.1162Zm-6.9731-15.47c1.0927-5.1892,5.3128-10.4364,12.278-10.461a15.1471,15.1471,0,0,1,3.1309.3252l3.6074.7619,116.38,51.0608L73.986,180.439l-3.3812-1.4825A12.3509,12.3509,0,0,1,63.1257,164.6462Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M79.4028,151.8257l1.9394,1.3721-.1389.3166.1284-.2926,126.1848,55.3626L95.7544,128.3935l.123-.1713-.1075.15-2.2868-1.0072a15.0922,15.0922,0,0,0-6.146-1.35,14.3485,14.3485,0,0,0-13.29,10.2154C72.1186,142.2182,74.121,148.0458,79.4028,151.8257Zm-4.1512-15.207c1.7644-5.48,6.7359-9.319,12.0782-9.3379a13.7473,13.7473,0,0,1,5.6433,1.2422l3.4223,1.507,103.16,74.0183L83.3027,153.0436l.0029-.0067-3.166-2.24C75.329,147.3531,73.5007,142.0531,75.2516,136.6187Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M224.8952,349.2861,210.0093,212.861,196.0374,349.2845l.0878.0089.2635,2.4428c.9524,8.7695,7.8175,12.6729,14.2108,12.65s13.2395-3.9742,14.1226-12.75l.2374-2.3574Zm-1.4336,2.224c-.8037,7.9928-7.0408,11.5907-12.8662,11.6112-5.8193.02-12.08-3.5346-12.9478-11.52l-.4127-3.8218-.0846-.0086L210.04,221.9191l13.7676,126.1765Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M66.9081,209.6838l2.2826.482,0,.0412,137.9346-.4961L72.1176,181.64l.0027-.0128-2.3423.0082c-8.8894.0313-13.5076,6.4269-14.1459,12.75S58.2325,207.8967,66.9081,209.6838ZM56.891,194.5126c.5816-5.76,4.7935-11.5835,12.8921-11.612l3.6634-.0129L198.02,208.79l-127.0715.457v-.0031l-3.7853-.7994C59.2619,206.8161,56.3105,200.2742,56.891,194.5126Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M116.0079,314.2071l.21.1889-.2428-.2182,91.9018-102.262L96.5815,293l-.3513-.4822,111.2957-81.0848L81.6231,267.776l-.2433-.5437,125.895-56.3391L72.2689,239.969l-.1261-.5855L207.1384,210.31l-137.9454.4961,0-.1575,0,.16-2.2793.4989c-8.6709,1.8557-11.8508,9.0576-11.1679,15.3776s5.3459,12.6816,14.2026,12.65l2.1824-.0077.142.6593-2.0009.8965a13.66,13.66,0,0,0-8.1,15.79c1.2353,5.6839,5.9123,11.405,13.5946,11.378a15.8461,15.8461,0,0,0,3.3916-.3854l2.2-.4809.2691.6014L79.8156,269.1c-5.2878,3.8172-7.2495,9.5212-5.2462,15.6327a14.21,14.21,0,0,0,13.3619,10.13,15.0812,15.0812,0,0,0,6.1364-1.3924l2.1524-.9657.3634.4989L95.01,294.7489c-3.9565,4.3884-4.8915,9.8534-2.5817,14.9817a14.8072,14.8072,0,0,0,13.1863,8.8326,14.249,14.249,0,0,0,8.4226-2.9269ZM69.9441,238.07c-8.0764.0285-12.3179-5.7662-12.94-11.5216-.6223-5.753,2.283-12.3145,10.1817-14.0035l3.6073-.79,127.2318-.4577L73.7533,238.0605l-.0009-.0041ZM78.88,266.431a14.5372,14.5372,0,0,1-3.1175.3546c-6.97.0246-11.227-5.1964-12.3591-10.4062a12.3615,12.3615,0,0,1,1.0256-8.5054A12.4914,12.4914,0,0,1,70.79,242.04l3.3322-1.4938,124.4377-26.8L82.6637,265.6107l-.0021-.0051Zm14.6559,25.89a13.6909,13.6909,0,0,1-5.6086,1.2756,12.9674,12.9674,0,0,1-12.1548-9.2574c-1.8118-5.53-.0673-10.71,4.7867-14.2144l2.9762-2.1571,116.06-51.9377L97.0275,290.7553ZM105.61,317.2978a13.5246,13.5246,0,0,1-12.0271-8.0873A12.1813,12.1813,0,0,1,95.95,295.5967l2.5071-2.7807,102.624-74.7671-84.8969,94.4674-2.9151,2.1155A13.0649,13.0649,0,0,1,105.61,317.2978Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M166.6827,343.2991l42.155-130.6751L140.3323,331.626l-.5232-.3012L208.3161,212.32l-91.897,102.2564.04.0362-1.1951,2.0735a13.3436,13.3436,0,0,0-.22,13.9278,15.1372,15.1372,0,0,0,12.8877,7.4528,13.7787,13.7787,0,0,0,10.3484-4.9058l1.6055-1.7922.5186.2986-.7347,2.276a13.5839,13.5839,0,0,0,1.7649,12.54,15.2785,15.2785,0,0,0,12.189,6.0769,13.5131,13.5131,0,0,0,11.9636-7.24l1.15-2.0034Zm-29.3715-10.9525a12.3978,12.3978,0,0,1-4.21,3.2471,12.5657,12.5657,0,0,1-5.1553,1.2073,13.8752,13.8752,0,0,1-11.8087-6.8248,12.1207,12.1207,0,0,1,.2224-12.6569l1.9215-3.3331-.0261-.0236,84.7168-94.2671L139.5812,329.813ZM164.49,344.69a12.2937,12.2937,0,0,1-10.8654,6.6055,14.0156,14.0156,0,0,1-11.164-5.5514,12.3286,12.3286,0,0,1-1.5877-11.4109l1.1787-3.648-.06-.0343,63.1677-109.73L166.1865,341.7328Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M115.6432,105.9676l-.051.0464,92.7064,101.6734L138.95,89.1785l.0361-.0211-1.6447-1.81a13.7608,13.7608,0,0,0-10.3829-4.8327,15.116,15.116,0,0,0-12.7939,7.5517,13.3784,13.3784,0,0,0,.3181,13.9252Zm-.3808-15.27A13.855,13.855,0,0,1,126.95,83.78a12.4324,12.4324,0,0,1,5.1969,1.1689,12.5975,12.5975,0,0,1,4.2585,3.2495l2.437,2.682,64.0639,109.4786L117.4943,106.686l.0244-.0224-1.9436-3.3132A12.1607,12.1607,0,0,1,115.2624,90.6977Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M280.547,331.1155l-.0161.01L211.1774,212.607,254.21,342.8561l.01-.0033,1.2576,2.15a13.5107,13.5107,0,0,0,12.0144,7.1559,15.2717,15.2717,0,0,0,12.1458-6.1614,13.5659,13.5659,0,0,0,1.6848-12.552Zm.2345,8.6439a12.3721,12.3721,0,0,1-2.16,5.4847,14.01,14.01,0,0,1-11.1344,5.65,12.2927,12.2927,0,0,1-10.9165-6.53l-1.9375-3.3121-.0139.0046L214.9157,220.8824,278.9377,330.29l1.1977,3.5934A12.3357,12.3357,0,0,1,280.7815,339.7594Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M96.0973,127.9155l.0042-.0057,111.7546,80.1856-92.7086-101.676.0206-.0187-1.872-1.342a14.1966,14.1966,0,0,0-8.443-2.8676,14.8007,14.8007,0,0,0-13.1237,8.9165,13.4606,13.4606,0,0,0,2.687,14.9636ZM92.8864,111.62a13.5188,13.5188,0,0,1,11.9563-8.1631,13.0323,13.0323,0,0,1,7.7148,2.63l2.8819,2.0664,85.5854,93.8638L97.9238,128.0407l-2.573-2.824A12.248,12.248,0,0,1,92.8864,111.62Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M139.49,88.863l-.1326.0776.1121-.0656,69.3534,118.5179L165.7839,77.1249l.02-.0068-1.242-2.1291a13.5124,13.5124,0,0,0-12.0143-7.1561,15.26,15.26,0,0,0-12.1459,6.17,13.57,13.57,0,0,0-1.6767,12.5444Zm-.2226-8.6261a12.3459,12.3459,0,0,1,2.1525-5.4815,13.9972,13.9972,0,0,1,11.1333-5.6566,12.2938,12.2938,0,0,1,10.9165,6.5282l1.88,3.2219,39.7351,120.2687L141.1181,89.806l.0134-.0078L139.9133,86.11A12.3242,12.3242,0,0,1,139.2671,80.2369Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M166.3481,76.9385l.0057-.0019L209.392,207.2029l-14.8843-136.41-.0285.0031-.7427-2.2645A13.5429,13.5429,0,0,0,180.4,58.743,15.162,15.162,0,0,0,169.3017,63.57a13.6619,13.6619,0,0,0-3.2234,10.9268Zm1.3613-7.8962a12.295,12.295,0,0,1,2.5189-4.61,13.7752,13.7752,0,0,1,4.6214-3.2685,14.1582,14.1582,0,0,1,5.5557-1.1549,12.3241,12.3241,0,0,1,12.129,8.9176l1.1958,3.6472.0136-.0015L207.466,198.3343l-39.7124-120.2-.4224-3.8189A12.29,12.29,0,0,1,167.7094,69.0423Z",transform:"translate(0 0)"}}),t._v(" "),i("path",{attrs:{fill:"#f6cea0",d:"M253.6908,343.0487l-.0446.0147L210.6081,212.7972l14.884,136.41.0728-.008.7463,2.2611a13.5273,13.5273,0,0,0,13.3285,9.7892,15.1581,15.1581,0,0,0,11.0988-4.8186,13.6744,13.6744,0,0,0,3.2233-10.9271Zm-1.3614,7.9084a12.32,12.32,0,0,1-2.5177,4.6108,13.7689,13.7689,0,0,1-4.6213,3.2647,14.1107,14.1107,0,0,1-5.5546,1.1506,12.3045,12.3045,0,0,1-12.1215-8.92l-1.2044-3.6483-.0544.006L212.5339,221.6656l39.7727,120.3825.4023,3.6346A12.3049,12.3049,0,0,1,252.3294,350.9571Z",transform:"translate(0 0)"}})])])]),t._v(" "),i("circle",{ref:"progressCircle",attrs:{cx:"210",cy:"210",r:"100",fill:"none",stroke:"#f6cea0"}})])]),t._v(" "),t.primaryLoader?t._e():i("span",{ref:"progress",class:["heading-04",t.$style.percentage]},[t._v("\n    "+t._s(t.progress)+"\n  ")])])}),[],!1,(function(t){this.$style=ql.default.locals||ql.default}),null,null).exports;var Ql={name:"SitePreloader",components:{LoaderProgressRing:Kl},extends:D.AbstractTransitionComponent,data:()=>({progress:0,manualProgress:0}),computed:{totalProgress(){return Math.round(this.progress*this.manualProgress*100)},id(){return this._uid}},watch:{totalProgress(t){this.$webgl.setPreloaderProgress(this.$route.name===Gt.HOME?U.gsap.utils.interpolate(0,.5,t/100):t/100)}},methods:{handleAllComponentsReady(){this.transitionController=new jl(this),this.isReady(),this.loadApplication()},async loadApplication(){if(this.$refs.loader.start(),await this.transitionIn(!0),this.$preloader.addTask(new Wl({loadMethod:this.$webgl.load.bind(this.$webgl)})),Ol.WEBAUDIO_ENABLED){var t,e,i;const s=new URL(document.location.href),a=parseFloat(null!==(t=s.searchParams.get("music"))&&void 0!==t?t:.8),n=parseFloat(null!==(e=s.searchParams.get("ambient"))&&void 0!==e?e:.8),r=parseFloat(null!==(i=s.searchParams.get("ui"))&&void 0!==i?i:.8),o=Object.values(F).map(t=>({name:t}));this.$sound.sampleManager.addSamples(o),this.$sound.createChannel(h.UI,r,!1),this.$sound.createChannel(h.MUSIC,a,!1),this.$sound.createChannel(h.AMBIENT,n,!1),this.$preloader.addTask(new Xl({loadMethod:this.$sound.sampleManager.loadAllSamples.bind(this.$sound.sampleManager)}))}var s,a,n;await Promise.all([this.$preloader.start({onUpdate:this.onPreloaderUpdate}),(s=this,a=3,n=this.onManualUpdate,new Promise(t=>{U.gsap.to(s,{duration:a,onUpdate:n,manualProgress:1,ease:"power1.inOut",onComplete:()=>t()})}))]),this.$sound.addFadeToSamples([F.APADANA_LOOP,F.GATE_OF_ALL_NATIONS_LOOP,F.HALL_OF_A_100_COLUMNS_LOOP,F.PALACE_OF_XERXES_LOOP,F.INTRO_LOOP,F.SOUTH_EASTERN_PALACE_LOOP,F.OUTDOOR_BIRD_OPTION_1_AMBIENT,F.OUTDOOR_BIRD_OPTION_2_AMBIENT,F.OUTDOOR_BIRD_OPTION_3_AMBIENT,F.INDOOR_NEUTRAL_TONE_OPTION_2_AMBIENT,F.INDOOR_NEUTRAL_TONE_OPTION_2_AMBIENT,F.OUTDOOR_NEUTRAL_TONE_OPTION_1_AMBIENT,F.OUTDOOR_NEUTRAL_TONE_OPTION_2_AMBIENT,F.FIRE_TORCH_AMBIENT,F.OUTDOOR_WATER_AMBIENT]),this.onPreloaderUpdate(1),this.$route.name!==Gt.HOME&&this.$webgl.setPreloaderDone(),this.$emit("preloaded"),await this.transitionOut(!0),this.$refs.loader.stop(),this.$emit("complete")},onPreloaderUpdate(t){this.progress=t},onManualUpdate(){}}},Jl=i(339);var tc=Object(T.a)(Ql,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:["abs-fill",this.$style.sitePreloader]},[e("LoaderProgressRing",{ref:"loader",attrs:{"primary-loader":!0,progress:this.totalProgress}})],1)}),[],!1,(function(t){this.$style=Jl.default.locals||Jl.default}),null,null).exports;class ec extends D.AbstractTransitionController{toggleMenuState(t){const{menuButton:e,closeIcon:i}=this.parentController.$refs,{currentSceneName:s,closeLabel:a}=this.parentController.$refs,n=U.default.timeline(),r=[...e.$el.querySelectorAll("path")],o=[...i.$el.querySelectorAll("path")];return t||(n.to(o,{drawSVG:"100% 100%",xPercent:U.default.utils.wrap([50,-50]),yPercent:U.default.utils.wrap([50,50]),duration:.6,ease:"power2.in"}),n.add(se(i.$el,{duration:.01,to:0,clearProps:!0}),">-0.01")),n.fromTo(r,{autoAlpha:t?1:0,xPercent:e=>t?0:U.default.utils.wrap([-100,100,100,-100],e),yPercent:e=>t?0:U.default.utils.wrap([-100,-100,100,100],e)},{autoAlpha:t?0:1,xPercent:e=>t?U.default.utils.wrap([100,100,-100,-100],e):0,yPercent:e=>t?U.default.utils.wrap([-100,100,100,-100],e):0,duration:.6,stagger:.025,ease:t?"power2.in":"power2.out"}),t&&(n.add(se(i.$el,{duration:.01,to:1}),">-0.2"),n.fromTo(o,{drawSVG:"0%",xPercent:U.default.utils.wrap([-50,50]),yPercent:U.default.utils.wrap([-50,-50])},{drawSVG:"0% 100%",xPercent:0,yPercent:0,stagger:.05,duration:.6,ease:"power2.out"},"<")),n.add(se(t?s:a,{to:0,duration:.35}),0),n.add(ie(t?a:s,{from:0,to:1}),"<0.1"),n}resetMenuLoop(t=!1){const{menuButton:e}=this.parentController.$refs,i=[...e.$el.querySelectorAll("path")],s=Number(U.default.getProperty(i[0],"xPercent")),a=s>31.232821947928635?62.46564389585727:0;return U.default.to(i,{xPercent:U.default.utils.wrap([a,-a,-a,a]),yPercent:U.default.utils.wrap([a,a,-a,-a]),duration:t&&![0,Math.ceil(62.46564389585727)].includes(Math.ceil(s))?.3:.01,clearProps:"xPercent,yPercent",ease:"power2.out"})}setupTransitionInTimeline(t,e,i){const{menuButton:s}=e.$refs;t.add(this.getTimeline(s),"<")}setupTransitionOutTimeline(t,e,i){}setupLoopingAnimationTimeline(t,e,i){if("menuHover"===i){const{menuButton:i}=e.$refs,s=[...i.$el.querySelectorAll("path")],a=5/8.0044*100;t.fromTo(s,{xPercent:0,yPercent:0},{xPercent:U.default.utils.wrap([a,-a,-a,a]),yPercent:U.default.utils.wrap([a,a,-a,-a]),duration:.5,ease:"power1.inOut"}),t.add(()=>{},"+=0.75")}}}const ic=[{scene:Xt.GATE_OF_ALL_NATIONS,hotspot:gr.OVERVIEW_GATE_OF_ALL_NATIONS,label:"gateOfAllNations.name"},{scene:Xt.THE_APADANA,hotspot:gr.OVERVIEW_APADANA,label:"theApadana.name"},{scene:Xt.PALACE_OF_XERXES,hotspot:gr.OVERVIEW_PALACE_OF_XERXES,label:"palaceOfXerxes.name"},{scene:Xt.SOUTH_EASTERN_PALACE,hotspot:gr.OVERVIEW_SOUTH_EASTERN_PALACE,label:"southEasternPalace.name"},{scene:Xt.ROYAL_TREASURY,hotspot:gr.OVERVIEW_ROYAL_TREASURY,label:"royalTreasury.name"},{scene:Xt.HALL_OF_100_COLUMNS,hotspot:gr.OVERVIEW_HALL_OF_100_COLUMNS,label:"hallOf100Columns.name"}];var sc={name:"SiteHeader",components:{PrimaryButton:xe},extends:D.AbstractTransitionComponent,props:{isPreloaded:Object(o.bool)(),isCloseClickable:Object(o.bool)().def(!1)},data:()=>({isHovered:!1,isMenuHighlighted:!0}),computed:{...Object(B.d)({isNavigationOpen:({app:t})=>t.isNavigationOpen,isAboutTheProjectOpen:({app:t})=>t.isAboutTheProjectOpen,isCloseActive:({app:t})=>t.isCloseActive,closeCallback:({app:t})=>t.closeCallback,animateCloseButton:({app:t})=>t.animateCloseButton,currentActiveHotspot:({app:t})=>t.currentActiveHotspot,currentScene:({app:t})=>t.currentScene}),currentSceneId(){return this.$route.name===this.RouteNames.EXPERIENCE?this.$route.params.slug:null},currentSceneName(){var t,e;return null===this.currentSceneId?null:null!==(t=null===(e=ic.find(({scene:t})=>t===this.currentSceneId))||void 0===e?void 0:e.label)&&void 0!==t?t:null},buttonAriaLabel(){return this.isCloseActive&&this.currentSceneName?`${this.$t("menu.closeMenu")} ${this.$t("menu.backToLocation").replace("[location]",this.$t(this.currentSceneName))}`:this.isCloseActive?this.$t("menu.closeMenu"):this.$t("menu.openMenu")},isPrimaryNavigationInert(){const t=zr.find(t=>t.id===this.currentScene),e=null===t||void 0===t?void 0:t.components.find(t=>t.id===this.currentActiveHotspot);return"PastPresentHotspot"===(null===e||void 0===e?void 0:e.component)&&!!this.currentActiveHotspot},isMenuButtonVisible(){return this.isPreloaded&&this.$route.name===this.RouteNames.EXPERIENCE}},watch:{isNavigationOpen(t){t&&(Wt("nav_overview",{room:Zt(this.$route)}),this.isMenuHighlighted=!1,this.setIsCloseActive({active:!0,callback:()=>this.toggleNavigation(!1)}))},async isCloseActive(t){t&&(this.isMenuHighlighted=!1,this.stopLoopingAnimation(),await this.transitionController.resetMenuLoop(!0)),this.menuStateTimeline&&this.menuStateTimeline.kill(),this.menuStateTimeline=await this.transitionController.toggleMenuState(t).then(()=>{}),this.isHovered&&this.onMenuMouseEnter()},isMenuButtonVisible(t){t&&this.transitionController&&this.transitionIn()}},methods:{...Object(B.c)({toggleNavigation:"app/setToggleNavigation",setIsCloseActive:Vt}),handleAllComponentsReady(){this.transitionController=new ec(this),this.isPreloaded&&this.isMenuButtonVisible&&this.transitionIn(),this.isReady()},onMenuMouseEnter(){W()||(this.isCloseActive||this.startLoopingAnimation("menuHover",!0),this.isHovered=!0)},onMenuMouseLeave(){W()||(this.stopLoopingAnimation(),this.isCloseActive||this.transitionController.resetMenuLoop(!0),this.isHovered=!1)},onNavigationToggleClick(){if(this.isCloseActive&&null!==this.closeCallback)return this.closeCallback(),void(this.animateCloseButton&&this.setIsCloseActive({active:!1}));this.toggleNavigation()}}},ac=i(340);var nc=Object(T.a)(sc,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",{class:[t.$style.siteHeader]},[i("div",{class:t.$style.logoWrapper},[i("a",{attrs:{href:"https://www.getty.edu/",target:"_blank","aria-label":t.$t("menu.gettyLogo")}},[i("Icon",{class:t.$style.getty,attrs:{name:"getty-logo",role:"img"}})],1)]),t._v(" "),i("nav",{class:t.$style.navigation,attrs:{inert:t.isPrimaryNavigationInert}},[i("aside",{class:["copy-cta",t.$style.currentSceneName]},[t.currentSceneName?i("span",{ref:"currentSceneName",class:t.$style.label},[t._v("\n        "+t._s(t.$t(t.currentSceneName))+"\n      ")]):t._e(),t._v(" "),t.isCloseActive?i("span",{ref:"closeLabel",class:t.$style.label},[t._v(t._s(t.$t("general.close")))]):t._e()]),t._v(" "),i("div",{class:t.$style.menuButton},[i("span",{class:[t.$style.menuButtonHighlight,t.isMenuHighlighted&&t.isMenuButtonVisible&&t.$style.isHighlight]}),t._v(" "),i("PrimaryButton",{ref:"menuButton",attrs:{type:t.ButtonType.ACTION,filled:!t.isCloseActive,icon:"menu","aria-label":t.buttonAriaLabel,"click-sound":t.SampleName.MENU_DROPDOWN},on:{click:t.onNavigationToggleClick},nativeOn:{mouseenter:function(e){return t.onMenuMouseEnter(e)},mouseleave:function(e){return t.onMenuMouseLeave(e)}}}),t._v(" "),i("Icon",{ref:"closeIcon",class:["abs-fill",t.$style.close,t.isHovered&&t.$style.isHovered,t.isCloseClickable&&t.$style.isClickable,t.isCloseActive&&t.$style.isActive],attrs:{name:"close"},nativeOn:{click:function(e){return t.onNavigationToggleClick(e)}}})],1)])])}),[],!1,(function(t){this.$style=ac.default.locals||ac.default}),null,null).exports;class rc extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){}setupTransitionOutTimeline(t,e,i){}setupLoopingAnimationTimeline(t,e,i){}}var oc={name:"CanvasContainer",extends:D.AbstractTransitionComponent,computed:{...Object(B.d)({filesSupported:({app:t})=>t.filesSupported})},async mounted(){await this.$webgl.init(this.$el,this.$route.name===this.RouteNames.WEBGL,this.filesSupported.webp,this.filesSupported.avif),this.$emit("preloaderLoaded")},methods:{handleAllComponentsReady(){this.transitionController=new rc(this),this.isReady()}}},lc=i(341);var cc=Object(T.a)(oc,(function(){var t=this.$createElement;return(this._self._c||t)("div",{class:["abs-fill",this.$style.canvasContainer],attrs:{"aria-hidden":"true"}})}),[],!1,(function(t){this.$style=lc.default.locals||lc.default}),null,null).exports;class hc extends D.AbstractTransitionController{toggleTabs(t){const{tabButton:e}=this.parentController.$refs,{tabs:i}=this.parentController.$refs,s=U.default.timeline();return t?(s.add(ie(i,{duration:.01})),e.forEach((t,e)=>{s.add(()=>{t.transitionIn(!0)},0===e?"<":"<0.1")})):(e.forEach((t,e)=>{s.add(()=>{t.transitionOut(!0)},"<")}),s.add(se(i,{duration:.01}))),s}setupTransitionInTimeline(t,e,i){t.add(ie(e.$el,{duration:.01})),t.add(()=>{e.$el.focus()}),t.add(()=>{const{activeTab:t}=e;e.$refs[t].transitionIn(!0)},"<"),t.add(this.toggleTabs(!0),"<")}setupTransitionOutTimeline(t,e,i){const{tabButton:s}=e.$refs;t.add(()=>{const{activeTab:t}=e;e.$refs[t].transitionOut(!0)},"<"),s.forEach(e=>t.add(this.getTimeline(e,Ve.TransitionDirection.OUT),"<")),t.add(se(e.$el,{duration:.01}),.5)}setupLoopingAnimationTimeline(t,e,i){}}class dc extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){const{item:s}=e.$refs,{mapToggle:a,shareList:n}=e.$refs,{mask:r}=e.$refs,{$webgl:o}=e;t.add(()=>{const{targetOverviewScale:t}=e;o.setOverviewScale(t+.55)},0),t.add(ie(e.$el,{duration:.01})),t.add(ie(r,{from:1,to:0,duration:.7,clearProps:!1}),">0.25"),t.add(()=>{const{targetOverviewScale:t}=e;U.default.fromTo(e,{overviewScale:t+.55},{overviewScale:t,duration:1,ease:"power3.out",onUpdate:()=>{const{overviewScale:t}=e;o.setOverviewScale(t)}})},"<"),t.add(()=>{var t;const{activeSceneIndex:i}=e;null===(t=s[i])||void 0===t||t.transitionIn()},"<0.4"),t.add(this.getTimeline(a),"<0.5"),t.add(this.getTimeline(n),0)}setupTransitionOutTimeline(t,e,i){const{item:s}=e.$refs,{mapToggle:a,shareList:n}=e.$refs,{mask:r}=e.$refs,{$webgl:o}=e;t.add(()=>{var t;const{activeSceneIndex:i}=e;null===(t=s[i])||void 0===t||t.transitionOut()},"<"),t.add(this.getTimeline(a,Ve.TransitionDirection.OUT),"<"),t.add(this.getTimeline(n,Ve.TransitionDirection.OUT),"<"),t.to(e,{overviewScale:1.4,duration:.5,ease:"power2.in",onUpdate:()=>{const{overviewScale:t}=e;o.setOverviewScale(t)}},"<"),t.add(se(r,{to:1}),"<"),t.add(se(e.$el,{duration:.01}))}setupLoopingAnimationTimeline(t,e,i){}}class uc extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){const{ornament:s}=e.$refs,{splitWrapper:a}=e.$refs,{callToAction:n}=e.$refs;t.add(ie(e.$el,{duration:.01})),t.add(fe(a,!1),"<"),t.add(ie(s.$el,{duration:.25}),"<0.4"),t.add(()=>{const{hasButton:t}=e;t&&n.transitionIn()})}setupTransitionOutTimeline(t,e,i){const{callToAction:s}=e.$refs;t.add(se(e.$el,{duration:.175})),t.add(()=>{const{hasButton:t}=e;t&&s.transitionOut()},0)}setupLoopingAnimationTimeline(t,e,i){}}var pc={name:"NavigationOverviewItem",components:{PrimaryButton:xe},extends:D.AbstractTransitionComponent,props:{scene:Object(o.string)(),label:Object(o.string)()},computed:{...Object(B.d)({deviceState:({app:t})=>t.deviceState}),hasButton(){return this.deviceState<Le.deviceState.MEDIUM}},methods:{handleAllComponentsReady(){this.transitionController=new uc(this),this.isReady()},onDiscoverClick(){this.$emit("openScene",this.scene)}}},mc=i(342);var fc,gc=Object(T.a)(pc,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:[t.$style.navigationOverviewItem]},[i("Icon",{ref:"ornament",class:t.$style.ornament,attrs:{name:"navigation-ornament"}}),t._v(" "),i("span",{ref:"title",class:["heading-02",t.$style.title],attrs:{"aria-label":t.$t(t.label)}},[i("span",{ref:"splitWrapper",attrs:{"aria-hidden":"true"}},[t._v("\n      "+t._s(t.$t(t.label))+"\n    ")])]),t._v(" "),i("PrimaryButton",{ref:"callToAction",class:t.$style.callToAction,attrs:{type:t.ButtonType.ACTION,label:t.$t("general.discover"),expand:!0},on:{click:t.onDiscoverClick}})],1)}),[],!1,(function(t){this.$style=mc.default.locals||mc.default}),null,null).exports;!function(t){t.OVERVIEW="overview",t.ART_INDEX="artIndex",t.MAP="map"}(fc||(fc={}));var vc=fc;class _c extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){}setupTransitionOutTimeline(t,e,i){}setupLoopingAnimationTimeline(t,e,i){}}var Ac={name:"LanguageSelector",extends:D.AbstractTransitionComponent,data:()=>({currentLocale:null}),computed:{...Object(B.d)({deviceState:({app:t})=>t.deviceState}),...Object(B.b)(["availableLanguages","currentLanguage"]),icon(){return this.deviceState<Le.deviceState.MEDIUM?"arrow-down":"chevron-down"}},watch:{currentLocale(t){if(t!==this.currentLanguage.code){const e=new URL(document.location.href);e.searchParams.set("locale",t),document.location.href=e.href}}},mounted(){this.currentLocale=this.currentLanguage.code},methods:{handleAllComponentsReady(){this.transitionController=new _c(this),this.isReady()}}},Tc=i(343);var yc=Object(T.a)(Ac,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:[t.$style.languageSelector]},[i("p",{class:t.$style.label},[i("em",[t._v(t._s(t.$t("menu.language.label")))]),t._v(" "+t._s(t.$t("menu.language."+t.currentLocale))+"\n  ")]),t._v(" "),i("Icon",{class:t.$style.icon,attrs:{name:"chevron-down"}}),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.currentLocale,expression:"currentLocale"}],class:t.$style.select,attrs:{name:"language"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.currentLocale=e.target.multiple?i:i[0]}}},t._l(t.availableLanguages,(function(e){return i("option",{key:"option-"+e.code,domProps:{value:e.code}},[t._v("\n      "+t._s(t.$t("menu.language."+e.code))+"\n    ")])})),0)],1)}),[],!1,(function(t){this.$style=Tc.default.locals||Tc.default}),null,null).exports;class Ec extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){const{facebookButton:s,twitterButton:a,linkButton:n}=e.$refs;t.add(ie(e.$el)),t.add(this.getTimeline(s),"<"),t.add(this.getTimeline(a),"<0.05"),t.add(this.getTimeline(n),"<0.05")}setupTransitionOutTimeline(t,e,i){const{facebookButton:s,twitterButton:a,linkButton:n}=e.$refs;t.add(this.getTimeline(s,Ve.TransitionDirection.OUT)),t.add(this.getTimeline(a,Ve.TransitionDirection.OUT),"<"),t.add(this.getTimeline(n,Ve.TransitionDirection.OUT),"<"),t.add(se(e.$el,{duration:.3}),"<")}setupLoopingAnimationTimeline(t,e,i){}}var bc={name:"ShareList",components:{PrimaryButton:xe},extends:D.AbstractTransitionComponent,props:{title:Object(o.string)().isRequired.def(""),stacked:Object(o.bool)().def(!1)},computed:{link:()=>window.location.origin},methods:{handleAllComponentsReady(){this.transitionController=new Ec(this),this.isReady()},copyToClipboard(){navigator.clipboard.writeText(this.link)}}},Rc=i(344);var xc=Object(T.a)(bc,(function(){var t,e=this,i=e.$createElement,s=e._self._c||i;return s("dl",{class:[e.$style.shareList,(t={},t[e.$style.stacked]=e.stacked,t)]},[s("dt",{staticClass:"copy-cta"},[e._v("\n    "+e._s(e.title)+"\n  ")]),e._v(" "),s("div",{class:e.$style.options},[s("dd",[s("PrimaryButton",{ref:"facebookButton",attrs:{link:{type:e.LinkType.EXTERNAL_BLANK,target:"https://www.facebook.com/sharer/sharer.php?u="+e.link},type:e.ButtonType.LINK,icon:"facebook"}})],1),e._v(" "),s("dd",[s("PrimaryButton",{ref:"twitterButton",attrs:{link:{type:e.LinkType.EXTERNAL_BLANK,target:"https://twitter.com/intent/tweet?url="+e.link},type:e.ButtonType.LINK,icon:"twitter"}})],1),e._v(" "),s("dd",[s("PrimaryButton",{ref:"linkButton",attrs:{type:e.ButtonType.ACTION,icon:"link"},on:{click:e.copyToClipboard}})],1)])])}),[],!1,(function(t){this.$style=Rc.default.locals||Rc.default}),null,null).exports;class wc extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){t.add(ie(e.$el))}setupTransitionOutTimeline(t,e,i){t.add(se(e.$el))}setupLoopingAnimationTimeline(t,e,i){}}var Oc={name:"MapToggle",extends:D.AbstractTransitionComponent,mounted(){this.magnetic=new os([this.$refs.image],{force:.15,minDistance:1,maxDistance:5,magneticType:"bounds"})},beforeDestroy(){this.magnetic.dispose()},methods:{...Object(B.c)({setIsCloseActive:Vt}),handleAllComponentsReady(){this.transitionController=new wc(this),this.isReady()},handleClick(){this.$emit("openMap")}}},Sc=i(345);var Ic=Object(T.a)(Oc,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{class:["button",t.$style.mapToggle],on:{click:t.handleClick}},[i("Icon",{class:t.$style.outline,attrs:{name:"map-outline"}}),t._v(" "),i("span",{ref:"image",class:t.$style.imageWrapper},[i("img",{class:t.$style.image,attrs:{src:t.formatImage("{$versionRoot}image/minimap.png",t.$versionRoot),alt:""}})]),t._v(" "),i("span",{class:["copy-cta",t.$style.label]},[t._v(t._s(this.$t("menu.viewMap")))])],1)}),[],!1,(function(t){this.$style=Sc.default.locals||Sc.default}),null,null).exports;var Mc={[Xt.GATE_OF_ALL_NATIONS]:{name:"gateOfAllNations",sceneId:mr.GATE_OF_ALL_NATIONS},[Xt.THE_APADANA]:{name:"theApadana",sceneId:mr.APADANA},[Xt.PALACE_OF_XERXES]:{name:"palaceOfXerxes",sceneId:mr.PALACE_OF_XERXES},[Xt.SOUTH_EASTERN_PALACE]:{name:"southEasternPalace",sceneId:mr.SOUTH_EASTERN_PALACE},[Xt.ROYAL_TREASURY]:{name:"royalTreasury",sceneId:mr.ROYAL_TREASURY},[Xt.HALL_OF_100_COLUMNS]:{name:"hallOf100Columns",sceneId:mr.HALL_OF_100_COLUMNS}},Cc={name:"NavigationOverview",components:{NavigationOverviewItem:gc,MapToggle:Ic,LanguageSelector:yc,ShareList:xc},extends:D.AbstractTransitionComponent,data(){return{activeSceneIndex:0,scenes:ic,legendTypes:Object.keys(this.$store.getters.translation.menu.legend),isAnimating:!1,isVisible:!1,focusedIndex:0}},computed:{...Object(B.b)({isReducedMotion:"a11y/getIsReducedMotion"}),...Object(B.d)({deviceState:({app:t})=>t.deviceState,currentScene:({app:t})=>t.currentScene,visitedScenes:({app:t})=>t.visitedScenes,closeCallback:({app:t})=>t.closeCallback}),isSmallView(){return this.deviceState<Le.deviceState.MEDIUM}},watch:{async activeSceneIndex(t,e){this.isVisible&&(this.isAnimating=!0,this.activateBulletRing(this.activeSceneIndex),this.isSmallView||this.focusedIndex===t||this.$refs["button-"+t][0].focus(),this.isSmallView&&this.$webgl.setOverviewHover(this.scenes[t].hotspot.replace("Hotspot","")),await this.$refs.item[e].transitionOut(!0),t===this.newSceneIndex&&await this.$refs.item[t].transitionIn(!0),this.isAnimating=!1)},isAnimating(t){t||null===this.newSceneIndex||this.activeSceneIndex===this.newSceneIndex||(this.activeSceneIndex=this.newSceneIndex)},isVisible(t){t?(this.activateBulletRing(this.activeSceneIndex,!0),this.$webgl.setOverviewMenuVisible(!0),this.isSmallView&&this.$webgl.setOverviewHover(this.scenes[this.activeSceneIndex].hotspot.replace("Hotspot","")),this.onResize({width:window.innerWidth,height:window.innerHeight}),this.tickEvent=Object(it.addEventListener)(this.$webgl,ds.POST_UPDATE,this.tick)):(this.tickEvent&&this.tickEvent(),this.$webgl.setOverviewMenuVisible(!1))},isSmallView(t){this.dragger&&this.dragger.enabled(t)}},mounted(){this.overviewScale=.85,this.disposables=new N.DisposableManager,this.resizeListener=rt(this.$el,this.onResize,!0),this.createDragger(),(this.isReducedMotion||this.isSmallView)&&this.$webgl.setOverviewMouseHoverEnabled(!1)},beforeDestroy(){this.disposables.dispose(),this.resizeListener(),this.tickEvent&&this.tickEvent(),this.dragger&&this.dragger.kill()},methods:{...Object(B.c)({setIsCloseActive:Vt}),handleAllComponentsReady(){this.transitionController=new dc(this),this.disposables.add(Object(it.addEventListener)(this.transitionController,D.TransitionEvent.types.TRANSITION_IN_START,()=>{this.isVisible=!0}),Object(it.addEventListener)(this.transitionController,D.TransitionEvent.types.TRANSITION_OUT_COMPLETE,()=>{this.isVisible=!1}),Object(it.addEventListener)(this.$webgl,ds.OVERVIEW_BUILDING_HOVER_START,this.onHotspotMouseEnter),Object(it.addEventListener)(this.$webgl,ds.OVERVIEW_BUILDING_HOVER_END,this.onHotspotMouseLeave)),this.$route.name!==this.RouteNames.WEBGL&&this.disposables.add(Object(it.addEventListener)(this.$webgl,ds.OVERVIEW_BUILDING_CLICK,this.onHotspotClick)),this.isReady()},hide(){se(this.$el)},show(){se(this.$el,{to:1,clearProps:!0})},createDragger(){[this.velocityTracker]=z.a.track(this.$refs.dragProxy,"x"),[this.dragger]=Oe.a.create(this.$refs.dragProxy,{type:"x",trigger:this.$refs.mapContainer,zIndexBoost:!1,onDrag:()=>{const t=this.velocityTracker.get("x");if(Math.abs(t)>.4*window.innerWidth){this.dragger.endDrag();const e=this.scenes.length,i=(this.activeSceneIndex+(t<0?1:-1)+e)%e;this.newSceneIndex=i,this.focusIndex=i,this.activeSceneIndex=i}},onDragEnd:()=>{U.default.set(this.$refs.dragProxy,{x:0})}}),this.dragger.enabled(this.isSmallView)},onHotspotMouseEnter({data:t}){this.isSmallView||null!==this.uiHotspotHovered&&void 0!==this.uiHotspotHovered||this.activateHotspot("Hotspot"+t.id)},onHotspotMouseLeave(){this.$el.dataset.customCursor=ls.DEFAULT,clearTimeout(this.enterTimeout),this.newSceneIndex=null},onUiHotspotMouseEnter(t){this.isSmallView||(this.$sound.play(F.OVERVIEW_HOVER,h.UI),this.uiHotspotHovered=t,this.$webgl.setOverviewHover(t.replace("Hotspot","")),this.activateHotspot(t))},onUiHotspotMouseLeave(){this.uiHotspotHovered=null,this.$webgl.setOverviewMouseHoverEnabled(!0),this.onHotspotMouseLeave()},activateHotspot(t){this.$el.dataset.customCursor=ls.DISCOVER;const e=this.scenes.findIndex(({hotspot:e})=>e===t);e<0||(clearTimeout(this.enterTimeout),this.enterTimeout=setTimeout(()=>{this.newSceneIndex=e,this.isAnimating||(this.activeSceneIndex=e)},50))},onDiscoverClick(t){const e=Object.keys(Mc).find(e=>e===t);this.onHotspotClick({data:{id:Mc[e].sceneId}})},onHotspotClick({data:t}){const e=this.scenes.find(({hotspot:e})=>e==="Hotspot"+t.id);e&&(Wt("overview_room",{roomDestination:e.scene}),this.$emit("openScene",e.scene))},onHotspotIconClick(t){this.onHotspotClick({data:{id:t.hotspot.replace("Hotspot","")}})},handleHotspotButtonFocus(t){const e=this.scenes.findIndex(({hotspot:e})=>e===t.hotspot);e<0||(this.newSceneIndex=e,this.activeSceneIndex=e,this.focusedIndex=e)},openDiscover(){this.$emit("open",vc.ART_INDEX)},openAbout(){this.$emit("close"),this.$emit("openAbout")},openMap(){Wt("overview_map"),this.$emit("open",vc.MAP)},openSettings(){},onResize({width:t,height:e}){const i=.5*t,s=this.isSmallView?.6*e:.5*e,{offsetLeft:a,offsetTop:n}=this.$refs.mapCenter;this.targetOverviewScale=U.default.utils.mapRange(360,1920,.4,.85,U.default.utils.clamp(360,1920,window.innerWidth)),this.overviewScale=this.targetOverviewScale,this.$webgl.setOverviewScreenShift((a-i)/t,(n-s)/e,this.targetOverviewScale)},activateBulletRing(t,e=!1){const{offsetLeft:i,offsetWidth:s}=this.$refs["pagination-"+t][0];U.default.to(this.$refs.bulletRing.$el,{x:i+s/2,duration:e?0:.5,ease:re.VinnieInOut})},tick(){if(!this.isVisible)return;const{innerWidth:t,innerHeight:e}=window;this.scenes.forEach(({hotspot:i},s)=>{const{x:a,y:n}=this.$webgl.getObjectScreenPosition(i);U.default.set(this.$refs["hotspot-"+s],{x:t*a,y:e*n})})},hotspotAriaLabel(t){let e="";return this.currentScene===t.scene?e=" - "+this.$t("menu.current"):this.visitedScenes.includes(t.scene)&&(e=" - "+this.$t("menu.legend.visited")),`${this.$t(t.label)}${e}`},scenesForType(t){switch(t){case"current":return this.scenes.filter(t=>t.scene===this.currentScene);case"visited":return this.scenes.reduce((t,e)=>(this.visitedScenes.includes(e.scene)&&t.push(e),t),[]);case"unexplored":return this.scenes.reduce((t,e)=>(this.visitedScenes.includes(e.scene)||t.push(e),t),[]);default:return[]}}}},Lc=i(346);var Pc=Object(T.a)(Cc,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["abs-fill",t.$style.navigationOverview]},[i("div",{ref:"mask",class:["abs-fill",t.$style.mask]}),t._v(" "),i("span",{ref:"mapCenter",class:t.$style.mapCenter}),t._v(" "),i("div",{ref:"mapContainer",class:t.$style.mapContainer},[i("ul",{class:t.$style.hotspots},t._l(t.scenes,(function(e,s){return i("li",{key:"hotspot-"+e.scene,ref:"hotspot-"+s,refInFor:!0,class:t.$style.hotspot},[i("h2",{class:"visually-hidden",attrs:{id:"overview-item-"+e.hotspot}},[t._v("\n          "+t._s(t.hotspotAriaLabel(e))+"\n        ")]),t._v(" "),i("button",{ref:"button-"+s,refInFor:!0,class:["button",t.$style.hotspotButton,t.visitedScenes.includes(e.scene)&&t.$style.isVisited,t.activeSceneIndex===s&&t.$style.isCurrent],attrs:{type:"button","aria-describedby":"overview-item-"+e.hotspot,"aria-label":t.$t("menu.visit")},on:{focus:function(i){return t.handleHotspotButtonFocus(e)},click:function(i){return t.onHotspotIconClick(e)}}},[i("Icon",{class:[t.$style.hotspotIcon],attrs:{"aria-hidden":"true","data-title":s+1,name:"hotspot-legend"},nativeOn:{mouseenter:function(i){return t.onUiHotspotMouseEnter(e.hotspot,e.scene)},mouseleave:function(e){return t.onUiHotspotMouseLeave(e)}}})],1)])})),0),t._v(" "),i("ol",{class:["heading-02",t.$style.items],attrs:{"aria-hidden":"true"}},t._l(t.scenes,(function(e,s){var a=e.scene,n=(e.hotspot,e.label);return i("li",{key:a,class:[t.$style.item,t.activeSceneIndex===s&&t.$style.isCurrent]},[i("NavigationOverviewItem",{ref:"item",refInFor:!0,attrs:{scene:a,label:n},on:{openScene:t.onDiscoverClick}})],1)})),0),t._v(" "),i("ul",{class:t.$style.legend,attrs:{"aria-label":t.$t("menu.legendOverview")}},t._l(t.legendTypes,(function(e){return i("li",{key:"item-"+e,class:["copy-cta",t.$style.legendItem],attrs:{"aria-label":t.$t("menu.ariaLegend."+e)}},[i("Icon",{class:[t.$style.legendIcon,t.$style["type-"+e]],attrs:{name:"hotspot-legend"}}),t._v(" "),i("span",{attrs:{"aria-hidden":"true"}},[t._v(t._s(t.$t("menu.legend."+e)))]),t._v(" "),t.scenesForType(e).length>1?i("ul",{class:["visually-hidden",t.$style.list]},t._l(t.scenesForType(e),(function(e,s){return i("li",{key:"sub-item-"+s},[t._v("\n            "+t._s(t.$t(""+e.label))+"\n          ")])})),0):t.scenesForType(e).length?i("span",{class:["visually-hidden"],domProps:{innerHTML:t._s(t.$t(""+t.scenesForType(e)[0].label))}}):i("span",{class:["visually-hidden"],domProps:{innerHTML:t._s(t.$t("menu.ariaLegend.none"))}})],1)})),0),t._v(" "),i("div",{class:t.$style.mobilePaginator},[i("Icon",{ref:"bulletRing",class:t.$style.bulletRing,attrs:{name:"bullet-ring"}}),t._v(" "),i("ul",{class:t.$style.paginator},t._l(t.scenes,(function(e,s){return i("li",{key:"pagination-"+e.scene,ref:"pagination-"+s,refInFor:!0,class:t.$style.page})})),0)],1),t._v(" "),i("div",{ref:"dragProxy",class:["abs-fill",t.$style.dragProxy]})]),t._v(" "),i("MapToggle",{ref:"mapToggle",on:{openMap:t.openMap}}),t._v(" "),i("div",{class:t.$style.content},[i("ul",{class:["heading-05",t.$style.links]},[i("li",[i("a",{class:t.$style.textLink,on:{click:function(e){return e.preventDefault(),t.openDiscover(e)}}},[t._v("\n          "+t._s(t.$t("menu.artIndex"))+"\n          "),i("Icon",{class:t.$style.textLinkIcon,attrs:{name:"arrow-right"}})],1)]),t._v(" "),i("li",[i("a",{class:t.$style.textLink,on:{click:function(e){return e.preventDefault(),t.openAbout(e)}}},[t._v("\n          "+t._s(t.$t("menu.about"))+"\n          "),i("Icon",{class:t.$style.textLinkIcon,attrs:{name:"arrow-right"}})],1)]),t._v(" "),i("li",[i("a",{class:t.$style.textLink,on:{click:function(e){return e.preventDefault(),t.openMap(e)}}},[t._v("\n          "+t._s(t.$t("menu.viewMap"))+"\n          "),i("Icon",{class:t.$style.textLinkIcon,attrs:{name:"arrow-right"}})],1)]),t._v(" "),i("li",[i("LanguageSelector")],1),t._v(" "),i("li",[i("a",{class:t.$style.textLink,on:{click:function(e){return e.preventDefault(),t.openSettings(e)}}},[t._v("\n          "+t._s(t.$t("menu.accessibility"))+"\n          "),i("Icon",{class:t.$style.textLinkIcon,attrs:{name:"arrow-right"}})],1)])]),t._v(" "),i("ShareList",{ref:"shareList",attrs:{title:t.$t("menu.share")}})],1)],1)}),[],!1,(function(t){this.$style=Lc.default.locals||Lc.default}),null,null).exports;class Nc extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){const{background:s,navigation:a,list:n}=e.$refs,{scrollToTop:r}=e;t.add(ie(e.$el,{duration:.01})),t.add(()=>r()),t.add(this.getTimeline(s)),t.add(this.getTimeline(a),"<0.25"),t.add(this.getTimeline(n),"<0.1")}setupTransitionOutTimeline(t,e,i){const{background:s,navigation:a,list:n}=e.$refs;t.add(this.getTimeline(s,Ve.TransitionDirection.OUT)),t.add(this.getTimeline(a,Ve.TransitionDirection.OUT),"<"),t.add(this.getTimeline(n,Ve.TransitionDirection.OUT),"<"),t.add(se(e.$el,{duration:.01}))}setupLoopingAnimationTimeline(t,e,i){}}var Dc;class Bc extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){t.add(ie(e.$el)),t.add(()=>{e.$el.setAttribute("data-expand","true")})}setupTransitionOutTimeline(t,e,i){t.add(()=>{e.$el.removeAttribute("data-expand")}),t.add(se(e.$el,{duration:.1}))}setupLoopingAnimationTimeline(t,e,i){}}!function(t){t.SCULPTURES="sculptures",t.VESSELS="vessels",t.WEAPONS="weapons",t.JEWELRY="jewelry",t.COINS_AND_SEALS="coinsAndSeals"}(Dc||(Dc={}));var Fc=Dc;const $c=(t,e,i,s=!0)=>{const a=((t,e)=>{const{offsetWidth:i}=t;return e>i/2?"right":"left"})(e,i);return t.setAttribute("data-state",`${s?"enter":"leave"}-${a}`),a};var Uc={name:"ArtIndexTabs",extends:D.AbstractTransitionComponent,data:()=>({activeIndex:0,categories:Object.values(Fc),noBackgroundClip:Y()}),watch:{activeIndex(t){const{minX:e,maxX:i}=this.dragger,s=this.$refs.item[t],{offsetWidth:a}=this.$el,{offsetLeft:n,offsetWidth:r}=s;U.default.to(this.$refs.list,{x:U.default.utils.clamp(e,i,a-(n+r)),duration:.6,ease:re.VinnieInOut})}},mounted(){this.disposables=new N.DisposableManager,this.disposables.add(rt(this.$el,this.onResize)),this.createDragger()},beforeDestroy(){this.dragger&&this.dragger.kill(),this.disposables.dispose()},methods:{handleAllComponentsReady(){this.transitionController=new Bc(this),this.disposables.add(Object(it.addEventListener)(this.transitionController,D.TransitionEvent.types.TRANSITION_IN_START,this.onResize)),this.isReady()},onItemClick(t){this.activeIndex=t,this.$emit("change",t)},createDragger(){[this.dragger]=Oe.a.create(this.$refs.list,{type:"x",inertia:!0,minimumMovement:10,bounds:this.getBounds()})},getBounds(){return q()?{minX:0,maxX:this.$refs.list.scrollWidth-this.$el.offsetWidth}:{minX:Math.min(0,this.$el.offsetWidth-this.$refs.list.scrollWidth),maxX:0}},onResize(){this.dragger&&this.dragger.applyBounds(this.getBounds());const{minX:t,maxX:e}=this.dragger;this.dragger.enabled(q()?e>0:Math.abs(t)>Math.abs(e))},onElementMouseEnter({target:t,offsetX:e}){$c(t,t,e)},onElementMouseLeave({target:t,offsetX:e}){$c(t,t,e,!1)},manualChange(t){((t,e,i=!1)=>{t.setAttribute("data-state",`${i?"enter":"leave"}-${"right"===e?"left":"right"}`)})(this.$refs.button[this.activeIndex],t>this.activeIndex?"left":"right",!1),this.activeIndex=t}}},kc=i(347);var Vc=Object(T.a)(Uc,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:[t.$style.artIndexTabs]},[i("ul",{ref:"list",class:["heading-02 small",t.$style.items]},t._l(t.categories,(function(e,s){var a;return i("li",{key:"item-"+e,ref:"item",refInFor:!0},[i("button",{ref:"button",refInFor:!0,class:["button",t.$style.button,(a={},a[t.$style.isActive]=t.activeIndex===s,a),!t.noBackgroundClip&&t.$style.backgroundClip],on:{mouseenter:t.onElementMouseEnter,mouseleave:t.onElementMouseLeave,click:function(e){return t.onItemClick(s)}}},[i("small",{staticClass:"copy-cta"},[t._v(t._s((s+1).toString().padStart(2,"0")))]),t._v("\n        "+t._s(t.$t("artIndex."+e))+"\n      ")])])})),0)])}),[],!1,(function(t){this.$style=kc.default.locals||kc.default}),null,null).exports,zc=i(498),Hc=i.n(zc);class Gc extends D.AbstractTransitionController{showItems(){const t=U.default.timeline(),{item:e}=this.parentController.$refs;return e.forEach(e=>{t.add(()=>{e.transitionIn()},"<0.1")}),t}hideItems(){const t=U.default.timeline(),{item:e}=this.parentController.$refs;return e.forEach(e=>{t.add(this.getTimeline(e,Ve.TransitionDirection.OUT),"<")}),t}setupTransitionInTimeline(t,e,i){t.add(ie(e.$el)),t.add(()=>{this.showItems()},"<")}setupTransitionOutTimeline(t,e,i){t.add(se(e.$el,{duration:.1}))}setupLoopingAnimationTimeline(t,e,i){}}class Xc extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){const{onResize:s}=e,{image:a,title:n,caption:r}=e.$refs;t.add(ie(e.$el)),t.fromTo(e.$el,{xPercent:20},{xPercent:0,duration:.6,ease:"power2.out",clearProps:"xPercent"},"<"),t.fromTo(a,{scale:1.2},{scale:1,duration:1,ease:"power3.out"},"<"),t.fromTo([n,r],{xPercent:2.5},{xPercent:0,duration:.6,ease:"power2.out",clearProps:"xPercent",stagger:.15},"<"),t.add(()=>s(),.01)}setupTransitionOutTimeline(t,e,i){t.add(se(e.$el,{duration:.3})),t.to(e.$el,{xPercent:-10,duration:.3,ease:"power2.in"},"<")}setupLoopingAnimationTimeline(t,e,i){}}const jc=()=>Object(o.shape)({id:Object(o.string)().isRequired,scene:Object(o.string)().isRequired,category:Object(o.string)().isRequired,image:Object(o.shape)({path:Object(o.string)(),alt:Object(o.string)()}).isRequired,location:Object(o.string)().isRequired,title:Object(o.string)().isRequired,description:Object(o.string)().isRequired,caption:Object(o.string)().isRequired,period:Object(o.string)().isRequired});class Wc extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){const{disableTransition:s}=e,{label:a,outline:n,icon:r}=e.$refs;s||(t.fromTo(n,{drawSVG:"0%"},{drawSVG:"100%",duration:.8,ease:re.VinnieInOut,clearProps:"drawSVG"},0),t.add(ie(a),"<"),t.add(ie(r.$el),"<0.2"))}setupTransitionOutTimeline(t,e,i){}setupLoopingAnimationTimeline(t,e,i){}}var Yc={name:"TextIconButton",extends:D.AbstractTransitionComponent,props:{label:Object(o.string)(),icon:Object(o.string)(),disableTransition:Object(o.bool)().def(!1),showOutline:Object(o.bool)().def(!0)},data:()=>({isRetina:Z}),methods:{handleAllComponentsReady(){this.transitionController=new Wc(this),this.isReady(),this.disableTransition||this.transitionIn()},handleClick(t){t&&t.preventDefault(),this.$emit("click")}}},Zc=i(348);var qc=Object(T.a)(Yc,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{directives:[{name:"sound",rawName:"v-sound:mouseenter",value:t.$hoverSamples,expression:"$hoverSamples",arg:"mouseenter"},{name:"sound",rawName:"v-sound:click",value:t.SampleName.GENERAL_CLICK,expression:"SampleName.GENERAL_CLICK",arg:"click"}],class:["button",t.$style.textIconButton,!t.showOutline&&t.$style.noOutline],on:{click:t.handleClick}},[i("div",{ref:"label",class:["copy-cta",t.$style.copy]},[t._v("\n    "+t._s(t.label)+"\n  ")]),t._v(" "),i("div",{class:t.$style.circle},[i("svg",{attrs:{viewBox:"0 0 30 30"}},[i("circle",{ref:"outline",attrs:{"stroke-width":t.isRetina()?1.1:1.5,cx:"15",cy:"15",r:"14.5"}})]),t._v(" "),i("span",{ref:"hover",class:t.$style.hover}),t._v(" "),i("Icon",{ref:"icon",class:t.$style.icon,attrs:{name:t.icon}})],1)])}),[],!1,(function(t){this.$style=Zc.default.locals||Zc.default}),null,null).exports,Kc={name:"ArtIndexListItem",components:{TextIconButton:qc},extends:D.AbstractTransitionComponent,props:{artwork:jc()},data:()=>({hasReadMore:!1}),computed:{sceneName(){return this.$t(Mc[this.artwork.scene].name+".name")},sceneId(){return Mc[this.artwork.scene].sceneId}},mounted(){this.resizeListener=rt(this.$el,this.onResize,!0),Array.from(this.$refs.caption.querySelectorAll("a")).forEach(t=>{t.addEventListener("click",()=>{Wt("index_link",{artObject:this.artwork.title.split(".")[0]})})})},beforeDestroy(){this.resizeListener()},methods:{handleAllComponentsReady(){this.transitionController=new Xc(this),this.isReady()},onResize(){const{offsetHeight:t}=this.$refs.hoverDescriptionWrapper,{scrollHeight:e}=this.$refs.hoverDescription;this.hasReadMore=e>t},onReadMoreButtonClick(){this.$emit("showInfo",this.artwork),Wt("index_readmore",{artObject:this.artwork.title.split(".")[0]})},onButtonClick(){this.$emit("openScene",this.artwork.scene,this.sceneId),Wt("index_cta",{artObject:this.artwork.title.split(".")[0]})}}},Qc=i(349);var Jc=Object(T.a)(Kc,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("dd",{class:[t.$style.artIndexListItem],staticStyle:{opacity:"0"}},[i("figure",{class:t.$style.image},[i("div",{class:["abs-fill",t.$style.imageInner]},[i("img",{ref:"image",attrs:{src:t.formatImage(t.artwork.image.path),alt:t.$t("artIndex."+t.artwork.image.alt),draggable:"false"}})]),t._v(" "),i("figcaption",{class:["abs-fill",t.$style.hover,t.hasReadMore&&t.$style.hoverHasReadMore]},[i("h3",{class:["heading-04 small",t.$style.hoverTitle]},[t._v("\n        "+t._s(t.$t("artIndex."+t.artwork.title))+"\n      ")]),t._v(" "),i("div",{ref:"hoverDescriptionWrapper",class:t.$style.hoverDescriptionWrapper},[i("p",{ref:"hoverDescription",class:["copy-cta serif",t.$style.hoverDescription],domProps:{innerHTML:t._s(t.$t("artIndex."+t.artwork.description))}})]),t._v(" "),i("footer",{class:t.$style.hoverFooter},[t.hasReadMore?i("TextIconButton",{attrs:{label:t.$t("menu.readMore"),icon:"arrow-right","disable-transition":!0,"show-outline":!1},on:{click:t.onReadMoreButtonClick}}):t._e(),t._v(" "),i("TextIconButton",{attrs:{label:t.$t("menu.seeArtIn",{scene:t.sceneName}),icon:"arrow-right","disable-transition":!0},on:{click:t.onButtonClick}})],1)])]),t._v(" "),i("div",{class:t.$style.content,attrs:{"data-content":""}},[i("h2",{ref:"title",class:["copy-cta",t.$style.title]},[t._v("\n      "+t._s(t.$t("artIndex."+t.artwork.title))+"\n      "),i("em",{staticClass:"serif"},[t._v(t._s(t.$t("artIndex."+t.artwork.location)))])]),t._v(" "),i("p",{ref:"caption",class:["copy-mini",t.$style.caption],domProps:{innerHTML:t._s(t.$t("artIndex."+t.artwork.caption))}})])])}),[],!1,(function(t){this.$style=Qc.default.locals||Qc.default}),null,null).exports;const th=[{id:"royalSphinxes",category:Fc.SCULPTURES,image:{path:"{$versionRoot}image/artwork/royalSphinxes.png",alt:"royalSphinxes.alt"},scene:Xt.GATE_OF_ALL_NATIONS,title:"royalSphinxes.title",period:"royalSphinxes.period",description:"royalSphinxes.description",caption:"royalSphinxes.caption",location:"royalSphinxes.location"},{id:"archer",category:Fc.SCULPTURES,image:{path:"{$versionRoot}image/artwork/archer.jpg",alt:"archer.alt"},scene:Xt.GATE_OF_ALL_NATIONS,title:"archer.title",period:"archer.period",description:"archer.description",caption:"archer.caption",location:"archer.location"},{id:"giftBearer",category:Fc.SCULPTURES,image:{path:"{$versionRoot}image/artwork/giftBearer.png",alt:"giftBearer.alt"},scene:Xt.PALACE_OF_XERXES,title:"giftBearer.title",period:"giftBearer.period",description:"giftBearer.description",caption:"giftBearer.caption",location:"giftBearer.location"},{id:"persianGuard",category:Fc.SCULPTURES,image:{path:"{$versionRoot}image/artwork/persianGuard.png",alt:"persianGuard.alt"},scene:Xt.PALACE_OF_XERXES,title:"persianGuard.title",period:"persianGuard.period",description:"persianGuard.description",caption:"persianGuard.caption",location:"persianGuard.location"},{id:"lionBullCombat",category:Fc.SCULPTURES,image:{path:"{$versionRoot}image/artwork/lionBullCombat.png",alt:"lionBullCombat.alt"},scene:Xt.PALACE_OF_XERXES,title:"lionBullCombat.title",period:"lionBullCombat.period",description:"lionBullCombat.description",caption:"lionBullCombat.caption",location:"lionBullCombat.location"},{id:"bowl",category:Fc.VESSELS,image:{path:"{$versionRoot}image/artwork/bowl.png",alt:"bowl.alt"},scene:Xt.THE_APADANA,title:"bowl.title",period:"bowl.period",description:"bowl.description",caption:"bowl.caption",location:"bowl.location"},{id:"amphoraRhyton",category:Fc.VESSELS,image:{path:"{$versionRoot}image/artwork/amphoraRhyton.png",alt:"amphoraRhyton.alt"},scene:Xt.THE_APADANA,title:"amphoraRhyton.title",period:"amphoraRhyton.period",description:"amphoraRhyton.description",caption:"amphoraRhyton.caption",location:"amphoraRhyton.location"},{id:"hornedLionGriffin",category:Fc.VESSELS,image:{path:"{$versionRoot}image/artwork/hornedLionGriffin.jpg",alt:"hornedLionGriffin.alt"},scene:Xt.PALACE_OF_XERXES,title:"hornedLionGriffin.title",period:"hornedLionGriffin.period",description:"hornedLionGriffin.description",caption:"hornedLionGriffin.caption",location:"hornedLionGriffin.location"},{id:"phiale",category:Fc.VESSELS,image:{path:"{$versionRoot}image/artwork/phiale.png",alt:"phiale.alt"},scene:Xt.PALACE_OF_XERXES,title:"phiale.title",period:"phiale.period",description:"phiale.description",caption:"phiale.caption",location:"phiale.location"},{id:"wineJug",category:Fc.VESSELS,image:{path:"{$versionRoot}image/artwork/wineJug.png",alt:"wineJug.alt"},scene:Xt.PALACE_OF_XERXES,title:"wineJug.title",period:"wineJug.period",description:"wineJug.description",caption:"wineJug.caption",location:"wineJug.location"},{id:"ladle",category:Fc.VESSELS,image:{path:"{$versionRoot}image/artwork/ladle.png",alt:"ladle.alt"},scene:Xt.PALACE_OF_XERXES,title:"ladle.title",period:"ladle.period",description:"ladle.description",caption:"ladle.caption",location:"ladle.location"},{id:"daiva",category:Fc.SCULPTURES,image:{path:"{$versionRoot}image/artwork/daiva.png",alt:"daiva.alt"},scene:Xt.ROYAL_TREASURY,title:"daiva.title",period:"daiva.period",description:"daiva.description",caption:"daiva.caption",location:"daiva.location"},{id:"scaraboid",category:Fc.COINS_AND_SEALS,image:{path:"{$versionRoot}image/artwork/scaraboid.png",alt:"scaraboid.alt"},scene:Xt.ROYAL_TREASURY,title:"scaraboid.title",period:"scaraboid.period",description:"scaraboid.description",caption:"scaraboid.caption",location:"scaraboid.location"},{id:"cylinderSeal",category:Fc.COINS_AND_SEALS,image:{path:"{$versionRoot}image/artwork/cylinderSeal.png",alt:"cylinderSeal.alt"},scene:Xt.ROYAL_TREASURY,title:"cylinderSeal.title",period:"cylinderSeal.period",description:"cylinderSeal.description",caption:"cylinderSeal.caption",location:"cylinderSeal.location"},{id:"goldDaric",category:Fc.COINS_AND_SEALS,image:{path:"{$versionRoot}image/artwork/goldDaric.png",alt:"goldDaric.alt"},scene:Xt.ROYAL_TREASURY,title:"goldDaric.title",period:"goldDaric.period",description:"goldDaric.description",caption:"goldDaric.caption",location:"goldDaric.location"},{id:"akinakes",category:Fc.WEAPONS,image:{path:"{$versionRoot}image/artwork/akinakes.png",alt:"akinakes.alt"},scene:Xt.ROYAL_TREASURY,title:"akinakes.title",period:"akinakes.period",description:"akinakes.description",caption:"akinakes.caption",location:"akinakes.location"},{id:"bracelet",category:Fc.JEWELRY,image:{path:"{$versionRoot}image/artwork/bracelet.png",alt:"bracelet.alt"},scene:Xt.SOUTH_EASTERN_PALACE,title:"bracelet.title",period:"bracelet.period",description:"bracelet.description",caption:"bracelet.caption",location:"bracelet.location"},{id:"earring",category:Fc.JEWELRY,image:{path:"{$versionRoot}image/artwork/earring.png",alt:"earring.alt"},scene:Xt.SOUTH_EASTERN_PALACE,title:"earring.title",period:"earring.period",description:"earring.description",caption:"earring.caption",location:"earring.location"},{id:"lionHeadPlaque",category:Fc.JEWELRY,image:{path:"{$versionRoot}image/artwork/lionHeadPlaque.png",alt:"lionHeadPlaque.alt"},scene:Xt.SOUTH_EASTERN_PALACE,title:"lionHeadPlaque.title",period:"lionHeadPlaque.period",description:"lionHeadPlaque.description",caption:"lionHeadPlaque.caption",location:"lionHeadPlaque.location"}];var eh={name:"ArtIndexList",components:{ArtIndexListItem:Jc},extends:D.AbstractTransitionComponent,props:{currentCategory:Object(o.number)()},data:()=>({groupedArtworks:Object.values(Fc).reduce((t,e)=>(t[e]=th.filter(({category:t})=>t===e),t),{}),isActive:!1}),computed:{...Object(B.d)({deviceState:({app:t})=>t.deviceState}),hasDrag(){return this.deviceState>Le.deviceState.SMALL}},watch:{async currentCategory(t){const{offsetWidth:e,offsetLeft:i}=this.$refs.category[t];U.default.to(this.$el,{x:q()?Math.min(this.dragger.maxX,-i-e+this.$el.offsetWidth):-i,duration:.8,ease:re.JorisInOut}),this.categoryIndex=this.currentCategory},hasDrag(t){t?(U.default.set(this.$el,{x:-this.$refs.category[this.currentCategory].offsetLeft}),this.dragger.enable()):(U.default.set(this.$el,{clearProps:"x"}),this.dragger.disable())},isActive(t){t?this.scroll.on(this.onVirtualScroll):this.scroll.off(this.onVirtualScroll)}},mounted(){this.categoryIndex=this.currentCategory,this.disposables=new N.DisposableManager,this.createDragger(),this.resizeListener=rt(this.$el,this.onResize,!0)},beforeDestroy(){this.disposables.dispose(),this.resizeListener(),this.dragger&&this.dragger.kill(),this.scroll&&this.scroll.destroy()},methods:{handleAllComponentsReady(){this.transitionController=new Gc(this),this.disposables.add(Object(it.addEventListener)(this.transitionController,D.TransitionEvent.types.TRANSITION_IN_START,()=>{this.isActive=!0}),Object(it.addEventListener)(this.transitionController,D.TransitionEvent.types.TRANSITION_OUT_START,()=>{this.isActive=!1})),this.isReady()},createDragger(){[this.dragger]=Oe.a.create(this.$el,{type:"x",trigger:this.$refs.category,allowContextMenu:!0,inertia:!0,zIndexBoost:!1,edgeResistance:.75,cursor:"default",bounds:this.getDragBounds(),onDrag:this.onDrag,onThrowUpdate:this.onDrag}),this.scroll=new Hc.a({preventTouch:!0,useTouch:!1,passive:!0}),this.hasDrag||this.dragger.disable()},onDrag(){const{innerWidth:t}=window,e=U.default.getProperty(this.$el,"x"),i=Math.abs(e)+.5*t,s=this.itemOffsets.findIndex(({offsetWidth:t,offsetLeft:e})=>i>e&&i<e+t);s>-1&&s!==this.categoryIndex&&(this.$emit("change",s),this.categoryIndex=s)},onVirtualScroll({deltaX:t,deltaY:e}){if(!this.hasDrag)return;let i=t;Math.abs(e)>Math.abs(i)&&(i=e*(q()?-1:1));const{minX:s,maxX:a}=this.dragger,n=U.default.getProperty(this.$el,"x");U.default.to(this.$el,{x:U.default.utils.clamp(s,a,n+i),duration:.2,ease:"power2.out",onUpdate:this.onDrag})},onResize(){this.$el.style.setProperty("--height","0px");const t=[...this.$el.querySelectorAll("[data-content]")],e=Math.max(...t.map(t=>t.offsetHeight));this.$el.style.setProperty("--height",e+"px");const{offsetWidth:i}=this.$el;this.itemOffsets=this.$refs.category.map(t=>{const{offsetWidth:e,offsetLeft:s}=t;return q()?{offsetWidth:e,offsetLeft:Math.abs(s+e-i)}:{offsetWidth:e,offsetLeft:s}}),this.dragger.applyBounds(this.getDragBounds())},getDragBounds(){const{offsetWidth:t,scrollWidth:e}=this.$el;return{minX:(q()?-1:1)*(t-e),maxX:0}}}},ih=i(350);var sh={name:"NavigationArtIndex",components:{SolidBackground:Bi,ArtIndexTabs:Vc,ArtIndexList:Object(T.a)(eh,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("dl",{class:[t.$style.artIndexList]},t._l(Object.keys(t.groupedArtworks),(function(e,s){return i("div",{key:e,ref:"category",refInFor:!0,class:["copy-cta",t.$style.categoryList,s===t.currentCategory&&t.$style.isActive],attrs:{"data-category":e}},[i("dt",{class:t.$style.categoryTitle},[t._v("\n      "+t._s(t.$t("artIndex."+e))+"\n    ")]),t._v(" "),t._l(t.groupedArtworks[e],(function(e){return i("ArtIndexListItem",{key:"artwork-"+e.id,ref:"item",refInFor:!0,attrs:{artwork:e},on:{openScene:function(e){return t.$emit("openScene",e)},showInfo:function(e){return t.$emit("showInfo",e)}}})}))],2)})),0)}),[],!1,(function(t){this.$style=ih.default.locals||ih.default}),null,null).exports},extends:D.AbstractTransitionComponent,data:()=>({currentCategory:0,artworkMoreInfo:null}),computed:{...Object(B.d)({deviceState:({app:t})=>t.deviceState,closeCallback:({app:t})=>t.closeCallback}),backgroundOpenDirection(){return this.deviceState<Le.deviceState.MEDIUM?Si.BOTTOM:Si.TOP},isSmallView(){return this.deviceState<Le.deviceState.MEDIUM}},watch:{currentCategory(){this.scrollToTop()}},methods:{...Object(B.c)({setIsCloseActive:Vt}),handleAllComponentsReady(){this.transitionController=new Nc(this),this.isReady()},onIndexChange(t){this.currentCategory=t},onCategoryChange(t){this.$refs.navigation.manualChange(t)},scrollToTop(){this.isSmallView&&this.$refs.content.scrollTo(0,0)}}},ah=i(351);var nh=Object(T.a)(sh,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:[t.isSmallView&&"abs-fill",t.$style.navigationArtIndex]},[i("SolidBackground",{ref:"background",class:t.$style.background,attrs:{"open-direction":t.backgroundOpenDirection}}),t._v(" "),i("div",{ref:"content",class:["abs-fill",t.$style.contentWrapper]},[i("ArtIndexTabs",{ref:"navigation",on:{change:t.onIndexChange}}),t._v(" "),i("ArtIndexList",{ref:"list",attrs:{"current-category":t.currentCategory},on:{change:t.onCategoryChange,openScene:function(e){return t.$emit("openScene",e)},showInfo:function(e){return t.$emit("showArtworkInfo",e)}}})],1)],1)}),[],!1,(function(t){this.$style=ah.default.locals||ah.default}),null,null).exports;const rh=vc.OVERVIEW;var oh={name:"MainNavigation",components:{PrimaryButton:xe,NavigationOverview:Pc,NavigationArtIndex:nh},extends:D.AbstractTransitionComponent,data:()=>({tabs:Object.values(vc).filter(t=>t!==vc.MAP),activeTab:rh,isTabsVisible:!0,isMapVisible:!1}),computed:{...Object(B.b)(["currentLanguage"]),...Object(B.d)({isNavigationOpen:({app:t})=>t.isNavigationOpen,closeCallback:({app:t})=>t.closeCallback})},watch:{async isNavigationOpen(t){t?(this.lastOverlayColor=this.$webgl.getOverlayColor().a,He(this.$el,{duration:.8,from:this.lastOverlayColor,to:.1}),await this.transitionIn()):(this.lastOverlayColor&&He(this.$el,{duration:.8,from:.1,to:this.lastOverlayColor}),await this.transitionOut(),this.activeTab=rh)},async activeTab(t,e){this.isNavigationOpen&&(e!==vc.MAP&&this.$refs[e].transitionOut(),t!==vc.MAP&&await this.$refs[t].transitionIn(!0))},isTabsVisible(t){this.transitionController.toggleTabs(t)}},methods:{...Object(B.c)({setIsCloseActive:Vt}),handleAllComponentsReady(){this.transitionController=new hc(this),this.isNavigationOpen&&this.transitionIn(),this.isReady()},async onTabClick(t){t!==vc.MAP?(this.isMapVisible&&this.closeMap(!0),this.activeTab=t):this.gotoMap()},async gotoMap(){this.navigationCloseCallback=this.closeCallback.bind(this),this.setIsCloseActive({active:!0,callback:()=>this.closeMap(!0),animate:!1}),this.isMapVisible=!0,this.$refs[this.activeTab].hide();const[t]=await Promise.all([this.getMapImage(),this.$webgl.transitionOut()]);this.$webgl.setMapImage(t),this.$webgl.transitionIn()},async closeMap(t=!1){t&&this.navigationCloseCallback&&this.setIsCloseActive({active:!0,callback:()=>{this.navigationCloseCallback(),this.navigationCloseCallback=null,this.setIsCloseActive({active:!1})},animate:!1}),this.isMapVisible=!1,await this.$webgl.transitionOut(),this.$webgl.setMapImage(void 0),this.$webgl.transitionIn(),t&&this.activeTab===vc.OVERVIEW&&this.$refs[this.activeTab].show()},async gotoScene(t){this.$route.params[this.Params.SLUG]!==t?(this.lastOverlayColor=null,this.$sound.play(F.GENERAL_CLICK,h.UI),se(this.$el,{duration:.8}),this.$sound.play(F.END_OF_ROOM,h.UI),await this.$webgl.transitionOut(),this.close(),this.$router.push({name:this.RouteNames.EXPERIENCE,params:{[this.Params.SLUG]:t}})):this.close()},close(){this.closeCallback&&this.closeCallback(),this.setIsCloseActive({active:!1})},getMapImage(){const t=["en_US","ar","es","fa","fr","hi","zh_Hans","zh_Hant"].includes(this.currentLanguage.code)?this.currentLanguage.code:"en_US";return new Promise(e=>{this.mapImage=new Image,this.mapImage.onload=()=>e(this.mapImage),this.mapImage.src=Wi(`{$versionRoot}image/map-${t}.jpg`,this.$versionRoot)})}}},lh=i(352);var ch=Object(T.a)(oh,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("nav",{class:["abs-fill",t.$style.mainNavigation],attrs:{tabindex:"-1"}},[i("ul",{ref:"tabs",class:t.$style.tabs},t._l(t.tabs,(function(e){return i("li",{key:"tab-"+e},[i("PrimaryButton",{ref:"tabButton",refInFor:!0,attrs:{type:t.ButtonType.ACTION,label:t.$t("menu."+e),filled:e===t.activeTab},on:{click:function(i){return t.onTabClick(e)}}})],1)})),0),t._v(" "),i("NavigationOverview",{ref:"overview",on:{open:t.onTabClick,openAbout:function(e){return t.$emit("openAbout")},openScene:t.gotoScene,close:t.close}}),t._v(" "),i("NavigationArtIndex",{ref:"artIndex",on:{openScene:t.gotoScene,showArtworkInfo:function(e){return t.$emit("showArtworkInfo",e)}}})],1)}),[],!1,(function(t){this.$style=lh.default.locals||lh.default}),null,null).exports;class hh extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){const{background:s}=e.$refs,{contentWrapper:a}=e.$refs;t.add(ie([e.$el,a],{duration:.01})),t.add(this.getTimeline(s)),t.add(()=>{const{content:t}=e.$refs;t.transitionIn()},"-=0.3")}setupTransitionOutTimeline(t,e,i){const{background:s}=e.$refs,{contentWrapper:a}=e.$refs;t.add(this.getTimeline(s,gi.a.OUT)),t.add(se(a,{duration:.3}),"<"),t.add(se(e.$el,{duration:.01}))}setupLoopingAnimationTimeline(t,e,i){}}var dh={name:"AboutTheProject",components:{SolidBackground:Bi,ScrollPage:vt,AboutContent:lo},extends:D.AbstractTransitionComponent,data:()=>({openDirection:Si.BOTTOM,isVisible:!1}),computed:{...Object(B.d)({isAboutTheProjectOpen:({app:t})=>t.isAboutTheProjectOpen,deviceState:({app:t})=>t.deviceState}),isMobile(){return this.deviceState<Le.deviceState.MEDIUM}},watch:{async isAboutTheProjectOpen(t){t?(Wt("nav_about",{room:Zt(this.$route)}),this.$webgl.pause(),this.isVisible=!0,await this.$nextTick(),await this.transitionIn(!0)):(this.$webgl.play(),await this.transitionOut(!0),await this.$nextTick(),this.isVisible=!1)}},methods:{handleAllComponentsReady(){this.transitionController=new hh(this),this.isReady()}}},uh=i(353);var ph=Object(T.a)(dh,(function(){var t=this.$createElement,e=this._self._c||t;return e("section",{class:["abs-fill",this.$style.aboutTheProject]},[e("SolidBackground",{ref:"background",attrs:{"open-direction":this.openDirection}}),this._v(" "),e("div",{ref:"contentWrapper",class:["abs-fill"]},[this.isVisible?[e("ScrollPage",{class:this.$style.scroll,attrs:{direction:this.Direction.VERTICAL}},[e("AboutContent",{ref:"content"})],1)]:this._e()],2)],1)}),[],!1,(function(t){this.$style=uh.default.locals||uh.default}),null,null).exports,mh=i(499),fh=i.n(mh);class gh extends D.AbstractTransitionController{showCursor(){const t=U.default.timeline(),{cursor:e,circle:i,icon:s,copy:a}=this.parentController.$refs;return t.set(e,{opacity:1},0),t.fromTo(i,{scale:1.2,autoAlpha:0},{scale:1,autoAlpha:1,duration:.6,ease:re.JorisInOut},0),s&&t.fromTo(s.$el,{scale:1.4,autoAlpha:0},{scale:1,autoAlpha:1,duration:.6,ease:re.JorisInOut},.2),a&&t.fromTo(a,{scale:1.2,autoAlpha:0},{scale:1,autoAlpha:1,duration:.6,ease:re.JorisInOut},.2),t}hideCursor(){const t=U.default.timeline(),{cursor:e}=this.parentController.$refs;return t.to(e,{opacity:0,duration:.2}),t}setupTransitionInTimeline(t,e,i){}setupTransitionOutTimeline(t,e,i){}setupLoopingAnimationTimeline(t,e,i){}}var vh={name:"CustomCursor",extends:D.AbstractTransitionComponent,data:()=>({visibility:!1,state:ls.DEFAULT,icon:null,copy:null,currentPosition:{int:{x:0,y:0},lerp:{x:0,y:0}},targetPosition:{x:0,y:0}}),watch:{visibility(){this.visibility?(this.currentPosition.int.x=this.targetPosition.x,this.currentPosition.int.y=this.targetPosition.y,this.currentPosition.lerp.x=this.targetPosition.x,this.currentPosition.lerp.y=this.targetPosition.y,this.tick()):setTimeout(()=>{cancelAnimationFrame(this.tickRef)},500),this.visibilityTimeline&&this.visibilityTimeline.kill(),this.visibilityTimeline=this.transitionController[this.visibility?"showCursor":"hideCursor"]()},state(){switch(this.state){default:case ls.DEFAULT:break;case ls.PLAY:this.setIcon("play"),this.setCopy(null);break;case ls.PAUSE:this.setIcon("pause"),this.setCopy(null);break;case ls.CLOSE:this.setIcon("close-big"),this.setCopy(null);break;case ls.SEARCH:this.setIcon("search"),this.setCopy(null);break;case ls.DISCOVER:this.setIcon(null),this.setCopy(this.$t("general.discover"))}this.visibility=this.state!==ls.DEFAULT}},created(){this.disposables=new N.DisposableManager},beforeDestroy(){this.tickRef&&cancelAnimationFrame(this.tickRef),this.disposables.dispose()},methods:{handleAllComponentsReady(){this.transitionController=new gh(this),this.isReady(),this.setEvents()},setEvents(){this.disposables.add(Object(it.addEventListener)(document,"mousemove",this.handleMouseMove.bind(this)),Object(it.addEventListener)(document,"mouseleave",this.handleMouseLeave.bind(this)))},handleMouseMove(t){const{pageX:e,pageY:i}=t;this.targetPosition={x:e,y:i},this.update(t.target)},handleMouseLeave(){this.setState(ls.DEFAULT)},update:fh()((function(t){const e=t.closest("[data-custom-cursor]");e?this.setState(e.dataset.customCursor):this.setState(ls.DEFAULT)}),100),setVisibility(t){this.visibility=t},setState(t){this.state=t},setIcon(t){this.icon=t},setCopy(t){this.copy=t},tick(){this.currentPosition.int.x=U.default.utils.interpolate(this.currentPosition.int.x,this.targetPosition.x,.25),this.currentPosition.int.y=U.default.utils.interpolate(this.currentPosition.int.y,this.targetPosition.y,.25),this.currentPosition.lerp.x=U.default.utils.interpolate(this.currentPosition.lerp.x,this.currentPosition.int.x,.1),this.currentPosition.lerp.y=U.default.utils.interpolate(this.currentPosition.lerp.y,this.currentPosition.int.y,.1),this.tickRef=requestAnimationFrame(this.tick.bind(this))}}},_h=i(354);var Ah=Object(T.a)(vh,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:[t.$style.customCursor],attrs:{"aria-hidden":"true"}},[i("div",{ref:"cursor",class:t.$style.cursor,style:"--position-x: "+t.currentPosition.lerp.x+"px; --position-y: "+t.currentPosition.lerp.y+"px"},[i("div",{ref:"circle",class:t.$style.circle}),t._v(" "),t.icon?i("Icon",{ref:"icon",class:t.$style.icon,attrs:{name:t.icon}}):t._e(),t._v(" "),t.copy?i("span",{ref:"copy",class:["copy-cta",t.$style.copy]},[t._v(t._s(t.copy))]):t._e()],1)])}),[],!1,(function(t){this.$style=_h.default.locals||_h.default}),null,null).exports;class Th extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){const{background:s}=e.$refs,{contentWrapper:a}=e.$refs;t.add(ie(e.$el,{to:1,duration:.3})),t.add(()=>{e.$el.focus()}),t.add(this.getTimeline(s)),t.add(()=>{const{container:t}=e.$refs;ie(t,{to:1,duration:.6})},"-=0.3"),t.add(ie(a,{duration:.01}),"<")}setupTransitionOutTimeline(t,e,i){const{background:s}=e.$refs,{contentWrapper:a}=e.$refs;t.add(this.getTimeline(s,gi.a.OUT),0),t.add(se(a,{duration:.3}),"<"),t.add(se(e.$el,{to:0,autoAlpha:!0,duration:.3}))}setupLoopingAnimationTimeline(t,e,i){}}class yh extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){}setupTransitionOutTimeline(t,e,i){}setupLoopingAnimationTimeline(t,e,i){}}var Eh={name:"SwitchButton",extends:Te,props:{isActive:o.default.bool},methods:{handleAllComponentsReady(){this.transitionController=new yh(this),this.isReady()}}},bh=i(355);var Rh=Object(T.a)(Eh,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(t.componentType,{directives:[{name:"sound",rawName:"v-sound:mouseenter",value:t.$hoverSamples,expression:"$hoverSamples",arg:"mouseenter"},{name:"sound",rawName:"v-sound:click",value:t.SampleName.GENERAL_CLICK,expression:"SampleName.GENERAL_CLICK",arg:"click"}],ref:"button",tag:"component",class:["button",t.$style.switchButton],attrs:{href:t.isLink&&t.target,type:!t.isLink&&t.buttonType,to:t.isRouterLink&&t.link.target,disabled:t.disabled,"aria-pressed":t.isActive},on:{click:t.handleClick}},[t.label?i("span",{ref:"label",class:["copy-cta",t.$style.label],domProps:{innerHTML:t._s(t.label)}}):t._e(),t._v(" "),i("div",{class:t.$style.switch},[i("Icon",{class:t.$style.icon,attrs:{name:t.icon}}),t._v(" "),i("div",{class:[t.$style.switchInside,t.isActive&&t.$style.isActive]},[i("div",{ref:"active",class:[t.$style.active]},[i("span",{class:["copy-cta"],domProps:{innerHTML:t._s(t.isActive?t.$t("general.on"):t.$t("general.off"))}})])])],1)])}),[],!1,(function(t){this.$style=bh.default.locals||bh.default}),null,null).exports;const xh={[ye.IS_REDUCED_MOTION]:{label:"accessibility.reduceMotion",icon:"a11y-motion",mediaQuery:"(prefers-reduced-motion: reduce)"},[ye.IS_HIGH_CONTRAST]:{label:"accessibility.highContrast",icon:"a11y-contrast",mediaQuery:"(prefers-contrast: more)"},[ye.IS_TEXT_LARGE]:{label:"accessibility.largerText",icon:"a11y-text"},[ye.IS_DRAGGING_UNDESIRED]:{label:"accessibility.noDraggingInteractions",icon:"a11y-cursor",description:"Enable this setting if you have trouble with drag and hold interactions"}};var wh={name:"AccessibilityOptionsModal",components:{SwitchButton:Rh,PrimaryButton:xe,SolidBackground:Bi,ScrollPage:vt,LanguageSelector:yc},extends:D.AbstractTransitionComponent,data:()=>({a11yOptionConfig:xh,A11yOptions:ye,openDirection:Si.BOTTOM,isVisible:!1}),computed:{...Object(B.d)({isAccessibilityModalVisible:({a11y:t})=>t.isAccessibilityModalVisible,a11yOptions:({a11y:t})=>t.a11yOptions}),...Object(B.b)({isA11yOptionActive:"a11y/getIsA11yOptionActive",isReducedMotion:"a11y/getIsReducedMotion"})},watch:{async isAccessibilityModalVisible(t){t?(this.setIsCloseActive({active:!0,callback:this.close}),this.isVisible=!0,await this.$nextTick(),await this.transitionIn(!0),this.setToggleNavigation(!1)):(await this.transitionOut(!0),await this.$nextTick(),this.isVisible=!1)}},beforeDestroy(){this.disposables&&this.disposables.dispose()},created(){this.disposables=new N.DisposableManager,Object.keys(this.a11yOptions).forEach(t=>{xh[t].mediaQuery&&this.setupDeviceListeners(t)})},mounted(){this.isReducedMotion&&this.$webgl.setCameraHoverRotateAmount(0)},methods:{...Object(B.c)({setIsAccessibilityModalVisible:"a11y/setIsAccessibilityModalVisible",setA11yOptions:"a11y/setA11yOptions",setIsCloseActive:Vt,setToggleNavigation:"app/setToggleNavigation"}),handleAllComponentsReady(){this.transitionController=new Th(this),this.isReady()},isOptionActive(t){return this.isA11yOptionActive(t)},handleOptionClick(t){Wt("settings_toggle",{settingsToggle:t}),this.setA11yOptions({[t]:!this.isOptionActive(t)})},setupDeviceListeners(t){const e=window.matchMedia(xh[t].mediaQuery);e.matches?this.setA11yOptions({[t]:!0}):this.setA11yOptions({[t]:!1}),this.disposables.add(Object(it.addEventListener)(e,"change",()=>{e.matches?this.setA11yOptions({[t]:!0}):this.setA11yOptions({[t]:!1})}))},close(){this.setIsAccessibilityModalVisible(!1)}}},Oh=i(356);var Sh=Object(T.a)(wh,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["abs-fill",t.$style.accessibilityOptionsModal],attrs:{role:"dialog","aria-modal":"true",tabindex:"-1","aria-describedby":"a11y-heading"}},[i("SolidBackground",{ref:"background",attrs:{"open-direction":t.openDirection}}),t._v(" "),i("div",{ref:"contentWrapper",staticClass:"abs-fill"},[t.isVisible?[i("ScrollPage",{class:t.$style.scroll,attrs:{direction:t.Direction.VERTICAL}},[i("div",{ref:"container",class:t.$style.container},[i("header",[i("h2",{class:["heading-02",t.$style.heading],attrs:{id:"a11y-heading"},domProps:{innerHTML:t._s(t.$t("menu.accessibilityOptions"))}})]),t._v(" "),i("div",{class:t.$style.content},[t._l(Object.keys(t.a11yOptions),(function(e,s){return i("SwitchButton",{key:"option-"+s,ref:"options",refInFor:!0,attrs:{type:t.ButtonType.ACTION,label:t.$t(t.a11yOptionConfig[e].label),icon:t.a11yOptionConfig[e].icon,"is-active":t.isOptionActive(e)},on:{click:function(i){return t.handleOptionClick(e)}}})})),t._v(" "),i("LanguageSelector",{class:t.$style.languages})],2)])])]:t._e()],2),t._v(" "),i("PrimaryButton",{ref:"closeButton",class:t.$style.close,attrs:{type:t.ButtonType.ACTION,icon:"close-outlined","aria-label":"Close"},on:{click:function(){return t.setIsAccessibilityModalVisible(!1)}}})],1)}),[],!1,(function(t){this.$style=Oh.default.locals||Oh.default}),null,null).exports;class Ih extends D.AbstractTransitionController{setVolumeState(t,e=!1){const{soundButton:i}=this.parentController.$refs,s=i.$el.querySelector(".on-state"),a=i.$el.querySelector(".off-state");t>0?(U.default.to(a,{transformOrigin:"50% 50%",scale:0,duration:e?0:.4,ease:"power2.out"}),U.default.to(s,{transformOrigin:"0% 50%",scale:1,xPercent:0,duration:e?0:.4,ease:"power2.out"})):(U.default.to(s,{transformOrigin:"0% 50%",scale:0,xPercent:-150,duration:e?0:.4,ease:"power2.out"}),U.default.to(a,{transformOrigin:"50% 50%",scale:1,duration:e?0:.4,ease:"power2.out"}))}setupTransitionInTimeline(t,e,i){const{soundButton:s,a11yButton:a}=e.$refs;t.add(this.getTimeline(a)),t.add(this.getTimeline(s),.07)}setupTransitionOutTimeline(t,e,i){}setupLoopingAnimationTimeline(t,e,i){}}var Mh={name:"SecondaryNavigation",components:{PrimaryButton:xe},extends:D.AbstractTransitionComponent,computed:{...Object(B.d)({volume:({app:t})=>t.volume,isSecondaryNavigationVisible:({app:t})=>t.isSecondaryNavigationVisible,isAccessibilityModalVisible:({a11y:t})=>t.isAccessibilityModalVisible})},watch:{async isAccessibilityModalVisible(t){!1===t&&(await this.$nextTick(),this.$refs.a11yButton.$el.focus())},volume(){this.transitionController.setVolumeState(this.volume)}},methods:{...Object(B.c)({setIsAccessibilityModalVisible:"a11y/setIsAccessibilityModalVisible",setVolume:"app/setVolume"}),handleAllComponentsReady(){this.transitionController=new Ih(this),this.transitionController.setVolumeState(this.volume,!0),this.transitionIn(),this.isReady()},onMuteClick(){this.setVolume(),Wt("nav_mute",{room:Zt(this.$route)})},onAccessibilityOptionsClick(){this.setIsAccessibilityModalVisible(!0),Wt("nav_settings",{room:Zt(this.$route)})}}},Ch=i(357);var Lh,Ph=Object(T.a)(Mh,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("nav",{directives:[{name:"show",rawName:"v-show",value:t.isSecondaryNavigationVisible,expression:"isSecondaryNavigationVisible"}],class:[t.$style.secondaryNavigation]},[i("ul",{class:t.$style.list},[i("li",{class:t.$style.item},[i("PrimaryButton",{ref:"a11yButton",class:t.$style.a11yButton,attrs:{type:t.ButtonType.ACTION,"small-alternate-theme":!0,icon:"settings","aria-label":t.$t("menu.accessibilityOptions")},on:{click:t.onAccessibilityOptionsClick}})],1),t._v(" "),i("li",{class:t.$style.item},[i("PrimaryButton",{ref:"soundButton",class:t.$style.sound,attrs:{type:t.ButtonType.ACTION,"small-alternate-theme":!0,icon:"sound","aria-label":t.$t("menu.changeSoundVolume")},on:{click:t.onMuteClick}})],1)])])}),[],!1,(function(t){this.$style=Ch.default.locals||Ch.default}),null,null).exports,Nh=i(500),Dh=i.n(Nh);!function(t){t[t.TEXT_1=0]="TEXT_1",t[t.TEXT_2=1]="TEXT_2",t[t.TEXT_3=2]="TEXT_3",t[t.GETTY_PRESENTS=3]="GETTY_PRESENTS",t[t.LOGO_SCREEN=4]="LOGO_SCREEN"}(Lh||(Lh={}));var Bh=Lh;class Fh extends D.AbstractTransitionController{showCurrentContent(t,e){const i=U.default.timeline(),s=this.parentController.$refs["intro"+(e+1)],a=this.parentController.$refs["intro"+(t+1)];switch(e>=Bh.TEXT_1&&s&&i.add(se(s)),t){case Bh.LOGO_SCREEN:i.add(this.getEndscreenTimeline(a));break;case Bh.GETTY_PRESENTS:i.add(this.getGettyPresentsTimeline(a));break;default:i.add(ie(a,{duration:.05,clearProps:!1})),i.add(me(a.querySelector("[ data-text]"),!1,!1,!0),"<")}return i}setupTransitionInTimeline(t,e,i){t.add(ie(e.$el))}setupTransitionOutTimeline(t,e,i){const{texts:s}=e.$refs;t.add(se(s))}setupLoopingAnimationTimeline(t,e,i){}getSiteNameTimeline(t){const e=U.default.timeline(),[i,s]=[...t.querySelectorAll(".word")],a=[...i.querySelectorAll(".letter")];return e.fromTo(i,{transformOrigin:"50% 50%",scale:1.2,x:"-1.5em"},{scale:1,x:0,duration:1,ease:re.JorisInOut,clearProps:"scale,x"}),e.fromTo(a,{transformOrigin:"50% 5em",rotation:12,x:"1.5em",y:"2.5em",scale:.9},{rotation:0,x:0,y:0,scale:1,duration:1,ease:re.JorisInOut,stagger:.025,clearProps:"transform"},"<"),e.add(ie(a,{stagger:.025,duration:.65}),"<"),e.fromTo(s,{opacity:0,yPercent:50},{opacity:1,yPercent:0,duration:.8,ease:"power3.out",clearProps:"yPercent,opacity"},"<0.5"),e}getEndscreenTimeline(t){const e=U.default.timeline(),{siteName:i,enterButton:s,enterInstruction:a}=this.parentController.$refs,{enterOutline:n}=this.parentController.$refs;return e.add(ie(t,{duration:.01,clearProps:!1})),e.add(this.getSiteNameTimeline(i),"<"),e.fromTo(s,{scale:.8,opacity:0},{scale:1,opacity:1,duration:.8,ease:"power3.out",clearProps:"scale,opacity"},"<0.15"),e.add(this.getTimeline(n),"<"),e.add(ie(a,{duration:.8,clearProps:!1}),"<2.5"),e}getGettyPresentsTimeline(t){const e=U.default.timeline(),{gettyLogo:i}=this.parentController.$refs,s=t.querySelector("[data-text]");return e.add(ie(t,{duration:.05,clearProps:!1})),e.fromTo([i.$el,s],{transformOrigin:"50% 50%",scale:1.2},{scale:1,duration:.8,ease:"power4.out",stagger:.075,clearProps:"scale,x"},"<"),e.fromTo([i.$el,s],{yPercent:40},{yPercent:0,duration:.8,ease:re.JorisInOut,stagger:.075,clearProps:"yPercent"},"<"),e}}var $h=zs;const Uh=Object.keys(Bh).filter(isNaN).length;var kh={name:"IntroductionSequence",components:{ScrollPage:vt,LoaderProgressRing:Kl,ScrollIndicator:Xs,IndicatorOutline:$h},extends:D.AbstractTransitionComponent,data:()=>({isTouch:W,currentTitleIndex:-1,isScrollInstructionVisible:!1,isScrollLocked:!0,imageLoadProgress:0,allImagesLoaded:!1}),computed:{introLines(){return this.$store.getters.translation.preloader.introCopy}},watch:{currentTitleIndex(t,e){if(this.transitionController.showCurrentContent(t,e).then(()=>{t>=Bh.LOGO_SCREEN&&this.loadAndGotoScene()}),this.isScrollLocked=!0,!(t>=Bh.LOGO_SCREEN))return t!==Bh.TEXT_3||this.allImagesLoaded?void setTimeout(()=>{this.isScrollLocked=!1},500):(this.$refs.loader.transitionIn(),void this.$refs.loader.start())},async allImagesLoaded(t){t&&(await this.$refs.loader.transitionOut(),this.$refs.loader.stop(),this.isScrollLocked=!1)}},methods:{handleAllComponentsReady(){this.transitionController=new Fh(this),this.isReady()},showNextImage(){this.currentImageIndex=Math.min(Array.from({length:4}).map((t,e)=>Wi(`{$versionRoot}image/intro/intro-${(e+1).toString().padStart(4,"0")}.jpg`,p("configManager").getVariable(S.VERSIONED_STATIC_ROOT))).length-1,this.currentImageIndex+1)},activate(){this.currentTitleIndex+=1,setTimeout(()=>{this.isScrollLocked=!1,this.isScrollInstructionVisible=!0},500),this.loadHomePageImages()},onScrollProgress(t){this.isScrollInstructionVisible=t<.1;const e=1/(Uh-1);this.currentTitleIndex=Math.floor(t/e),this.$webgl.setPreloaderProgress(U.gsap.utils.interpolate(.5,1,t))},async onStartClick(){await this.transitionOut(),Wt("intro_enter"),this.$emit("complete")},getCurrentSceneId(){var t;const e=null!==(t=this.$route.params[this.Params.SLUG])&&void 0!==t?t:Xt.GATE_OF_ALL_NATIONS,i=Object.keys(Mc).find(t=>t===e);return i?Mc[i].sceneId:mr.GATE_OF_ALL_NATIONS},preloadScene(){return new Promise(t=>{this.$webgl.preloadScene(this.getCurrentSceneId(),()=>{},t)})},loadAndGotoScene(){this.$webgl.loadAndPlayScene(this.getCurrentSceneId(),()=>{},()=>{this.$webgl.pause()})},async loadHomePageImages(){this.introLoader=new Dh.a({assets:[Io()],onAssetLoaded:()=>{this.imageLoadProgress=1}}),await Promise.all([this.preloadScene(),this.introLoader.load()]),this.allImagesLoaded=!0}}},Vh=i(358);var zh=Object(T.a)(kh,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["abs-fill",t.$style.introductionSequence]},[i("ScrollPage",{class:t.$style.scroll,attrs:{direction:t.Direction.VERTICAL,"is-locked":t.isScrollLocked,"show-progress":!0},on:{progress:t.onScrollProgress}},[i("div",{class:t.$style.scrollContent})]),t._v(" "),i("ScrollIndicator",{class:t.$style.scrollIndicator,attrs:{"is-active":t.isScrollInstructionVisible,"enable-aria":!1,"aria-label":t.$t("scene.scrollToContinue"),label:"scene.scrollToContinue"}}),t._v(" "),i("ul",{ref:"texts",class:t.$style.texts},[i("li",{ref:"intro1"},[i("h3",{class:["heading-04",t.$style.text],attrs:{"data-text":""},domProps:{innerHTML:t._s(t.introLines[0])}})]),t._v(" "),i("li",{ref:"intro2"},[i("h3",{class:["heading-04",t.$style.text],attrs:{"data-text":""},domProps:{innerHTML:t._s(t.introLines[1])}})]),t._v(" "),i("li",{ref:"intro3"},[i("h3",{class:["heading-04",t.$style.text],attrs:{"data-text":""},domProps:{innerHTML:t._s(t.introLines[2])}})]),t._v(" "),i("li",{ref:"intro4"},[i("h3",{class:["heading-04",t.$style.text]},[i("Icon",{ref:"gettyLogo",class:t.$style.gettyLogo,attrs:{name:"getty-logo"}}),t._v(" "),i("span",{class:t.$style.presents,attrs:{"data-text":""},domProps:{innerHTML:t._s(t.introLines[3])}})],1)]),t._v(" "),i("li",{ref:"intro5"},[i("h1",{ref:"siteName",class:t.$style.siteName,attrs:{"aria-label":t.$t("preloader.name")+" "+t.$t("preloader.nameSuffix")}},[i("Icon",{attrs:{name:"site-name"}})],1),t._v(" "),i("button",{ref:"enterButton",class:["button heading-05",t.$style.enterButton],on:{click:t.onStartClick}},[i("IndicatorOutline",{ref:"enterOutline",attrs:{"aria-hidden":"true"}}),t._v(" "),i("span",{class:["abs-fill",t.$style.enterHoverWrapper]},[i("span",{class:t.$style.enterHover})]),t._v(" "),i("span",{class:t.$style.enterLabel},[t._v(t._s(t.$t("preloader.startCallToAction")))])],1)])]),t._v(" "),i("p",{ref:"enterInstruction",class:["copy-cta",t.$style.enterInstruction]},[t._v("\n    "+t._s(t.$t("preloader."+(t.isTouch()?"tapToEnter":"clickToEnter")))+"\n  ")]),t._v(" "),i("div",{class:["abs-fill",t.$style.loaderRing]},[i("LoaderProgressRing",{ref:"loader",attrs:{progress:Math.round(100*t.imageLoadProgress)}})],1)],1)}),[],!1,(function(t){this.$style=Vh.default.locals||Vh.default}),null,null).exports;class Hh extends D.AbstractTransitionController{setupTransitionInTimeline(t,e,i){const{sceneButton:s}=e.$refs;t.add(ie(e.$el)),t.add(this.getTimeline(s))}setupTransitionOutTimeline(t,e,i){t.add(se(e.$el))}setupLoopingAnimationTimeline(t,e,i){}}var Gh={name:"ArtIndexInfoOverlay",components:{PrimaryButton:xe},extends:D.AbstractTransitionComponent,props:{artwork:jc()},computed:{sceneName(){return this.$t(Mc[this.artwork.scene].name+".name")}},methods:{handleAllComponentsReady(){this.transitionController=new Hh(this),this.transitionIn(),this.isReady()},gotoScene(){this.close(),this.$emit("gotoScene",this.artwork.scene)},async close(){await this.transitionOut(),this.$emit("close")}}},Xh=i(359);var jh={name:"App",components:{SitePreloader:tc,SiteHeader:nc,MainNavigation:ch,CanvasContainer:cc,AboutTheProject:ph,TextIconButton:qc,CustomCursor:Ah,SecondaryNavigation:Ph,AccessibilityOptionsModal:Sh,ArtDetailModal:zl,ArtIndexInfoOverlay:Object(T.a)(Gh,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["abs-fill",t.$style.artIndexInfoOverlay]},[i("span"),t._v(" "),i("div",[i("h3",{class:["heading-04 small",t.$style.title],domProps:{innerHTML:t._s(t.$t("artIndex."+t.artwork.title))}}),t._v(" "),i("p",{class:["copy-medium scale serif",t.$style.description],domProps:{innerHTML:t._s(t.$t("artIndex."+t.artwork.description))}})]),t._v(" "),i("footer",{class:t.$style.footer},[i("PrimaryButton",{ref:"sceneButton",attrs:{type:t.ButtonType.ACTION,label:t.$t("menu.seeArtIn",{scene:t.sceneName})},on:{click:t.gotoScene}}),t._v(" "),i("button",{class:["button copy-cta",t.$style.close],on:{click:t.close}},[t._v("\n      Close\n    ")])],1)])}),[],!1,(function(t){this.$style=Xh.default.locals||Xh.default}),null,null).exports,IntroductionSequence:zh},extends:D.AbstractRegistrableComponent,data:()=>({isPreloaded:!1,isIntroPlayed:!1,canShowWebGl:!1,artIndexInfoOverlay:null}),computed:{...Object(B.d)({deviceState:({app:t})=>t.deviceState,volume:t=>t.app.volume,isNavigationOpen:({app:t})=>t.isNavigationOpen,isSecondaryNavigationVisible:({app:t})=>t.isSecondaryNavigationVisible,isAccessibilityModalVisible:({a11y:t})=>t.isAccessibilityModalVisible,currentActiveHotspot:({app:t})=>t.currentActiveHotspot}),isMainCovered(){return this.isAccessibilityModalVisible||this.isNavigationOpen},isFullNavigationVisible(){return this.isPreloaded&&this.isIntroPlayed&&this.$route.name===this.RouteNames.EXPERIENCE}},watch:{async currentActiveHotspot(t){await this.$nextTick(),null===t&&this.$refs.main.focus()},volume(t){this.$sound.muteAllChannels(0===t,document.hidden),this.$audioPlayer.setVolume(t)}},created(){this.$route.name!==this.RouteNames.HOME&&(this.isIntroPlayed=!0),this.$music.updateScene("intro"),this.disposables=new N.DisposableManager,this.disposables.add(function(){const t=()=>{const{innerHeight:t}=window;document.documentElement.style.setProperty("--vh",.01*t+"px")};return t(),rt(document.body,P()(t,150))}()),this.disposables.add(Object(it.addEventListener)(this.$deviceStateTracker,zo.DeviceStateEvent.STATE_UPDATE,this.handleDeviceStateUpdate)),this.setDeviceState(this.$deviceStateTracker.currentState),this.disposables.add(Object(it.addEventListener)(this.$sound,wl.types.CONTEXT_UNLOCKED,this.onSoundContextUnlocked)),this.disposables.add(Object(it.addEventListener)(document,"visibilitychange",this.onVisibilityChange)),this.disposables.add(rt(this.$el,P()(this.onWindowResize,300),!0))},beforeDestroy(){this.disposables.dispose()},methods:{...Object(B.c)({setDeviceState:"app/setDeviceState",toggleAboutTheProject:"app/setToggleAboutTheProject",setIsCloseActive:Vt,setVolume:"app/setVolume"}),handleDeviceStateUpdate(t){this.setDeviceState(t.data.state)},onLeave(t,e){D.FlowManager.transitionOut.then(()=>D.FlowManager.done()).then(e)},onIntroLoaded(){this.canShowWebGl=!0,this.$refs.introduction&&this.$refs.introduction.transitionIn()},onPreloadComplete(){this.isPreloaded=!0,this.isIntroPlayed?this.$refs.introduction&&this.$refs.introduction.transitionOut():this.$refs.introduction.activate()},onIntroComplete(){this.isIntroPlayed=!0},onPreloaded(){this.hasReceivedPreloadedEvent=!0,0===this.volume&&this.$sound.muteAllChannels(!0),this.$audioPlayer.setVolume(this.volume),this.isSoundContextUnlocked&&this.$music.start()},onVisibilityChange(){document.hidden?(this.currentVolume=this.volume,setTimeout(()=>{!this.muted&&document.hidden&&this.setVolume(0)},500)):this.setVolume(this.currentVolume)},onSoundContextUnlocked(){this.isSoundContextUnlocked=!0,this.hasReceivedPreloadedEvent&&this.$music.start()},onWindowResize({width:t,height:e}){this.$store.commit("app/setWindowHeight",e),this.$store.commit("app/setWindowWidth",t)},activateAboutTheProject(){this.toggleAboutTheProject(),this.setIsCloseActive({active:!0,callback:()=>this.toggleAboutTheProject(!1)})},onArtInfoOverlayClose(){this.artIndexInfoOverlay=null}}},Wh=i(360);var Yh=Object(T.a)(jh,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:[t.$style.app]},[i("SiteHeader",{attrs:{"is-preloaded":t.isPreloaded,"is-close-clickable":!t.isFullNavigationVisible,inert:t.isAccessibilityModalVisible}}),t._v(" "),t.isPreloaded&&t.isIntroPlayed?i("MainNavigation",{ref:"navigation",attrs:{"aria-label":t.$t("menu.primary"),inert:t.isAccessibilityModalVisible},on:{openAbout:t.activateAboutTheProject,showArtworkInfo:function(e){return t.artIndexInfoOverlay=e}}}):t._e(),t._v(" "),i("div",{attrs:{inert:t.isMainCovered}},[i("main",{ref:"main",attrs:{tabindex:"-1"}},[i("CanvasContainer",{class:[t.$style.canvas,t.canShowWebGl&&t.$style.isPreloaded],on:{preloaderLoaded:t.onIntroLoaded}}),t._v(" "),t.isIntroPlayed?t._e():i("IntroductionSequence",{ref:"introduction",on:{complete:t.onIntroComplete}}),t._v(" "),t.isPreloaded?t._e():i("SitePreloader",{on:{preloaded:t.onPreloaded,complete:t.onPreloadComplete}}),t._v(" "),i("transition",{on:{leave:t.onLeave}},[t.isPreloaded&&t.isIntroPlayed?i("router-view",{class:[t.$style.routerView,t.isNavigationOpen&&t.$style.hidden]}):t._e()],1)],1),t._v(" "),t.isFullNavigationVisible?i("nav",{class:[t.$style.aboutButton,(t.isNavigationOpen||!t.isSecondaryNavigationVisible)&&t.$style.hidden],attrs:{"aria-label":t.$t("menu.secondary"),inert:t.isNavigationOpen||!t.isSecondaryNavigationVisible}},[i("TextIconButton",{attrs:{label:t.$t("menu.about"),icon:"arrow-right"},on:{click:t.activateAboutTheProject}})],1):t._e()]),t._v(" "),i("SecondaryNavigation",{attrs:{"aria-label":t.$t("menu.options"),inert:t.isAccessibilityModalVisible}}),t._v(" "),t.isPreloaded&&t.isIntroPlayed?i("AboutTheProject"):t._e(),t._v(" "),i("AccessibilityOptionsModal"),t._v(" "),t.isPreloaded&&t.isIntroPlayed?i("ArtDetailModal"):t._e(),t._v(" "),t.isPreloaded&&t.isIntroPlayed?i("CustomCursor"):t._e(),t._v(" "),t.artIndexInfoOverlay?i("ArtIndexInfoOverlay",{attrs:{artwork:t.artIndexInfoOverlay},on:{gotoScene:function(e){return t.$refs.navigation.gotoScene(e)},close:t.onArtInfoOverlayClose}}):t._e()],1)}),[],!1,(function(t){this.$style=Wh.default.locals||Wh.default}),null,null).exports,Zh={};const qh=navigator.languages.map(t=>t.replace("-","_")),Kh=new Map;Kh.set("ar",{locales:["ar"],language:"ar",dir:"rtl"}),Kh.set("en_US",{locales:["en","en_GB","en_US"],language:"en"}),Kh.set("es",{locales:["es","es_AR","es_CL","es_CO","es_CR"],language:"es"}),Kh.set("fa",{locales:["fa"],language:"fa",dir:"rtl"}),Kh.set("fr",{locales:["fr","fr_CA","fr_FR","fr_CH"],language:"fr"}),Kh.set("hi",{locales:["hi"],language:"hi"}),Kh.set("zh_Hans",{locales:["zh","zh_CN"],language:"zh_cs"}),Kh.set("zh_Hant",{locales:["zh_TW"],language:"zh_ct"});const Qh=[...Kh.keys()];Object.keys(Zh).forEach(t=>s.default.filter(t,Zh[t])),Object.keys(g).forEach(t=>s.default.directive(t,g[t])),Object.keys(y).forEach(t=>s.default.component(t,y[t])),Sl(),window.webpackPublicPath&&(i.p=window.webpackPublicPath);const Jh=Uo(),td=Xi(),ed=M();ed.localeEnabled&&(ed.config.defaultCode=function(){let t="en_US";qh.find(e=>{const i=Qh.find(t=>Kh.get(t).locales.includes(e));return i&&(t=i),!!i});const e=new URL(document.location.href).searchParams.get("locale");return e&&Qh.includes(e)&&(t=e),t}(),function(t){var e;const i=Kh.get(t);i&&(document.documentElement.setAttribute("lang",i.language),document.documentElement.setAttribute("dir",null!==(e=i.dir)&&void 0!==e?e:"ltr"))}(ed.config.defaultCode),s.default.use(n.a,{store:td,router:ed.localeRoutingEnabled?Jh:null,config:ed.config,proxy:el}),s.default.initI18nManager()),Object(r.sync)(td,Jh);const id=new s.default({router:Jh,store:td,render:t=>t(Yh)});sl(td).then(()=>{id.$mount("#app")})}]);